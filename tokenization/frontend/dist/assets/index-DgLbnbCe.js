function iy(o,e){for(var i=0;i<e.length;i++){const r=e[i];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in o)){const c=Object.getOwnPropertyDescriptor(r,l);c&&Object.defineProperty(o,l,c.get?c:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Mp(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Wu={exports:{}},Ts={};var Dm;function ay(){if(Dm)return Ts;Dm=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var u=null;if(c!==void 0&&(u=""+c),l.key!==void 0&&(u=""+l.key),"key"in l){c={};for(var h in l)h!=="key"&&(c[h]=l[h])}else c=l;return l=c.ref,{$$typeof:o,type:r,key:u,ref:l!==void 0?l:null,props:c}}return Ts.Fragment=e,Ts.jsx=i,Ts.jsxs=i,Ts}var zm;function ry(){return zm||(zm=1,Wu.exports=ay()),Wu.exports}var I=ry(),Ju={exports:{}},vt={};var Um;function sy(){if(Um)return vt;Um=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=x&&N[x]||N["@@iterator"],typeof N=="function"?N:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,C={};function D(N,H,V){this.props=N,this.context=H,this.refs=C,this.updater=V||S}D.prototype.isReactComponent={},D.prototype.setState=function(N,H){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,H,"setState")},D.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Y(){}Y.prototype=D.prototype;function q(N,H,V){this.props=N,this.context=H,this.refs=C,this.updater=V||S}var W=q.prototype=new Y;W.constructor=q,k(W,D.prototype),W.isPureReactComponent=!0;var $=Array.isArray;function st(){}var et={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function ut(N,H,V){var Z=V.ref;return{$$typeof:o,type:N,key:H,ref:Z!==void 0?Z:null,props:V}}function Bt(N,H){return ut(N.type,H,N.props)}function kt(N){return typeof N=="object"&&N!==null&&N.$$typeof===o}function yt(N){var H={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(V){return H[V]})}var Ot=/\/+/g;function Ht(N,H){return typeof N=="object"&&N!==null&&N.key!=null?yt(""+N.key):H.toString(36)}function tt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(st,st):(N.status="pending",N.then(function(H){N.status==="pending"&&(N.status="fulfilled",N.value=H)},function(H){N.status==="pending"&&(N.status="rejected",N.reason=H)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function A(N,H,V,Z,nt){var lt=typeof N;(lt==="undefined"||lt==="boolean")&&(N=null);var ct=!1;if(N===null)ct=!0;else switch(lt){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(N.$$typeof){case o:case e:ct=!0;break;case y:return ct=N._init,A(ct(N._payload),H,V,Z,nt)}}if(ct)return nt=nt(N),ct=Z===""?"."+Ht(N,0):Z,$(nt)?(V="",ct!=null&&(V=ct.replace(Ot,"$&/")+"/"),A(nt,H,V,"",function(ke){return ke})):nt!=null&&(kt(nt)&&(nt=Bt(nt,V+(nt.key==null||N&&N.key===nt.key?"":(""+nt.key).replace(Ot,"$&/")+"/")+ct)),H.push(nt)),1;ct=0;var wt=Z===""?".":Z+":";if($(N))for(var Mt=0;Mt<N.length;Mt++)Z=N[Mt],lt=wt+Ht(Z,Mt),ct+=A(Z,H,V,lt,nt);else if(Mt=w(N),typeof Mt=="function")for(N=Mt.call(N),Mt=0;!(Z=N.next()).done;)Z=Z.value,lt=wt+Ht(Z,Mt++),ct+=A(Z,H,V,lt,nt);else if(lt==="object"){if(typeof N.then=="function")return A(tt(N),H,V,Z,nt);throw H=String(N),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ct}function L(N,H,V){if(N==null)return N;var Z=[],nt=0;return A(N,Z,"","",function(lt){return H.call(V,lt,nt++)}),Z}function K(N){if(N._status===-1){var H=N._result;H=H(),H.then(function(V){(N._status===0||N._status===-1)&&(N._status=1,N._result=V)},function(V){(N._status===0||N._status===-1)&&(N._status=2,N._result=V)}),N._status===-1&&(N._status=0,N._result=H)}if(N._status===1)return N._result.default;throw N._result}var dt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},bt={map:L,forEach:function(N,H,V){L(N,function(){H.apply(this,arguments)},V)},count:function(N){var H=0;return L(N,function(){H++}),H},toArray:function(N){return L(N,function(H){return H})||[]},only:function(N){if(!kt(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return vt.Activity=b,vt.Children=bt,vt.Component=D,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=q,vt.StrictMode=r,vt.Suspense=m,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et,vt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return et.H.useMemoCache(N)}},vt.cache=function(N){return function(){return N.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(N,H,V){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var Z=k({},N.props),nt=N.key;if(H!=null)for(lt in H.key!==void 0&&(nt=""+H.key),H)!Q.call(H,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&H.ref===void 0||(Z[lt]=H[lt]);var lt=arguments.length-2;if(lt===1)Z.children=V;else if(1<lt){for(var ct=Array(lt),wt=0;wt<lt;wt++)ct[wt]=arguments[wt+2];Z.children=ct}return ut(N.type,nt,Z)},vt.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},vt.createElement=function(N,H,V){var Z,nt={},lt=null;if(H!=null)for(Z in H.key!==void 0&&(lt=""+H.key),H)Q.call(H,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(nt[Z]=H[Z]);var ct=arguments.length-2;if(ct===1)nt.children=V;else if(1<ct){for(var wt=Array(ct),Mt=0;Mt<ct;Mt++)wt[Mt]=arguments[Mt+2];nt.children=wt}if(N&&N.defaultProps)for(Z in ct=N.defaultProps,ct)nt[Z]===void 0&&(nt[Z]=ct[Z]);return ut(N,lt,nt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(N){return{$$typeof:h,render:N}},vt.isValidElement=kt,vt.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:K}},vt.memo=function(N,H){return{$$typeof:p,type:N,compare:H===void 0?null:H}},vt.startTransition=function(N){var H=et.T,V={};et.T=V;try{var Z=N(),nt=et.S;nt!==null&&nt(V,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(st,dt)}catch(lt){dt(lt)}finally{H!==null&&V.types!==null&&(H.types=V.types),et.T=H}},vt.unstable_useCacheRefresh=function(){return et.H.useCacheRefresh()},vt.use=function(N){return et.H.use(N)},vt.useActionState=function(N,H,V){return et.H.useActionState(N,H,V)},vt.useCallback=function(N,H){return et.H.useCallback(N,H)},vt.useContext=function(N){return et.H.useContext(N)},vt.useDebugValue=function(){},vt.useDeferredValue=function(N,H){return et.H.useDeferredValue(N,H)},vt.useEffect=function(N,H){return et.H.useEffect(N,H)},vt.useEffectEvent=function(N){return et.H.useEffectEvent(N)},vt.useId=function(){return et.H.useId()},vt.useImperativeHandle=function(N,H,V){return et.H.useImperativeHandle(N,H,V)},vt.useInsertionEffect=function(N,H){return et.H.useInsertionEffect(N,H)},vt.useLayoutEffect=function(N,H){return et.H.useLayoutEffect(N,H)},vt.useMemo=function(N,H){return et.H.useMemo(N,H)},vt.useOptimistic=function(N,H){return et.H.useOptimistic(N,H)},vt.useReducer=function(N,H,V){return et.H.useReducer(N,H,V)},vt.useRef=function(N){return et.H.useRef(N)},vt.useState=function(N){return et.H.useState(N)},vt.useSyncExternalStore=function(N,H,V){return et.H.useSyncExternalStore(N,H,V)},vt.useTransition=function(){return et.H.useTransition()},vt.version="19.2.1",vt}var Hm;function Af(){return Hm||(Hm=1,Ju.exports=sy()),Ju.exports}var j=Af();const J=Mp(j),Of=iy({__proto__:null,default:J},[j]);var $u={exports:{}},ks={},tf={exports:{}},ef={};var Lm;function oy(){return Lm||(Lm=1,(function(o){function e(A,L){var K=A.length;A.push(L);t:for(;0<K;){var dt=K-1>>>1,bt=A[dt];if(0<l(bt,L))A[dt]=L,A[K]=bt,K=dt;else break t}}function i(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var L=A[0],K=A.pop();if(K!==L){A[0]=K;t:for(var dt=0,bt=A.length,N=bt>>>1;dt<N;){var H=2*(dt+1)-1,V=A[H],Z=H+1,nt=A[Z];if(0>l(V,K))Z<bt&&0>l(nt,V)?(A[dt]=nt,A[Z]=K,dt=Z):(A[dt]=V,A[H]=K,dt=H);else if(Z<bt&&0>l(nt,K))A[dt]=nt,A[Z]=K,dt=Z;else break t}}return L}function l(A,L){var K=A.sortIndex-L.sortIndex;return K!==0?K:A.id-L.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;o.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();o.unstable_now=function(){return u.now()-h}}var m=[],p=[],y=1,b=null,x=3,w=!1,S=!1,k=!1,C=!1,D=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function W(A){for(var L=i(p);L!==null;){if(L.callback===null)r(p);else if(L.startTime<=A)r(p),L.sortIndex=L.expirationTime,e(m,L);else break;L=i(p)}}function $(A){if(k=!1,W(A),!S)if(i(m)!==null)S=!0,st||(st=!0,yt());else{var L=i(p);L!==null&&tt($,L.startTime-A)}}var st=!1,et=-1,Q=5,ut=-1;function Bt(){return C?!0:!(o.unstable_now()-ut<Q)}function kt(){if(C=!1,st){var A=o.unstable_now();ut=A;var L=!0;try{t:{S=!1,k&&(k=!1,Y(et),et=-1),w=!0;var K=x;try{e:{for(W(A),b=i(m);b!==null&&!(b.expirationTime>A&&Bt());){var dt=b.callback;if(typeof dt=="function"){b.callback=null,x=b.priorityLevel;var bt=dt(b.expirationTime<=A);if(A=o.unstable_now(),typeof bt=="function"){b.callback=bt,W(A),L=!0;break e}b===i(m)&&r(m),W(A)}else r(m);b=i(m)}if(b!==null)L=!0;else{var N=i(p);N!==null&&tt($,N.startTime-A),L=!1}}break t}finally{b=null,x=K,w=!1}L=void 0}}finally{L?yt():st=!1}}}var yt;if(typeof q=="function")yt=function(){q(kt)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,Ht=Ot.port2;Ot.port1.onmessage=kt,yt=function(){Ht.postMessage(null)}}else yt=function(){D(kt,0)};function tt(A,L){et=D(function(){A(o.unstable_now())},L)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(A){A.callback=null},o.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<A?Math.floor(1e3/A):5},o.unstable_getCurrentPriorityLevel=function(){return x},o.unstable_next=function(A){switch(x){case 1:case 2:case 3:var L=3;break;default:L=x}var K=x;x=L;try{return A()}finally{x=K}},o.unstable_requestPaint=function(){C=!0},o.unstable_runWithPriority=function(A,L){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var K=x;x=A;try{return L()}finally{x=K}},o.unstable_scheduleCallback=function(A,L,K){var dt=o.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?dt+K:dt):K=dt,A){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=K+bt,A={id:y++,callback:L,priorityLevel:A,startTime:K,expirationTime:bt,sortIndex:-1},K>dt?(A.sortIndex=K,e(p,A),i(m)===null&&A===i(p)&&(k?(Y(et),et=-1):k=!0,tt($,K-dt))):(A.sortIndex=bt,e(m,A),S||w||(S=!0,st||(st=!0,yt()))),A},o.unstable_shouldYield=Bt,o.unstable_wrapCallback=function(A){var L=x;return function(){var K=x;x=L;try{return A.apply(this,arguments)}finally{x=K}}}})(ef)),ef}var Vm;function ly(){return Vm||(Vm=1,tf.exports=oy()),tf.exports}var nf={exports:{}},_e={};var Pm;function cy(){if(Pm)return _e;Pm=1;var o=Af();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:m,containerInfo:p,implementation:y}}var u=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return _e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_e.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(m,p,null,y)},_e.flushSync=function(m){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=p,r.p=y,r.d.f()}},_e.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},_e.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},_e.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,b=h(y,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:w}):y==="script"&&r.d.X(m,{crossOrigin:b,integrity:x,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},_e.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},_e.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=h(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},_e.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},_e.requestFormReset=function(m){r.d.r(m)},_e.unstable_batchedUpdates=function(m,p){return m(p)},_e.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},_e.useFormStatus=function(){return u.H.useHostTransitionStatus()},_e.version="19.2.1",_e}var jm;function Bp(){if(jm)return nf.exports;jm=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),nf.exports=cy(),nf.exports}var qm;function uy(){if(qm)return ks;qm=1;var o=ly(),e=Af(),i=Bp();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function u(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(r(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,s=n;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(s=f.return,s!==null){a=s;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),t;if(d===s)return m(f),n;d=d.sibling}throw Error(r(188))}if(a.return!==s.return)a=f,s=d;else{for(var g=!1,v=f.child;v;){if(v===a){g=!0,a=f,s=d;break}if(v===s){g=!0,s=f,a=d;break}v=v.sibling}if(!g){for(v=d.child;v;){if(v===a){g=!0,a=d,s=f;break}if(v===s){g=!0,s=d,a=f;break}v=v.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==s)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),q=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ut=Symbol.for("react.activity"),Bt=Symbol.for("react.memo_cache_sentinel"),kt=Symbol.iterator;function yt(t){return t===null||typeof t!="object"?null:(t=kt&&t[kt]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Symbol.for("react.client.reference");function Ht(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ot?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case D:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case st:return"SuspenseList";case ut:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case q:return t.displayName||"Context";case Y:return(t._context.displayName||"Context")+".Consumer";case W:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case et:return n=t.displayName||null,n!==null?n:Ht(t.type)||"Memo";case Q:n=t._payload,t=t._init;try{return Ht(t(n))}catch{}}return null}var tt=Array.isArray,A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},dt=[],bt=-1;function N(t){return{current:t}}function H(t){0>bt||(t.current=dt[bt],dt[bt]=null,bt--)}function V(t,n){bt++,dt[bt]=t.current,t.current=n}var Z=N(null),nt=N(null),lt=N(null),ct=N(null);function wt(t,n){switch(V(lt,n),V(nt,t),V(Z,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?am(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=am(n),t=rm(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(Z),V(Z,t)}function Mt(){H(Z),H(nt),H(lt)}function ke(t){t.memoizedState!==null&&V(ct,t);var n=Z.current,a=rm(n,t.type);n!==a&&(V(nt,t),V(Z,a))}function Ze(t){nt.current===t&&(H(Z),H(nt)),ct.current===t&&(H(ct),As._currentValue=K)}var Ie,Ys;function wn(t){if(Ie===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ie=n&&n[1]||"",Ys=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ie+t+Ys}var Mr=!1;function Na(t,n){if(!t||Mr)return"";Mr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(U){var z=U}Reflect.construct(t,[],X)}else{try{X.call()}catch(U){z=U}t.call(X.prototype)}}else{try{throw Error()}catch(U){z=U}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(U){if(U&&z&&typeof U.stack=="string")return[U.stack,z.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),g=d[0],v=d[1];if(g&&v){var O=g.split(`
`),B=v.split(`
`);for(f=s=0;s<O.length&&!O[s].includes("DetermineComponentFrameRoot");)s++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(s===O.length||f===B.length)for(s=O.length-1,f=B.length-1;1<=s&&0<=f&&O[s]!==B[f];)f--;for(;1<=s&&0<=f;s--,f--)if(O[s]!==B[f]){if(s!==1||f!==1)do if(s--,f--,0>f||O[s]!==B[f]){var P=`
`+O[s].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=s&&0<=f);break}}}finally{Mr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?wn(a):""}function Zi(t,n){switch(t.tag){case 26:case 27:case 5:return wn(t.type);case 16:return wn("Lazy");case 13:return t.child!==n&&n!==null?wn("Suspense Fallback"):wn("Suspense");case 19:return wn("SuspenseList");case 0:case 15:return Na(t.type,!1);case 11:return Na(t.type.render,!1);case 1:return Na(t.type,!0);case 31:return wn("Activity");default:return""}}function Br(t){try{var n="",a=null;do n+=Zi(t,a),a=t,t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Qe=Object.prototype.hasOwnProperty,Dr=o.unstable_scheduleCallback,zr=o.unstable_cancelCallback,Ce=o.unstable_shouldYield,pi=o.unstable_requestPaint,Re=o.unstable_now,Ll=o.unstable_getCurrentPriorityLevel,Qi=o.unstable_ImmediatePriority,Xs=o.unstable_UserBlockingPriority,Wi=o.unstable_NormalPriority,Ur=o.unstable_LowPriority,Kn=o.unstable_IdlePriority,Fs=o.log,bi=o.unstable_setDisableYieldValue,Ji=null,Me=null;function Sn(t){if(typeof Fs=="function"&&bi(t),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Ji,t)}catch{}}var Ae=Math.clz32?Math.clz32:Rn,Vl=Math.log,Hr=Math.LN2;function Rn(t){return t>>>=0,t===0?32:31-(Vl(t)/Hr|0)|0}var Ta=256,ka=262144,$i=4194304;function Mn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gt(t,n,a){var s=t.pendingLanes;if(s===0)return 0;var f=0,d=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var v=s&134217727;return v!==0?(s=v&~d,s!==0?f=Mn(s):(g&=v,g!==0?f=Mn(g):a||(a=v&~t,a!==0&&(f=Mn(a))))):(v=s&~d,v!==0?f=Mn(v):g!==0?f=Mn(g):a||(a=s&~t,a!==0&&(f=Mn(a)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:f}function Wt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function pe(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oe(){var t=$i;return $i<<=1,($i&62914560)===0&&($i=4194304),t}function gi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function $t(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function De(t,n,a,s,f,d){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var v=t.entanglements,O=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var P=31-Ae(a),X=1<<P;v[P]=0,O[P]=-1;var z=B[P];if(z!==null)for(B[P]=null,P=0;P<z.length;P++){var U=z[P];U!==null&&(U.lane&=-536870913)}a&=~X}s!==0&&ta(t,s,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~n))}function ta(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var s=31-Ae(n);t.entangledLanes|=n,t.entanglements[s]=t.entanglements[s]|1073741824|a&261930}function ze(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var s=31-Ae(a),f=1<<s;f&n|t[s]&n&&(t[s]|=n),a&=~f}}function Ue(t,n){var a=n&-n;return a=(a&42)!==0?1:Ia(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ia(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function En(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pl(){var t=L.p;return t!==0?t:(t=window.event,t===void 0?32:Tm(t.type))}function Kf(t,n){var a=L.p;try{return L.p=t,n()}finally{L.p=a}}var yi=Math.random().toString(36).slice(2),ve="__reactFiber$"+yi,He="__reactProps$"+yi,Ca="__reactContainer$"+yi,jl="__reactEvents$"+yi,Y1="__reactListeners$"+yi,X1="__reactHandles$"+yi,Gf="__reactResources$"+yi,Lr="__reactMarker$"+yi;function ql(t){delete t[ve],delete t[He],delete t[jl],delete t[Y1],delete t[X1]}function Ra(t){var n=t[ve];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ca]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=dm(t);t!==null;){if(a=t[ve])return a;t=dm(t)}return n}t=a,a=t.parentNode}return null}function Ma(t){if(t=t[ve]||t[Ca]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Vr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ba(t){var n=t[Gf];return n||(n=t[Gf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function be(t){t[Lr]=!0}var Yf=new Set,Xf={};function ea(t,n){Da(t,n),Da(t+"Capture",n)}function Da(t,n){for(Xf[t]=n,t=0;t<n.length;t++)Yf.add(n[t])}var F1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ff={},Zf={};function Z1(t){return Qe.call(Zf,t)?!0:Qe.call(Ff,t)?!1:F1.test(t)?Zf[t]=!0:(Ff[t]=!0,!1)}function Zs(t,n,a){if(Z1(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Qs(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Gn(t,n,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+s)}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qf(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Q1(t,n,a){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(g){a=""+g,d.call(this,g)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Kl(t){if(!t._valueTracker){var n=Qf(t)?"checked":"value";t._valueTracker=Q1(t,n,""+t[n])}}function Wf(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),s="";return t&&(s=Qf(t)?t.checked?"true":"false":t.value),t=s,t!==a?(n.setValue(t),!0):!1}function Ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var W1=/[\n"\\]/g;function sn(t){return t.replace(W1,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Gl(t,n,a,s,f,d,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+rn(n)):t.value!==""+rn(n)&&(t.value=""+rn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Yl(t,g,rn(n)):a!=null?Yl(t,g,rn(a)):s!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+rn(v):t.removeAttribute("name")}function Jf(t,n,a,s,f,d,g,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Kl(t);return}a=a!=null?""+rn(a):"",n=n!=null?""+rn(n):a,v||n===t.value||(t.value=n),t.defaultValue=n}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=v?t.checked:!!s,t.defaultChecked=!!s,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Kl(t)}function Yl(t,n,a){n==="number"&&Ws(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function za(t,n,a,s){if(t=t.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=n.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&s&&(t[a].defaultSelected=!0)}else{for(a=""+rn(a),n=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,s&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function $f(t,n,a){if(n!=null&&(n=""+rn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+rn(a):""}function td(t,n,a,s){if(n==null){if(s!=null){if(a!=null)throw Error(r(92));if(tt(s)){if(1<s.length)throw Error(r(93));s=s[0]}a=s}a==null&&(a=""),n=a}a=rn(n),t.defaultValue=a,s=t.textContent,s===a&&s!==""&&s!==null&&(t.value=s),Kl(t)}function Ua(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var J1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ed(t,n,a){var s=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":s?t.setProperty(n,a):typeof a!="number"||a===0||J1.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function nd(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var f in n)s=n[f],n.hasOwnProperty(f)&&a[f]!==s&&ed(t,f,s)}else for(var d in n)n.hasOwnProperty(d)&&ed(t,d,n[d])}function Xl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(t){return tb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var Fl=null;function Zl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ha=null,La=null;function id(t){var n=Ma(t);if(n&&(t=n.stateNode)){var a=t[He]||null;t:switch(t=n.stateNode,n.type){case"input":if(Gl(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var s=a[n];if(s!==t&&s.form===t.form){var f=s[He]||null;if(!f)throw Error(r(90));Gl(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)s=a[n],s.form===t.form&&Wf(s)}break t;case"textarea":$f(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&za(t,!!a.multiple,n,!1)}}}var Ql=!1;function ad(t,n,a){if(Ql)return t(n,a);Ql=!0;try{var s=t(n);return s}finally{if(Ql=!1,(Ha!==null||La!==null)&&(Vo(),Ha&&(n=Ha,t=La,La=Ha=null,id(n),t)))for(n=0;n<t.length;n++)id(t[n])}}function Pr(t,n){var a=t.stateNode;if(a===null)return null;var s=a[He]||null;if(s===null)return null;a=s[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wl=!1;if(Xn)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){Wl=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{Wl=!1}var vi=null,Jl=null,$s=null;function rd(){if($s)return $s;var t,n=Jl,a=n.length,s,f="value"in vi?vi.value:vi.textContent,d=f.length;for(t=0;t<a&&n[t]===f[t];t++);var g=a-t;for(s=1;s<=g&&n[a-s]===f[d-s];s++);return $s=f.slice(t,1<s?1-s:void 0)}function to(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function eo(){return!0}function sd(){return!1}function Le(t){function n(a,s,f,d,g){this._reactName=a,this._targetInst=f,this.type=s,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(a=t[v],this[v]=a?a(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?eo:sd,this.isPropagationStopped=sd,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=eo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=eo)},persist:function(){},isPersistent:eo}),n}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},no=Le(na),qr=b({},na,{view:0,detail:0}),eb=Le(qr),$l,tc,Kr,io=b({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kr&&(Kr&&t.type==="mousemove"?($l=t.screenX-Kr.screenX,tc=t.screenY-Kr.screenY):tc=$l=0,Kr=t),$l)},movementY:function(t){return"movementY"in t?t.movementY:tc}}),od=Le(io),nb=b({},io,{dataTransfer:0}),ib=Le(nb),ab=b({},qr,{relatedTarget:0}),ec=Le(ab),rb=b({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),sb=Le(rb),ob=b({},na,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lb=Le(ob),cb=b({},na,{data:0}),ld=Le(cb),ub={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},db={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hb(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=db[t])?!!n[t]:!1}function nc(){return hb}var mb=b({},qr,{key:function(t){if(t.key){var n=ub[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=to(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nc,charCode:function(t){return t.type==="keypress"?to(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?to(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pb=Le(mb),bb=b({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cd=Le(bb),gb=b({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nc}),yb=Le(gb),vb=b({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),xb=Le(vb),wb=b({},io,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sb=Le(wb),Eb=b({},na,{newState:0,oldState:0}),Ab=Le(Eb),Ob=[9,13,27,32],ic=Xn&&"CompositionEvent"in window,Gr=null;Xn&&"documentMode"in document&&(Gr=document.documentMode);var _b=Xn&&"TextEvent"in window&&!Gr,ud=Xn&&(!ic||Gr&&8<Gr&&11>=Gr),fd=" ",dd=!1;function hd(t,n){switch(t){case"keyup":return Ob.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function md(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Va=!1;function Nb(t,n){switch(t){case"compositionend":return md(n);case"keypress":return n.which!==32?null:(dd=!0,fd);case"textInput":return t=n.data,t===fd&&dd?null:t;default:return null}}function Tb(t,n){if(Va)return t==="compositionend"||!ic&&hd(t,n)?(t=rd(),$s=Jl=vi=null,Va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ud&&n.locale!=="ko"?null:n.data;default:return null}}var kb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!kb[t.type]:n==="textarea"}function bd(t,n,a,s){Ha?La?La.push(s):La=[s]:Ha=s,n=Xo(n,"onChange"),0<n.length&&(a=new no("onChange","change",null,a,s),t.push({event:a,listeners:n}))}var Yr=null,Xr=null;function Ib(t){J0(t,0)}function ao(t){var n=Vr(t);if(Wf(n))return t}function gd(t,n){if(t==="change")return n}var yd=!1;if(Xn){var ac;if(Xn){var rc="oninput"in document;if(!rc){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),rc=typeof vd.oninput=="function"}ac=rc}else ac=!1;yd=ac&&(!document.documentMode||9<document.documentMode)}function xd(){Yr&&(Yr.detachEvent("onpropertychange",wd),Xr=Yr=null)}function wd(t){if(t.propertyName==="value"&&ao(Xr)){var n=[];bd(n,Xr,t,Zl(t)),ad(Ib,n)}}function Cb(t,n,a){t==="focusin"?(xd(),Yr=n,Xr=a,Yr.attachEvent("onpropertychange",wd)):t==="focusout"&&xd()}function Rb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ao(Xr)}function Mb(t,n){if(t==="click")return ao(n)}function Bb(t,n){if(t==="input"||t==="change")return ao(n)}function Db(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var We=typeof Object.is=="function"?Object.is:Db;function Fr(t,n){if(We(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),s=Object.keys(n);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var f=a[s];if(!Qe.call(n,f)||!We(t[f],n[f]))return!1}return!0}function Sd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ed(t,n){var a=Sd(t);t=0;for(var s;a;){if(a.nodeType===3){if(s=t+a.textContent.length,t<=n&&s>=n)return{node:a,offset:n-t};t=s}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Sd(a)}}function Ad(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ad(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Od(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ws(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ws(t.document)}return n}function sc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var zb=Xn&&"documentMode"in document&&11>=document.documentMode,Pa=null,oc=null,Zr=null,lc=!1;function _d(t,n,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lc||Pa==null||Pa!==Ws(s)||(s=Pa,"selectionStart"in s&&sc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Zr&&Fr(Zr,s)||(Zr=s,s=Xo(oc,"onSelect"),0<s.length&&(n=new no("onSelect","select",null,n,a),t.push({event:n,listeners:s}),n.target=Pa)))}function ia(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ja={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},cc={},Nd={};Xn&&(Nd=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function aa(t){if(cc[t])return cc[t];if(!ja[t])return t;var n=ja[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Nd)return cc[t]=n[a];return t}var Td=aa("animationend"),kd=aa("animationiteration"),Id=aa("animationstart"),Ub=aa("transitionrun"),Hb=aa("transitionstart"),Lb=aa("transitioncancel"),Cd=aa("transitionend"),Rd=new Map,uc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uc.push("scrollEnd");function An(t,n){Rd.set(t,n),ea(n,[t])}var ro=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},on=[],qa=0,fc=0;function so(){for(var t=qa,n=fc=qa=0;n<t;){var a=on[n];on[n++]=null;var s=on[n];on[n++]=null;var f=on[n];on[n++]=null;var d=on[n];if(on[n++]=null,s!==null&&f!==null){var g=s.pending;g===null?f.next=f:(f.next=g.next,g.next=f),s.pending=f}d!==0&&Md(a,f,d)}}function oo(t,n,a,s){on[qa++]=t,on[qa++]=n,on[qa++]=a,on[qa++]=s,fc|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function dc(t,n,a,s){return oo(t,n,a,s),lo(t)}function ra(t,n){return oo(t,null,null,n),lo(t)}function Md(t,n,a){t.lanes|=a;var s=t.alternate;s!==null&&(s.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,s=d.alternate,s!==null&&(s.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&n!==null&&(f=31-Ae(a),t=d.hiddenUpdates,s=t[f],s===null?t[f]=[n]:s.push(n),n.lane=a|536870912),d):null}function lo(t){if(50<gs)throw gs=0,wu=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ka={};function Vb(t,n,a,s){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(t,n,a,s){return new Vb(t,n,a,s)}function hc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fn(t,n){var a=t.alternate;return a===null?(a=Je(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bd(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function co(t,n,a,s,f,d){var g=0;if(s=t,typeof t=="function")hc(t)&&(g=1);else if(typeof t=="string")g=Gg(t,a,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case ut:return t=Je(31,a,n,f),t.elementType=ut,t.lanes=d,t;case k:return sa(a.children,f,d,n);case C:g=8,f|=24;break;case D:return t=Je(12,a,n,f|2),t.elementType=D,t.lanes=d,t;case $:return t=Je(13,a,n,f),t.elementType=$,t.lanes=d,t;case st:return t=Je(19,a,n,f),t.elementType=st,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:g=10;break t;case Y:g=9;break t;case W:g=11;break t;case et:g=14;break t;case Q:g=16,s=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),s=null}return n=Je(g,a,n,f),n.elementType=t,n.type=s,n.lanes=d,n}function sa(t,n,a,s){return t=Je(7,t,s,n),t.lanes=a,t}function mc(t,n,a){return t=Je(6,t,null,n),t.lanes=a,t}function Dd(t){var n=Je(18,null,null,0);return n.stateNode=t,n}function pc(t,n,a){return n=Je(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var zd=new WeakMap;function ln(t,n){if(typeof t=="object"&&t!==null){var a=zd.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Br(n)},zd.set(t,n),n)}return{value:t,source:n,stack:Br(n)}}var Ga=[],Ya=0,uo=null,Qr=0,cn=[],un=0,xi=null,Bn=1,Dn="";function Zn(t,n){Ga[Ya++]=Qr,Ga[Ya++]=uo,uo=t,Qr=n}function Ud(t,n,a){cn[un++]=Bn,cn[un++]=Dn,cn[un++]=xi,xi=t;var s=Bn;t=Dn;var f=32-Ae(s)-1;s&=~(1<<f),a+=1;var d=32-Ae(n)+f;if(30<d){var g=f-f%5;d=(s&(1<<g)-1).toString(32),s>>=g,f-=g,Bn=1<<32-Ae(n)+f|a<<f|s,Dn=d+t}else Bn=1<<d|a<<f|s,Dn=t}function bc(t){t.return!==null&&(Zn(t,1),Ud(t,1,0))}function gc(t){for(;t===uo;)uo=Ga[--Ya],Ga[Ya]=null,Qr=Ga[--Ya],Ga[Ya]=null;for(;t===xi;)xi=cn[--un],cn[un]=null,Dn=cn[--un],cn[un]=null,Bn=cn[--un],cn[un]=null}function Hd(t,n){cn[un++]=Bn,cn[un++]=Dn,cn[un++]=xi,Bn=n.id,Dn=n.overflow,xi=t}var xe=null,Ft=null,Rt=!1,wi=null,fn=!1,yc=Error(r(519));function Si(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wr(ln(n,t)),yc}function Ld(t){var n=t.stateNode,a=t.type,s=t.memoizedProps;switch(n[ve]=t,n[He]=s,a){case"dialog":Tt("cancel",n),Tt("close",n);break;case"iframe":case"object":case"embed":Tt("load",n);break;case"video":case"audio":for(a=0;a<vs.length;a++)Tt(vs[a],n);break;case"source":Tt("error",n);break;case"img":case"image":case"link":Tt("error",n),Tt("load",n);break;case"details":Tt("toggle",n);break;case"input":Tt("invalid",n),Jf(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Tt("invalid",n);break;case"textarea":Tt("invalid",n),td(n,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||s.suppressHydrationWarning===!0||nm(n.textContent,a)?(s.popover!=null&&(Tt("beforetoggle",n),Tt("toggle",n)),s.onScroll!=null&&Tt("scroll",n),s.onScrollEnd!=null&&Tt("scrollend",n),s.onClick!=null&&(n.onclick=Yn),n=!0):n=!1,n||Si(t,!0)}function Vd(t){for(xe=t.return;xe;)switch(xe.tag){case 5:case 31:case 13:fn=!1;return;case 27:case 3:fn=!0;return;default:xe=xe.return}}function Xa(t){if(t!==xe)return!1;if(!Rt)return Vd(t),Rt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||zu(t.type,t.memoizedProps)),a=!a),a&&Ft&&Si(t),Vd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ft=fm(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ft=fm(t)}else n===27?(n=Ft,zi(t.type)?(t=Pu,Pu=null,Ft=t):Ft=n):Ft=xe?hn(t.stateNode.nextSibling):null;return!0}function oa(){Ft=xe=null,Rt=!1}function vc(){var t=wi;return t!==null&&(qe===null?qe=t:qe.push.apply(qe,t),wi=null),t}function Wr(t){wi===null?wi=[t]:wi.push(t)}var xc=N(null),la=null,Qn=null;function Ei(t,n,a){V(xc,n._currentValue),n._currentValue=a}function Wn(t){t._currentValue=xc.current,H(xc)}function wc(t,n,a){for(;t!==null;){var s=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),t===a)break;t=t.return}}function Sc(t,n,a,s){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var g=f.child;d=d.firstContext;t:for(;d!==null;){var v=d;d=f;for(var O=0;O<n.length;O++)if(v.context===n[O]){d.lanes|=a,v=d.alternate,v!==null&&(v.lanes|=a),wc(d.return,a,t),s||(g=null);break t}d=v.next}}else if(f.tag===18){if(g=f.return,g===null)throw Error(r(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),wc(g,a,t),g=null}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}}function Fa(t,n,a,s){t=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var g=f.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var v=f.type;We(f.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(f===ct.current){if(g=f.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(As):t=[As])}f=f.return}t!==null&&Sc(n,t,a,s),n.flags|=262144}function fo(t){for(t=t.firstContext;t!==null;){if(!We(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ca(t){la=t,Qn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function we(t){return Pd(la,t)}function ho(t,n){return la===null&&ca(t),Pd(t,n)}function Pd(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Qn===null){if(t===null)throw Error(r(308));Qn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Qn=Qn.next=n;return a}var Pb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,s){t.push(s)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},jb=o.unstable_scheduleCallback,qb=o.unstable_NormalPriority,se={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ec(){return{controller:new Pb,data:new Map,refCount:0}}function Jr(t){t.refCount--,t.refCount===0&&jb(qb,function(){t.controller.abort()})}var $r=null,Ac=0,Za=0,Qa=null;function Kb(t,n){if($r===null){var a=$r=[];Ac=0,Za=Nu(),Qa={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Ac++,n.then(jd,jd),n}function jd(){if(--Ac===0&&$r!==null){Qa!==null&&(Qa.status="fulfilled");var t=$r;$r=null,Za=0,Qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Gb(t,n){var a=[],s={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){s.status="fulfilled",s.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(s.status="rejected",s.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),s}var qd=A.S;A.S=function(t,n){_0=Re(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Kb(t,n),qd!==null&&qd(t,n)};var ua=N(null);function Oc(){var t=ua.current;return t!==null?t:Xt.pooledCache}function mo(t,n){n===null?V(ua,ua.current):V(ua,n.pool)}function Kd(){var t=Oc();return t===null?null:{parent:se._currentValue,pool:t}}var Wa=Error(r(460)),_c=Error(r(474)),po=Error(r(542)),bo={then:function(){}};function Gd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yd(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Yn,Yn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fd(t),t;default:if(typeof n.status=="string")n.then(Yn,Yn);else{if(t=Xt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(s){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=s}},function(s){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fd(t),t}throw da=n,Wa}}function fa(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(da=a,Wa):a}}var da=null;function Xd(){if(da===null)throw Error(r(459));var t=da;return da=null,t}function Fd(t){if(t===Wa||t===po)throw Error(r(483))}var Ja=null,ts=0;function go(t){var n=ts;return ts+=1,Ja===null&&(Ja=[]),Yd(Ja,t,n)}function es(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function yo(t,n){throw n.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zd(t){function n(R,T){if(t){var M=R.deletions;M===null?(R.deletions=[T],R.flags|=16):M.push(T)}}function a(R,T){if(!t)return null;for(;T!==null;)n(R,T),T=T.sibling;return null}function s(R){for(var T=new Map;R!==null;)R.key!==null?T.set(R.key,R):T.set(R.index,R),R=R.sibling;return T}function f(R,T){return R=Fn(R,T),R.index=0,R.sibling=null,R}function d(R,T,M){return R.index=M,t?(M=R.alternate,M!==null?(M=M.index,M<T?(R.flags|=67108866,T):M):(R.flags|=67108866,T)):(R.flags|=1048576,T)}function g(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function v(R,T,M,G){return T===null||T.tag!==6?(T=mc(M,R.mode,G),T.return=R,T):(T=f(T,M),T.return=R,T)}function O(R,T,M,G){var ft=M.type;return ft===k?P(R,T,M.props.children,G,M.key):T!==null&&(T.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Q&&fa(ft)===T.type)?(T=f(T,M.props),es(T,M),T.return=R,T):(T=co(M.type,M.key,M.props,null,R.mode,G),es(T,M),T.return=R,T)}function B(R,T,M,G){return T===null||T.tag!==4||T.stateNode.containerInfo!==M.containerInfo||T.stateNode.implementation!==M.implementation?(T=pc(M,R.mode,G),T.return=R,T):(T=f(T,M.children||[]),T.return=R,T)}function P(R,T,M,G,ft){return T===null||T.tag!==7?(T=sa(M,R.mode,G,ft),T.return=R,T):(T=f(T,M),T.return=R,T)}function X(R,T,M){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=mc(""+T,R.mode,M),T.return=R,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case w:return M=co(T.type,T.key,T.props,null,R.mode,M),es(M,T),M.return=R,M;case S:return T=pc(T,R.mode,M),T.return=R,T;case Q:return T=fa(T),X(R,T,M)}if(tt(T)||yt(T))return T=sa(T,R.mode,M,null),T.return=R,T;if(typeof T.then=="function")return X(R,go(T),M);if(T.$$typeof===q)return X(R,ho(R,T),M);yo(R,T)}return null}function z(R,T,M,G){var ft=T!==null?T.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return ft!==null?null:v(R,T,""+M,G);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return M.key===ft?O(R,T,M,G):null;case S:return M.key===ft?B(R,T,M,G):null;case Q:return M=fa(M),z(R,T,M,G)}if(tt(M)||yt(M))return ft!==null?null:P(R,T,M,G,null);if(typeof M.then=="function")return z(R,T,go(M),G);if(M.$$typeof===q)return z(R,T,ho(R,M),G);yo(R,M)}return null}function U(R,T,M,G,ft){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return R=R.get(M)||null,v(T,R,""+G,ft);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return R=R.get(G.key===null?M:G.key)||null,O(T,R,G,ft);case S:return R=R.get(G.key===null?M:G.key)||null,B(T,R,G,ft);case Q:return G=fa(G),U(R,T,M,G,ft)}if(tt(G)||yt(G))return R=R.get(M)||null,P(T,R,G,ft,null);if(typeof G.then=="function")return U(R,T,M,go(G),ft);if(G.$$typeof===q)return U(R,T,M,ho(T,G),ft);yo(T,G)}return null}function it(R,T,M,G){for(var ft=null,Dt=null,ot=T,Et=T=0,Ct=null;ot!==null&&Et<M.length;Et++){ot.index>Et?(Ct=ot,ot=null):Ct=ot.sibling;var zt=z(R,ot,M[Et],G);if(zt===null){ot===null&&(ot=Ct);break}t&&ot&&zt.alternate===null&&n(R,ot),T=d(zt,T,Et),Dt===null?ft=zt:Dt.sibling=zt,Dt=zt,ot=Ct}if(Et===M.length)return a(R,ot),Rt&&Zn(R,Et),ft;if(ot===null){for(;Et<M.length;Et++)ot=X(R,M[Et],G),ot!==null&&(T=d(ot,T,Et),Dt===null?ft=ot:Dt.sibling=ot,Dt=ot);return Rt&&Zn(R,Et),ft}for(ot=s(ot);Et<M.length;Et++)Ct=U(ot,R,Et,M[Et],G),Ct!==null&&(t&&Ct.alternate!==null&&ot.delete(Ct.key===null?Et:Ct.key),T=d(Ct,T,Et),Dt===null?ft=Ct:Dt.sibling=Ct,Dt=Ct);return t&&ot.forEach(function(Pi){return n(R,Pi)}),Rt&&Zn(R,Et),ft}function mt(R,T,M,G){if(M==null)throw Error(r(151));for(var ft=null,Dt=null,ot=T,Et=T=0,Ct=null,zt=M.next();ot!==null&&!zt.done;Et++,zt=M.next()){ot.index>Et?(Ct=ot,ot=null):Ct=ot.sibling;var Pi=z(R,ot,zt.value,G);if(Pi===null){ot===null&&(ot=Ct);break}t&&ot&&Pi.alternate===null&&n(R,ot),T=d(Pi,T,Et),Dt===null?ft=Pi:Dt.sibling=Pi,Dt=Pi,ot=Ct}if(zt.done)return a(R,ot),Rt&&Zn(R,Et),ft;if(ot===null){for(;!zt.done;Et++,zt=M.next())zt=X(R,zt.value,G),zt!==null&&(T=d(zt,T,Et),Dt===null?ft=zt:Dt.sibling=zt,Dt=zt);return Rt&&Zn(R,Et),ft}for(ot=s(ot);!zt.done;Et++,zt=M.next())zt=U(ot,R,Et,zt.value,G),zt!==null&&(t&&zt.alternate!==null&&ot.delete(zt.key===null?Et:zt.key),T=d(zt,T,Et),Dt===null?ft=zt:Dt.sibling=zt,Dt=zt);return t&&ot.forEach(function(ny){return n(R,ny)}),Rt&&Zn(R,Et),ft}function Yt(R,T,M,G){if(typeof M=="object"&&M!==null&&M.type===k&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case w:t:{for(var ft=M.key;T!==null;){if(T.key===ft){if(ft=M.type,ft===k){if(T.tag===7){a(R,T.sibling),G=f(T,M.props.children),G.return=R,R=G;break t}}else if(T.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Q&&fa(ft)===T.type){a(R,T.sibling),G=f(T,M.props),es(G,M),G.return=R,R=G;break t}a(R,T);break}else n(R,T);T=T.sibling}M.type===k?(G=sa(M.props.children,R.mode,G,M.key),G.return=R,R=G):(G=co(M.type,M.key,M.props,null,R.mode,G),es(G,M),G.return=R,R=G)}return g(R);case S:t:{for(ft=M.key;T!==null;){if(T.key===ft)if(T.tag===4&&T.stateNode.containerInfo===M.containerInfo&&T.stateNode.implementation===M.implementation){a(R,T.sibling),G=f(T,M.children||[]),G.return=R,R=G;break t}else{a(R,T);break}else n(R,T);T=T.sibling}G=pc(M,R.mode,G),G.return=R,R=G}return g(R);case Q:return M=fa(M),Yt(R,T,M,G)}if(tt(M))return it(R,T,M,G);if(yt(M)){if(ft=yt(M),typeof ft!="function")throw Error(r(150));return M=ft.call(M),mt(R,T,M,G)}if(typeof M.then=="function")return Yt(R,T,go(M),G);if(M.$$typeof===q)return Yt(R,T,ho(R,M),G);yo(R,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,T!==null&&T.tag===6?(a(R,T.sibling),G=f(T,M),G.return=R,R=G):(a(R,T),G=mc(M,R.mode,G),G.return=R,R=G),g(R)):a(R,T)}return function(R,T,M,G){try{ts=0;var ft=Yt(R,T,M,G);return Ja=null,ft}catch(ot){if(ot===Wa||ot===po)throw ot;var Dt=Je(29,ot,null,R.mode);return Dt.lanes=G,Dt.return=R,Dt}finally{}}}var ha=Zd(!0),Qd=Zd(!1),Ai=!1;function Nc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Oi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _i(t,n,a){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(Ut&2)!==0){var f=s.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),s.pending=n,n=lo(t),Md(t,null,a),n}return oo(t,s,n,a),lo(t)}function ns(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var s=n.lanes;s&=t.pendingLanes,a|=s,n.lanes=a,ze(t,a)}}function kc(t,n){var a=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?f=d=n:d=d.next=n}else f=d=n;a={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Ic=!1;function is(){if(Ic){var t=Qa;if(t!==null)throw t}}function as(t,n,a,s){Ic=!1;var f=t.updateQueue;Ai=!1;var d=f.firstBaseUpdate,g=f.lastBaseUpdate,v=f.shared.pending;if(v!==null){f.shared.pending=null;var O=v,B=O.next;O.next=null,g===null?d=B:g.next=B,g=O;var P=t.alternate;P!==null&&(P=P.updateQueue,v=P.lastBaseUpdate,v!==g&&(v===null?P.firstBaseUpdate=B:v.next=B,P.lastBaseUpdate=O))}if(d!==null){var X=f.baseState;g=0,P=B=O=null,v=d;do{var z=v.lane&-536870913,U=z!==v.lane;if(U?(It&z)===z:(s&z)===z){z!==0&&z===Za&&(Ic=!0),P!==null&&(P=P.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var it=t,mt=v;z=n;var Yt=a;switch(mt.tag){case 1:if(it=mt.payload,typeof it=="function"){X=it.call(Yt,X,z);break t}X=it;break t;case 3:it.flags=it.flags&-65537|128;case 0:if(it=mt.payload,z=typeof it=="function"?it.call(Yt,X,z):it,z==null)break t;X=b({},X,z);break t;case 2:Ai=!0}}z=v.callback,z!==null&&(t.flags|=64,U&&(t.flags|=8192),U=f.callbacks,U===null?f.callbacks=[z]:U.push(z))}else U={lane:z,tag:v.tag,payload:v.payload,callback:v.callback,next:null},P===null?(B=P=U,O=X):P=P.next=U,g|=z;if(v=v.next,v===null){if(v=f.shared.pending,v===null)break;U=v,v=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);P===null&&(O=X),f.baseState=O,f.firstBaseUpdate=B,f.lastBaseUpdate=P,d===null&&(f.shared.lanes=0),Ci|=g,t.lanes=g,t.memoizedState=X}}function Wd(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Jd(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Wd(a[t],n)}var $a=N(null),vo=N(0);function $d(t,n){t=si,V(vo,t),V($a,n),si=t|n.baseLanes}function Cc(){V(vo,si),V($a,$a.current)}function Rc(){si=vo.current,H($a),H(vo)}var $e=N(null),dn=null;function Ni(t){var n=t.alternate;V(ie,ie.current&1),V($e,t),dn===null&&(n===null||$a.current!==null||n.memoizedState!==null)&&(dn=t)}function Mc(t){V(ie,ie.current),V($e,t),dn===null&&(dn=t)}function th(t){t.tag===22?(V(ie,ie.current),V($e,t),dn===null&&(dn=t)):Ti()}function Ti(){V(ie,ie.current),V($e,$e.current)}function tn(t){H($e),dn===t&&(dn=null),H(ie)}var ie=N(0);function xo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Lu(a)||Vu(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Jn=0,St=null,Kt=null,oe=null,wo=!1,tr=!1,ma=!1,So=0,rs=0,er=null,Yb=0;function ee(){throw Error(r(321))}function Bc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!We(t[a],n[a]))return!1;return!0}function Dc(t,n,a,s,f,d){return Jn=d,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?Uh:Qc,ma=!1,d=a(s,f),ma=!1,tr&&(d=nh(n,a,s,f)),eh(t),d}function eh(t){A.H=ls;var n=Kt!==null&&Kt.next!==null;if(Jn=0,oe=Kt=St=null,wo=!1,rs=0,er=null,n)throw Error(r(300));t===null||le||(t=t.dependencies,t!==null&&fo(t)&&(le=!0))}function nh(t,n,a,s){St=t;var f=0;do{if(tr&&(er=null),rs=0,tr=!1,25<=f)throw Error(r(301));if(f+=1,oe=Kt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}A.H=Hh,d=n(a,s)}while(tr);return d}function Xb(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?ss(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(St.flags|=1024),n}function zc(){var t=So!==0;return So=0,t}function Uc(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Hc(t){if(wo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}wo=!1}Jn=0,oe=Kt=St=null,tr=!1,rs=So=0,er=null}function Be(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?St.memoizedState=oe=t:oe=oe.next=t,oe}function ae(){if(Kt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=oe===null?St.memoizedState:oe.next;if(n!==null)oe=n,Kt=t;else{if(t===null)throw St.alternate===null?Error(r(467)):Error(r(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},oe===null?St.memoizedState=oe=t:oe=oe.next=t}return oe}function Eo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ss(t){var n=rs;return rs+=1,er===null&&(er=[]),t=Yd(er,t,n),n=St,(oe===null?n.memoizedState:oe.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?Uh:Qc),t}function Ao(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ss(t);if(t.$$typeof===q)return we(t)}throw Error(r(438,String(t)))}function Lc(t){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var s=St.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Eo(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),s=0;s<t;s++)a[s]=Bt;return n.index++,a}function $n(t,n){return typeof n=="function"?n(t):n}function Oo(t){var n=ae();return Vc(n,Kt,t)}function Vc(t,n,a){var s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=a;var f=t.baseQueue,d=s.pending;if(d!==null){if(f!==null){var g=f.next;f.next=d.next,d.next=g}n.baseQueue=f=d,s.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{n=f.next;var v=g=null,O=null,B=n,P=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(It&X)===X:(Jn&X)===X){var z=B.revertLane;if(z===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===Za&&(P=!0);else if((Jn&z)===z){B=B.next,z===Za&&(P=!0);continue}else X={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(v=O=X,g=d):O=O.next=X,St.lanes|=z,Ci|=z;X=B.action,ma&&a(d,X),d=B.hasEagerState?B.eagerState:a(d,X)}else z={lane:X,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(v=O=z,g=d):O=O.next=z,St.lanes|=X,Ci|=X;B=B.next}while(B!==null&&B!==n);if(O===null?g=d:O.next=v,!We(d,t.memoizedState)&&(le=!0,P&&(a=Qa,a!==null)))throw a;t.memoizedState=d,t.baseState=g,t.baseQueue=O,s.lastRenderedState=d}return f===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Pc(t){var n=ae(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var s=a.dispatch,f=a.pending,d=n.memoizedState;if(f!==null){a.pending=null;var g=f=f.next;do d=t(d,g.action),g=g.next;while(g!==f);We(d,n.memoizedState)||(le=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,s]}function ih(t,n,a){var s=St,f=ae(),d=Rt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!We((Kt||f).memoizedState,a);if(g&&(f.memoizedState=a,le=!0),f=f.queue,Kc(sh.bind(null,s,f,t),[t]),f.getSnapshot!==n||g||oe!==null&&oe.memoizedState.tag&1){if(s.flags|=2048,nr(9,{destroy:void 0},rh.bind(null,s,f,a,n),null),Xt===null)throw Error(r(349));d||(Jn&127)!==0||ah(s,n,a)}return a}function ah(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=Eo(),St.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function rh(t,n,a,s){n.value=a,n.getSnapshot=s,oh(n)&&lh(t)}function sh(t,n,a){return a(function(){oh(n)&&lh(t)})}function oh(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!We(t,a)}catch{return!0}}function lh(t){var n=ra(t,2);n!==null&&Ke(n,t,2)}function jc(t){var n=Be();if(typeof t=="function"){var a=t;if(t=a(),ma){Sn(!0);try{a()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:t},n}function ch(t,n,a,s){return t.baseState=a,Vc(t,Kt,typeof s=="function"?s:$n)}function Fb(t,n,a,s,f){if(To(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};A.T!==null?a(!0):d.isTransition=!1,s(d),a=n.pending,a===null?(d.next=n.pending=d,uh(n,d)):(d.next=a.next,n.pending=a.next=d)}}function uh(t,n){var a=n.action,s=n.payload,f=t.state;if(n.isTransition){var d=A.T,g={};A.T=g;try{var v=a(f,s),O=A.S;O!==null&&O(g,v),fh(t,n,v)}catch(B){qc(t,n,B)}finally{d!==null&&g.types!==null&&(d.types=g.types),A.T=d}}else try{d=a(f,s),fh(t,n,d)}catch(B){qc(t,n,B)}}function fh(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){dh(t,n,s)},function(s){return qc(t,n,s)}):dh(t,n,a)}function dh(t,n,a){n.status="fulfilled",n.value=a,hh(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,uh(t,a)))}function qc(t,n,a){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=a,hh(n),n=n.next;while(n!==s)}t.action=null}function hh(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function mh(t,n){return n}function ph(t,n){if(Rt){var a=Xt.formState;if(a!==null){t:{var s=St;if(Rt){if(Ft){e:{for(var f=Ft,d=fn;f.nodeType!==8;){if(!d){f=null;break e}if(f=hn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Ft=hn(f.nextSibling),s=f.data==="F!";break t}}Si(s)}s=!1}s&&(n=a[0])}}return a=Be(),a.memoizedState=a.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mh,lastRenderedState:n},a.queue=s,a=Bh.bind(null,St,s),s.dispatch=a,s=jc(!1),d=Zc.bind(null,St,!1,s.queue),s=Be(),f={state:n,dispatch:null,action:t,pending:null},s.queue=f,a=Fb.bind(null,St,f,d,a),f.dispatch=a,s.memoizedState=t,[n,a,!1]}function bh(t){var n=ae();return gh(n,Kt,t)}function gh(t,n,a){if(n=Vc(t,n,mh)[0],t=Oo($n)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=ss(n)}catch(g){throw g===Wa?po:g}else s=n;n=ae();var f=n.queue,d=f.dispatch;return a!==n.memoizedState&&(St.flags|=2048,nr(9,{destroy:void 0},Zb.bind(null,f,a),null)),[s,d,t]}function Zb(t,n){t.action=n}function yh(t){var n=ae(),a=Kt;if(a!==null)return gh(n,a,t);ae(),n=n.memoizedState,a=ae();var s=a.queue.dispatch;return a.memoizedState=t,[n,s,!1]}function nr(t,n,a,s){return t={tag:t,create:a,deps:s,inst:n,next:null},n=St.updateQueue,n===null&&(n=Eo(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(s=a.next,a.next=t,t.next=s,n.lastEffect=t),t}function vh(){return ae().memoizedState}function _o(t,n,a,s){var f=Be();St.flags|=t,f.memoizedState=nr(1|n,{destroy:void 0},a,s===void 0?null:s)}function No(t,n,a,s){var f=ae();s=s===void 0?null:s;var d=f.memoizedState.inst;Kt!==null&&s!==null&&Bc(s,Kt.memoizedState.deps)?f.memoizedState=nr(n,d,a,s):(St.flags|=t,f.memoizedState=nr(1|n,d,a,s))}function xh(t,n){_o(8390656,8,t,n)}function Kc(t,n){No(2048,8,t,n)}function Qb(t){St.flags|=4;var n=St.updateQueue;if(n===null)n=Eo(),St.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function wh(t){var n=ae().memoizedState;return Qb({ref:n,nextImpl:t}),function(){if((Ut&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Sh(t,n){return No(4,2,t,n)}function Eh(t,n){return No(4,4,t,n)}function Ah(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Oh(t,n,a){a=a!=null?a.concat([t]):null,No(4,4,Ah.bind(null,n,t),a)}function Gc(){}function _h(t,n){var a=ae();n=n===void 0?null:n;var s=a.memoizedState;return n!==null&&Bc(n,s[1])?s[0]:(a.memoizedState=[t,n],t)}function Nh(t,n){var a=ae();n=n===void 0?null:n;var s=a.memoizedState;if(n!==null&&Bc(n,s[1]))return s[0];if(s=t(),ma){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[s,n],s}function Yc(t,n,a){return a===void 0||(Jn&1073741824)!==0&&(It&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=T0(),St.lanes|=t,Ci|=t,a)}function Th(t,n,a,s){return We(a,n)?a:$a.current!==null?(t=Yc(t,a,s),We(t,n)||(le=!0),t):(Jn&42)===0||(Jn&1073741824)!==0&&(It&261930)===0?(le=!0,t.memoizedState=a):(t=T0(),St.lanes|=t,Ci|=t,n)}function kh(t,n,a,s,f){var d=L.p;L.p=d!==0&&8>d?d:8;var g=A.T,v={};A.T=v,Zc(t,!1,n,a);try{var O=f(),B=A.S;if(B!==null&&B(v,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var P=Gb(O,s);os(t,n,P,an(t))}else os(t,n,s,an(t))}catch(X){os(t,n,{then:function(){},status:"rejected",reason:X},an())}finally{L.p=d,g!==null&&v.types!==null&&(g.types=v.types),A.T=g}}function Wb(){}function Xc(t,n,a,s){if(t.tag!==5)throw Error(r(476));var f=Ih(t).queue;kh(t,f,n,K,a===null?Wb:function(){return Ch(t),a(s)})}function Ih(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:K},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ch(t){var n=Ih(t);n.next===null&&(n=t.alternate.memoizedState),os(t,n.next.queue,{},an())}function Fc(){return we(As)}function Rh(){return ae().memoizedState}function Mh(){return ae().memoizedState}function Jb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=an();t=Oi(a);var s=_i(n,t,a);s!==null&&(Ke(s,n,a),ns(s,n,a)),n={cache:Ec()},t.payload=n;return}n=n.return}}function $b(t,n,a){var s=an();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},To(t)?Dh(n,a):(a=dc(t,n,a,s),a!==null&&(Ke(a,t,s),zh(a,n,s)))}function Bh(t,n,a){var s=an();os(t,n,a,s)}function os(t,n,a,s){var f={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(To(t))Dh(n,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var g=n.lastRenderedState,v=d(g,a);if(f.hasEagerState=!0,f.eagerState=v,We(v,g))return oo(t,n,f,0),Xt===null&&so(),!1}catch{}finally{}if(a=dc(t,n,f,s),a!==null)return Ke(a,t,s),zh(a,n,s),!0}return!1}function Zc(t,n,a,s){if(s={lane:2,revertLane:Nu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},To(t)){if(n)throw Error(r(479))}else n=dc(t,a,s,2),n!==null&&Ke(n,t,2)}function To(t){var n=t.alternate;return t===St||n!==null&&n===St}function Dh(t,n){tr=wo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function zh(t,n,a){if((a&4194048)!==0){var s=n.lanes;s&=t.pendingLanes,a|=s,n.lanes=a,ze(t,a)}}var ls={readContext:we,use:Ao,useCallback:ee,useContext:ee,useEffect:ee,useImperativeHandle:ee,useLayoutEffect:ee,useInsertionEffect:ee,useMemo:ee,useReducer:ee,useRef:ee,useState:ee,useDebugValue:ee,useDeferredValue:ee,useTransition:ee,useSyncExternalStore:ee,useId:ee,useHostTransitionStatus:ee,useFormState:ee,useActionState:ee,useOptimistic:ee,useMemoCache:ee,useCacheRefresh:ee};ls.useEffectEvent=ee;var Uh={readContext:we,use:Ao,useCallback:function(t,n){return Be().memoizedState=[t,n===void 0?null:n],t},useContext:we,useEffect:xh,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,_o(4194308,4,Ah.bind(null,n,t),a)},useLayoutEffect:function(t,n){return _o(4194308,4,t,n)},useInsertionEffect:function(t,n){_o(4,2,t,n)},useMemo:function(t,n){var a=Be();n=n===void 0?null:n;var s=t();if(ma){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[s,n],s},useReducer:function(t,n,a){var s=Be();if(a!==void 0){var f=a(n);if(ma){Sn(!0);try{a(n)}finally{Sn(!1)}}}else f=n;return s.memoizedState=s.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},s.queue=t,t=t.dispatch=$b.bind(null,St,t),[s.memoizedState,t]},useRef:function(t){var n=Be();return t={current:t},n.memoizedState=t},useState:function(t){t=jc(t);var n=t.queue,a=Bh.bind(null,St,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Gc,useDeferredValue:function(t,n){var a=Be();return Yc(a,t,n)},useTransition:function(){var t=jc(!1);return t=kh.bind(null,St,t.queue,!0,!1),Be().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var s=St,f=Be();if(Rt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Xt===null)throw Error(r(349));(It&127)!==0||ah(s,n,a)}f.memoizedState=a;var d={value:a,getSnapshot:n};return f.queue=d,xh(sh.bind(null,s,d,t),[t]),s.flags|=2048,nr(9,{destroy:void 0},rh.bind(null,s,d,a,n),null),a},useId:function(){var t=Be(),n=Xt.identifierPrefix;if(Rt){var a=Dn,s=Bn;a=(s&~(1<<32-Ae(s)-1)).toString(32)+a,n="_"+n+"R_"+a,a=So++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Yb++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Fc,useFormState:ph,useActionState:ph,useOptimistic:function(t){var n=Be();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Zc.bind(null,St,!0,a),a.dispatch=n,[t,n]},useMemoCache:Lc,useCacheRefresh:function(){return Be().memoizedState=Jb.bind(null,St)},useEffectEvent:function(t){var n=Be(),a={impl:t};return n.memoizedState=a,function(){if((Ut&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Qc={readContext:we,use:Ao,useCallback:_h,useContext:we,useEffect:Kc,useImperativeHandle:Oh,useInsertionEffect:Sh,useLayoutEffect:Eh,useMemo:Nh,useReducer:Oo,useRef:vh,useState:function(){return Oo($n)},useDebugValue:Gc,useDeferredValue:function(t,n){var a=ae();return Th(a,Kt.memoizedState,t,n)},useTransition:function(){var t=Oo($n)[0],n=ae().memoizedState;return[typeof t=="boolean"?t:ss(t),n]},useSyncExternalStore:ih,useId:Rh,useHostTransitionStatus:Fc,useFormState:bh,useActionState:bh,useOptimistic:function(t,n){var a=ae();return ch(a,Kt,t,n)},useMemoCache:Lc,useCacheRefresh:Mh};Qc.useEffectEvent=wh;var Hh={readContext:we,use:Ao,useCallback:_h,useContext:we,useEffect:Kc,useImperativeHandle:Oh,useInsertionEffect:Sh,useLayoutEffect:Eh,useMemo:Nh,useReducer:Pc,useRef:vh,useState:function(){return Pc($n)},useDebugValue:Gc,useDeferredValue:function(t,n){var a=ae();return Kt===null?Yc(a,t,n):Th(a,Kt.memoizedState,t,n)},useTransition:function(){var t=Pc($n)[0],n=ae().memoizedState;return[typeof t=="boolean"?t:ss(t),n]},useSyncExternalStore:ih,useId:Rh,useHostTransitionStatus:Fc,useFormState:yh,useActionState:yh,useOptimistic:function(t,n){var a=ae();return Kt!==null?ch(a,Kt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Lc,useCacheRefresh:Mh};Hh.useEffectEvent=wh;function Wc(t,n,a,s){n=t.memoizedState,a=a(s,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Jc={enqueueSetState:function(t,n,a){t=t._reactInternals;var s=an(),f=Oi(s);f.payload=n,a!=null&&(f.callback=a),n=_i(t,f,s),n!==null&&(Ke(n,t,s),ns(n,t,s))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var s=an(),f=Oi(s);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=_i(t,f,s),n!==null&&(Ke(n,t,s),ns(n,t,s))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=an(),s=Oi(a);s.tag=2,n!=null&&(s.callback=n),n=_i(t,s,a),n!==null&&(Ke(n,t,a),ns(n,t,a))}};function Lh(t,n,a,s,f,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,d,g):n.prototype&&n.prototype.isPureReactComponent?!Fr(a,s)||!Fr(f,d):!0}function Vh(t,n,a,s){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,s),n.state!==t&&Jc.enqueueReplaceState(n,n.state,null)}function pa(t,n){var a=n;if("ref"in n){a={};for(var s in n)s!=="ref"&&(a[s]=n[s])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Ph(t){ro(t)}function jh(t){console.error(t)}function qh(t){ro(t)}function ko(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Kh(t,n,a){try{var s=t.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function $c(t,n,a){return a=Oi(a),a.tag=3,a.payload={element:null},a.callback=function(){ko(t,n)},a}function Gh(t){return t=Oi(t),t.tag=3,t}function Yh(t,n,a,s){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=s.value;t.payload=function(){return f(d)},t.callback=function(){Kh(n,a,s)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Kh(n,a,s),typeof f!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function tg(t,n,a,s,f){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=a.alternate,n!==null&&Fa(n,a,f,!0),a=$e.current,a!==null){switch(a.tag){case 31:case 13:return dn===null?Po():a.alternate===null&&ne===0&&(ne=3),a.flags&=-257,a.flags|=65536,a.lanes=f,s===bo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([s]):n.add(s),Au(t,s,f)),!1;case 22:return a.flags|=65536,s===bo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([s]):a.add(s)),Au(t,s,f)),!1}throw Error(r(435,a.tag))}return Au(t,s,f),Po(),!1}if(Rt)return n=$e.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,s!==yc&&(t=Error(r(422),{cause:s}),Wr(ln(t,a)))):(s!==yc&&(n=Error(r(423),{cause:s}),Wr(ln(n,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,s=ln(s,a),f=$c(t.stateNode,s,f),kc(t,f),ne!==4&&(ne=2)),!1;var d=Error(r(520),{cause:s});if(d=ln(d,a),bs===null?bs=[d]:bs.push(d),ne!==4&&(ne=2),n===null)return!0;s=ln(s,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=$c(a.stateNode,s,t),kc(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ri===null||!Ri.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Gh(f),Yh(f,t,a,s),kc(a,f),!1}a=a.return}while(a!==null);return!1}var tu=Error(r(461)),le=!1;function Se(t,n,a,s){n.child=t===null?Qd(n,null,a,s):ha(n,t.child,a,s)}function Xh(t,n,a,s,f){a=a.render;var d=n.ref;if("ref"in s){var g={};for(var v in s)v!=="ref"&&(g[v]=s[v])}else g=s;return ca(n),s=Dc(t,n,a,g,d,f),v=zc(),t!==null&&!le?(Uc(t,n,f),ti(t,n,f)):(Rt&&v&&bc(n),n.flags|=1,Se(t,n,s,f),n.child)}function Fh(t,n,a,s,f){if(t===null){var d=a.type;return typeof d=="function"&&!hc(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Zh(t,n,d,s,f)):(t=co(a.type,null,s,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!lu(t,f)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:Fr,a(g,s)&&t.ref===n.ref)return ti(t,n,f)}return n.flags|=1,t=Fn(d,s),t.ref=n.ref,t.return=n,n.child=t}function Zh(t,n,a,s,f){if(t!==null){var d=t.memoizedProps;if(Fr(d,s)&&t.ref===n.ref)if(le=!1,n.pendingProps=s=d,lu(t,f))(t.flags&131072)!==0&&(le=!0);else return n.lanes=t.lanes,ti(t,n,f)}return eu(t,n,a,s,f)}function Qh(t,n,a,s){var f=s.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(s=n.child=t.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~d}else s=0,n.child=null;return Wh(t,n,d,a,s)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&mo(n,d!==null?d.cachePool:null),d!==null?$d(n,d):Cc(),th(n);else return s=n.lanes=536870912,Wh(t,n,d!==null?d.baseLanes|a:a,a,s)}else d!==null?(mo(n,d.cachePool),$d(n,d),Ti(),n.memoizedState=null):(t!==null&&mo(n,null),Cc(),Ti());return Se(t,n,f,a),n.child}function cs(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wh(t,n,a,s,f){var d=Oc();return d=d===null?null:{parent:se._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&mo(n,null),Cc(),th(n),t!==null&&Fa(t,n,s,!0),n.childLanes=f,null}function Io(t,n){return n=Ro({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Jh(t,n,a){return ha(n,t.child,null,a),t=Io(n,n.pendingProps),t.flags|=2,tn(n),n.memoizedState=null,t}function eg(t,n,a){var s=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Rt){if(s.mode==="hidden")return t=Io(n,s),n.lanes=536870912,cs(null,t);if(Mc(n),(t=Ft)?(t=um(t,fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xi!==null?{id:Bn,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},a=Dd(t),a.return=n,n.child=a,xe=n,Ft=null)):t=null,t===null)throw Si(n);return n.lanes=536870912,null}return Io(n,s)}var d=t.memoizedState;if(d!==null){var g=d.dehydrated;if(Mc(n),f)if(n.flags&256)n.flags&=-257,n=Jh(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(le||Fa(t,n,a,!1),f=(a&t.childLanes)!==0,le||f){if(s=Xt,s!==null&&(g=Ue(s,a),g!==0&&g!==d.retryLane))throw d.retryLane=g,ra(t,g),Ke(s,t,g),tu;Po(),n=Jh(t,n,a)}else t=d.treeContext,Ft=hn(g.nextSibling),xe=n,Rt=!0,wi=null,fn=!1,t!==null&&Hd(n,t),n=Io(n,s),n.flags|=4096;return n}return t=Fn(t.child,{mode:s.mode,children:s.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Co(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function eu(t,n,a,s,f){return ca(n),a=Dc(t,n,a,s,void 0,f),s=zc(),t!==null&&!le?(Uc(t,n,f),ti(t,n,f)):(Rt&&s&&bc(n),n.flags|=1,Se(t,n,a,f),n.child)}function $h(t,n,a,s,f,d){return ca(n),n.updateQueue=null,a=nh(n,s,a,f),eh(t),s=zc(),t!==null&&!le?(Uc(t,n,d),ti(t,n,d)):(Rt&&s&&bc(n),n.flags|=1,Se(t,n,a,d),n.child)}function t0(t,n,a,s,f){if(ca(n),n.stateNode===null){var d=Ka,g=a.contextType;typeof g=="object"&&g!==null&&(d=we(g)),d=new a(s,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Jc,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=s,d.state=n.memoizedState,d.refs={},Nc(n),g=a.contextType,d.context=typeof g=="object"&&g!==null?we(g):Ka,d.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Wc(n,a,g,s),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Jc.enqueueReplaceState(d,d.state,null),as(n,s,d,f),is(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(t===null){d=n.stateNode;var v=n.memoizedProps,O=pa(a,v);d.props=O;var B=d.context,P=a.contextType;g=Ka,typeof P=="object"&&P!==null&&(g=we(P));var X=a.getDerivedStateFromProps;P=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,P||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||B!==g)&&Vh(n,d,s,g),Ai=!1;var z=n.memoizedState;d.state=z,as(n,s,d,f),is(),B=n.memoizedState,v||z!==B||Ai?(typeof X=="function"&&(Wc(n,a,X,s),B=n.memoizedState),(O=Ai||Lh(n,a,O,s,z,B,g))?(P||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=B),d.props=s,d.state=B,d.context=g,s=O):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{d=n.stateNode,Tc(t,n),g=n.memoizedProps,P=pa(a,g),d.props=P,X=n.pendingProps,z=d.context,B=a.contextType,O=Ka,typeof B=="object"&&B!==null&&(O=we(B)),v=a.getDerivedStateFromProps,(B=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==X||z!==O)&&Vh(n,d,s,O),Ai=!1,z=n.memoizedState,d.state=z,as(n,s,d,f),is();var U=n.memoizedState;g!==X||z!==U||Ai||t!==null&&t.dependencies!==null&&fo(t.dependencies)?(typeof v=="function"&&(Wc(n,a,v,s),U=n.memoizedState),(P=Ai||Lh(n,a,P,s,z,U,O)||t!==null&&t.dependencies!==null&&fo(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,U,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,U,O)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=U),d.props=s,d.state=U,d.context=O,s=P):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),s=!1)}return d=s,Co(t,n),s=(n.flags&128)!==0,d||s?(d=n.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&s?(n.child=ha(n,t.child,null,f),n.child=ha(n,null,a,f)):Se(t,n,a,f),n.memoizedState=d.state,t=n.child):t=ti(t,n,f),t}function e0(t,n,a,s){return oa(),n.flags|=256,Se(t,n,a,s),n.child}var nu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iu(t){return{baseLanes:t,cachePool:Kd()}}function au(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=nn),t}function n0(t,n,a){var s=n.pendingProps,f=!1,d=(n.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(ie.current&2)!==0),g&&(f=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Rt){if(f?Ni(n):Ti(),(t=Ft)?(t=um(t,fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xi!==null?{id:Bn,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},a=Dd(t),a.return=n,n.child=a,xe=n,Ft=null)):t=null,t===null)throw Si(n);return Vu(t)?n.lanes=32:n.lanes=536870912,null}var v=s.children;return s=s.fallback,f?(Ti(),f=n.mode,v=Ro({mode:"hidden",children:v},f),s=sa(s,f,a,null),v.return=n,s.return=n,v.sibling=s,n.child=v,s=n.child,s.memoizedState=iu(a),s.childLanes=au(t,g,a),n.memoizedState=nu,cs(null,s)):(Ni(n),ru(n,v))}var O=t.memoizedState;if(O!==null&&(v=O.dehydrated,v!==null)){if(d)n.flags&256?(Ni(n),n.flags&=-257,n=su(t,n,a)):n.memoizedState!==null?(Ti(),n.child=t.child,n.flags|=128,n=null):(Ti(),v=s.fallback,f=n.mode,s=Ro({mode:"visible",children:s.children},f),v=sa(v,f,a,null),v.flags|=2,s.return=n,v.return=n,s.sibling=v,n.child=s,ha(n,t.child,null,a),s=n.child,s.memoizedState=iu(a),s.childLanes=au(t,g,a),n.memoizedState=nu,n=cs(null,s));else if(Ni(n),Vu(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var B=g.dgst;g=B,s=Error(r(419)),s.stack="",s.digest=g,Wr({value:s,source:null,stack:null}),n=su(t,n,a)}else if(le||Fa(t,n,a,!1),g=(a&t.childLanes)!==0,le||g){if(g=Xt,g!==null&&(s=Ue(g,a),s!==0&&s!==O.retryLane))throw O.retryLane=s,ra(t,s),Ke(g,t,s),tu;Lu(v)||Po(),n=su(t,n,a)}else Lu(v)?(n.flags|=192,n.child=t.child,n=null):(t=O.treeContext,Ft=hn(v.nextSibling),xe=n,Rt=!0,wi=null,fn=!1,t!==null&&Hd(n,t),n=ru(n,s.children),n.flags|=4096);return n}return f?(Ti(),v=s.fallback,f=n.mode,O=t.child,B=O.sibling,s=Fn(O,{mode:"hidden",children:s.children}),s.subtreeFlags=O.subtreeFlags&65011712,B!==null?v=Fn(B,v):(v=sa(v,f,a,null),v.flags|=2),v.return=n,s.return=n,s.sibling=v,n.child=s,cs(null,s),s=n.child,v=t.child.memoizedState,v===null?v=iu(a):(f=v.cachePool,f!==null?(O=se._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=Kd(),v={baseLanes:v.baseLanes|a,cachePool:f}),s.memoizedState=v,s.childLanes=au(t,g,a),n.memoizedState=nu,cs(t.child,s)):(Ni(n),a=t.child,t=a.sibling,a=Fn(a,{mode:"visible",children:s.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function ru(t,n){return n=Ro({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ro(t,n){return t=Je(22,t,null,n),t.lanes=0,t}function su(t,n,a){return ha(n,t.child,null,a),t=ru(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function i0(t,n,a){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n),wc(t.return,n,a)}function ou(t,n,a,s,f,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:f,treeForkCount:d}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=s,g.tail=a,g.tailMode=f,g.treeForkCount=d)}function a0(t,n,a){var s=n.pendingProps,f=s.revealOrder,d=s.tail;s=s.children;var g=ie.current,v=(g&2)!==0;if(v?(g=g&1|2,n.flags|=128):g&=1,V(ie,g),Se(t,n,s,a),s=Rt?Qr:0,!v&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i0(t,a,n);else if(t.tag===19)i0(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=n.child,f=null;a!==null;)t=a.alternate,t!==null&&xo(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),ou(n,!1,f,a,d,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&xo(t)===null){n.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}ou(n,!0,a,null,d,s);break;case"together":ou(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function ti(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ci|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Fa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Fn(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Fn(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function lu(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&fo(t)))}function ng(t,n,a){switch(n.tag){case 3:wt(n,n.stateNode.containerInfo),Ei(n,se,t.memoizedState.cache),oa();break;case 27:case 5:ke(n);break;case 4:wt(n,n.stateNode.containerInfo);break;case 10:Ei(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Mc(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Ni(n),n.flags|=128,null):(a&n.child.childLanes)!==0?n0(t,n,a):(Ni(n),t=ti(t,n,a),t!==null?t.sibling:null);Ni(n);break;case 19:var f=(t.flags&128)!==0;if(s=(a&n.childLanes)!==0,s||(Fa(t,n,a,!1),s=(a&n.childLanes)!==0),f){if(s)return a0(t,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),V(ie,ie.current),s)break;return null;case 22:return n.lanes=0,Qh(t,n,a,n.pendingProps);case 24:Ei(n,se,t.memoizedState.cache)}return ti(t,n,a)}function r0(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)le=!0;else{if(!lu(t,a)&&(n.flags&128)===0)return le=!1,ng(t,n,a);le=(t.flags&131072)!==0}else le=!1,Rt&&(n.flags&1048576)!==0&&Ud(n,Qr,n.index);switch(n.lanes=0,n.tag){case 16:t:{var s=n.pendingProps;if(t=fa(n.elementType),n.type=t,typeof t=="function")hc(t)?(s=pa(t,s),n.tag=1,n=t0(null,n,t,s,a)):(n.tag=0,n=eu(null,n,t,s,a));else{if(t!=null){var f=t.$$typeof;if(f===W){n.tag=11,n=Xh(null,n,t,s,a);break t}else if(f===et){n.tag=14,n=Fh(null,n,t,s,a);break t}}throw n=Ht(t)||t,Error(r(306,n,""))}}return n;case 0:return eu(t,n,n.type,n.pendingProps,a);case 1:return s=n.type,f=pa(s,n.pendingProps),t0(t,n,s,f,a);case 3:t:{if(wt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));s=n.pendingProps;var d=n.memoizedState;f=d.element,Tc(t,n),as(n,s,null,a);var g=n.memoizedState;if(s=g.cache,Ei(n,se,s),s!==d.cache&&Sc(n,[se],a,!0),is(),s=g.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=e0(t,n,s,a);break t}else if(s!==f){f=ln(Error(r(424)),n),Wr(f),n=e0(t,n,s,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ft=hn(t.firstChild),xe=n,Rt=!0,wi=null,fn=!0,a=Qd(n,null,s,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(oa(),s===f){n=ti(t,n,a);break t}Se(t,n,s,a)}n=n.child}return n;case 26:return Co(t,n),t===null?(a=bm(n.type,null,n.pendingProps,null))?n.memoizedState=a:Rt||(a=n.type,t=n.pendingProps,s=Fo(lt.current).createElement(a),s[ve]=n,s[He]=t,Ee(s,a,t),be(s),n.stateNode=s):n.memoizedState=bm(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ke(n),t===null&&Rt&&(s=n.stateNode=hm(n.type,n.pendingProps,lt.current),xe=n,fn=!0,f=Ft,zi(n.type)?(Pu=f,Ft=hn(s.firstChild)):Ft=f),Se(t,n,n.pendingProps.children,a),Co(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Rt&&((f=s=Ft)&&(s=Rg(s,n.type,n.pendingProps,fn),s!==null?(n.stateNode=s,xe=n,Ft=hn(s.firstChild),fn=!1,f=!0):f=!1),f||Si(n)),ke(n),f=n.type,d=n.pendingProps,g=t!==null?t.memoizedProps:null,s=d.children,zu(f,d)?s=null:g!==null&&zu(f,g)&&(n.flags|=32),n.memoizedState!==null&&(f=Dc(t,n,Xb,null,null,a),As._currentValue=f),Co(t,n),Se(t,n,s,a),n.child;case 6:return t===null&&Rt&&((t=a=Ft)&&(a=Mg(a,n.pendingProps,fn),a!==null?(n.stateNode=a,xe=n,Ft=null,t=!0):t=!1),t||Si(n)),null;case 13:return n0(t,n,a);case 4:return wt(n,n.stateNode.containerInfo),s=n.pendingProps,t===null?n.child=ha(n,null,s,a):Se(t,n,s,a),n.child;case 11:return Xh(t,n,n.type,n.pendingProps,a);case 7:return Se(t,n,n.pendingProps,a),n.child;case 8:return Se(t,n,n.pendingProps.children,a),n.child;case 12:return Se(t,n,n.pendingProps.children,a),n.child;case 10:return s=n.pendingProps,Ei(n,n.type,s.value),Se(t,n,s.children,a),n.child;case 9:return f=n.type._context,s=n.pendingProps.children,ca(n),f=we(f),s=s(f),n.flags|=1,Se(t,n,s,a),n.child;case 14:return Fh(t,n,n.type,n.pendingProps,a);case 15:return Zh(t,n,n.type,n.pendingProps,a);case 19:return a0(t,n,a);case 31:return eg(t,n,a);case 22:return Qh(t,n,a,n.pendingProps);case 24:return ca(n),s=we(se),t===null?(f=Oc(),f===null&&(f=Xt,d=Ec(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),n.memoizedState={parent:s,cache:f},Nc(n),Ei(n,se,f)):((t.lanes&a)!==0&&(Tc(t,n),as(n,null,null,a),is()),f=t.memoizedState,d=n.memoizedState,f.parent!==s?(f={parent:s,cache:s},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ei(n,se,s)):(s=d.cache,Ei(n,se,s),s!==f.cache&&Sc(n,[se],a,!0))),Se(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ei(t){t.flags|=4}function cu(t,n,a,s,f){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(R0())t.flags|=8192;else throw da=bo,_c}else t.flags&=-16777217}function s0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!wm(n))if(R0())t.flags|=8192;else throw da=bo,_c}function Mo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Oe():536870912,t.lanes|=n,sr|=n)}function us(t,n){if(!Rt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Zt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,s=0;if(n)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=s,t.childLanes=a,n}function ig(t,n,a){var s=n.pendingProps;switch(gc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(n),null;case 1:return Zt(n),null;case 3:return a=n.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Wn(se),Mt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xa(n)?ei(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,vc())),Zt(n),null;case 26:var f=n.type,d=n.memoizedState;return t===null?(ei(n),d!==null?(Zt(n),s0(n,d)):(Zt(n),cu(n,f,null,s,a))):d?d!==t.memoizedState?(ei(n),Zt(n),s0(n,d)):(Zt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==s&&ei(n),Zt(n),cu(n,f,t,s,a)),null;case 27:if(Ze(n),a=lt.current,f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==s&&ei(n);else{if(!s){if(n.stateNode===null)throw Error(r(166));return Zt(n),null}t=Z.current,Xa(n)?Ld(n):(t=hm(f,s,a),n.stateNode=t,ei(n))}return Zt(n),null;case 5:if(Ze(n),f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==s&&ei(n);else{if(!s){if(n.stateNode===null)throw Error(r(166));return Zt(n),null}if(d=Z.current,Xa(n))Ld(n);else{var g=Fo(lt.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof s.is=="string"?g.createElement("select",{is:s.is}):g.createElement("select"),s.multiple?d.multiple=!0:s.size&&(d.size=s.size);break;default:d=typeof s.is=="string"?g.createElement(f,{is:s.is}):g.createElement(f)}}d[ve]=n,d[He]=s;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=d;t:switch(Ee(d,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&ei(n)}}return Zt(n),cu(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==s&&ei(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(r(166));if(t=lt.current,Xa(n)){if(t=n.stateNode,a=n.memoizedProps,s=null,f=xe,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}t[ve]=n,t=!!(t.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||nm(t.nodeValue,a)),t||Si(n,!0)}else t=Fo(t).createTextNode(s),t[ve]=n,n.stateNode=t}return Zt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(s=Xa(n),a!==null){if(t===null){if(!s)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ve]=n}else oa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Zt(n),t=!1}else a=vc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(tn(n),n):(tn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Zt(n),null;case 13:if(s=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Xa(n),s!==null&&s.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[ve]=n}else oa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Zt(n),f=!1}else f=vc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(tn(n),n):(tn(n),null)}return tn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=s!==null,t=t!==null&&t.memoizedState!==null,a&&(s=n.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==f&&(s.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Mo(n,n.updateQueue),Zt(n),null);case 4:return Mt(),t===null&&Cu(n.stateNode.containerInfo),Zt(n),null;case 10:return Wn(n.type),Zt(n),null;case 19:if(H(ie),s=n.memoizedState,s===null)return Zt(n),null;if(f=(n.flags&128)!==0,d=s.rendering,d===null)if(f)us(s,!1);else{if(ne!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=xo(t),d!==null){for(n.flags|=128,us(s,!1),t=d.updateQueue,n.updateQueue=t,Mo(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Bd(a,t),a=a.sibling;return V(ie,ie.current&1|2),Rt&&Zn(n,s.treeForkCount),n.child}t=t.sibling}s.tail!==null&&Re()>Ho&&(n.flags|=128,f=!0,us(s,!1),n.lanes=4194304)}else{if(!f)if(t=xo(d),t!==null){if(n.flags|=128,f=!0,t=t.updateQueue,n.updateQueue=t,Mo(n,t),us(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!Rt)return Zt(n),null}else 2*Re()-s.renderingStartTime>Ho&&a!==536870912&&(n.flags|=128,f=!0,us(s,!1),n.lanes=4194304);s.isBackwards?(d.sibling=n.child,n.child=d):(t=s.last,t!==null?t.sibling=d:n.child=d,s.last=d)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Re(),t.sibling=null,a=ie.current,V(ie,f?a&1|2:a&1),Rt&&Zn(n,s.treeForkCount),t):(Zt(n),null);case 22:case 23:return tn(n),Rc(),s=n.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(a&536870912)!==0&&(n.flags&128)===0&&(Zt(n),n.subtreeFlags&6&&(n.flags|=8192)):Zt(n),a=n.updateQueue,a!==null&&Mo(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==a&&(n.flags|=2048),t!==null&&H(ua),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Wn(se),Zt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function ag(t,n){switch(gc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Wn(se),Mt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ze(n),null;case 31:if(n.memoizedState!==null){if(tn(n),n.alternate===null)throw Error(r(340));oa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(tn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));oa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return H(ie),null;case 4:return Mt(),null;case 10:return Wn(n.type),null;case 22:case 23:return tn(n),Rc(),t!==null&&H(ua),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Wn(se),null;case 25:return null;default:return null}}function o0(t,n){switch(gc(n),n.tag){case 3:Wn(se),Mt();break;case 26:case 27:case 5:Ze(n);break;case 4:Mt();break;case 31:n.memoizedState!==null&&tn(n);break;case 13:tn(n);break;case 19:H(ie);break;case 10:Wn(n.type);break;case 22:case 23:tn(n),Rc(),t!==null&&H(ua);break;case 24:Wn(se)}}function fs(t,n){try{var a=n.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var f=s.next;a=f;do{if((a.tag&t)===t){s=void 0;var d=a.create,g=a.inst;s=d(),g.destroy=s}a=a.next}while(a!==f)}}catch(v){Vt(n,n.return,v)}}function ki(t,n,a){try{var s=n.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var d=f.next;s=d;do{if((s.tag&t)===t){var g=s.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,f=n;var O=a,B=v;try{B()}catch(P){Vt(f,O,P)}}}s=s.next}while(s!==d)}}catch(P){Vt(n,n.return,P)}}function l0(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Jd(n,a)}catch(s){Vt(t,t.return,s)}}}function c0(t,n,a){a.props=pa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(s){Vt(t,n,s)}}function ds(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof a=="function"?t.refCleanup=a(s):a.current=s}}catch(f){Vt(t,n,f)}}function zn(t,n){var a=t.ref,s=t.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(f){Vt(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Vt(t,n,f)}else a.current=null}function u0(t){var n=t.type,a=t.memoizedProps,s=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break t;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(f){Vt(t,t.return,f)}}function uu(t,n,a){try{var s=t.stateNode;_g(s,t.type,a,n),s[He]=n}catch(f){Vt(t,t.return,f)}}function f0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zi(t.type)||t.tag===4}function fu(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||f0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function du(t,n,a){var s=t.tag;if(s===5||s===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Yn));else if(s!==4&&(s===27&&zi(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(du(t,n,a),t=t.sibling;t!==null;)du(t,n,a),t=t.sibling}function Bo(t,n,a){var s=t.tag;if(s===5||s===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(s!==4&&(s===27&&zi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Bo(t,n,a),t=t.sibling;t!==null;)Bo(t,n,a),t=t.sibling}function d0(t){var n=t.stateNode,a=t.memoizedProps;try{for(var s=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Ee(n,s,a),n[ve]=t,n[He]=a}catch(d){Vt(t,t.return,d)}}var ni=!1,ce=!1,hu=!1,h0=typeof WeakSet=="function"?WeakSet:Set,ge=null;function rg(t,n){if(t=t.containerInfo,Bu=el,t=Od(t),sc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var f=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var g=0,v=-1,O=-1,B=0,P=0,X=t,z=null;e:for(;;){for(var U;X!==a||f!==0&&X.nodeType!==3||(v=g+f),X!==d||s!==0&&X.nodeType!==3||(O=g+s),X.nodeType===3&&(g+=X.nodeValue.length),(U=X.firstChild)!==null;)z=X,X=U;for(;;){if(X===t)break e;if(z===a&&++B===f&&(v=g),z===d&&++P===s&&(O=g),(U=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=U}a=v===-1||O===-1?null:{start:v,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Du={focusedElem:t,selectionRange:a},el=!1,ge=n;ge!==null;)if(n=ge,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ge=t;else for(;ge!==null;){switch(n=ge,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,f=d.memoizedProps,d=d.memoizedState,s=a.stateNode;try{var it=pa(a.type,f);t=s.getSnapshotBeforeUpdate(it,d),s.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Vt(a,a.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Hu(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,ge=t;break}ge=n.return}}function m0(t,n,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:ai(t,a),s&4&&fs(5,a);break;case 1:if(ai(t,a),s&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Vt(a,a.return,g)}else{var f=pa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Vt(a,a.return,g)}}s&64&&l0(a),s&512&&ds(a,a.return);break;case 3:if(ai(t,a),s&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Jd(t,n)}catch(g){Vt(a,a.return,g)}}break;case 27:n===null&&s&4&&d0(a);case 26:case 5:ai(t,a),n===null&&s&4&&u0(a),s&512&&ds(a,a.return);break;case 12:ai(t,a);break;case 31:ai(t,a),s&4&&g0(t,a);break;case 13:ai(t,a),s&4&&y0(t,a),s&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mg.bind(null,a),Bg(t,a))));break;case 22:if(s=a.memoizedState!==null||ni,!s){n=n!==null&&n.memoizedState!==null||ce,f=ni;var d=ce;ni=s,(ce=n)&&!d?ri(t,a,(a.subtreeFlags&8772)!==0):ai(t,a),ni=f,ce=d}break;case 30:break;default:ai(t,a)}}function p0(t){var n=t.alternate;n!==null&&(t.alternate=null,p0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ql(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Jt=null,Ve=!1;function ii(t,n,a){for(a=a.child;a!==null;)b0(t,n,a),a=a.sibling}function b0(t,n,a){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Ji,a)}catch{}switch(a.tag){case 26:ce||zn(a,n),ii(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||zn(a,n);var s=Jt,f=Ve;zi(a.type)&&(Jt=a.stateNode,Ve=!1),ii(t,n,a),ws(a.stateNode),Jt=s,Ve=f;break;case 5:ce||zn(a,n);case 6:if(s=Jt,f=Ve,Jt=null,ii(t,n,a),Jt=s,Ve=f,Jt!==null)if(Ve)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(a.stateNode)}catch(d){Vt(a,n,d)}else try{Jt.removeChild(a.stateNode)}catch(d){Vt(a,n,d)}break;case 18:Jt!==null&&(Ve?(t=Jt,lm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),mr(t)):lm(Jt,a.stateNode));break;case 4:s=Jt,f=Ve,Jt=a.stateNode.containerInfo,Ve=!0,ii(t,n,a),Jt=s,Ve=f;break;case 0:case 11:case 14:case 15:ki(2,a,n),ce||ki(4,a,n),ii(t,n,a);break;case 1:ce||(zn(a,n),s=a.stateNode,typeof s.componentWillUnmount=="function"&&c0(a,n,s)),ii(t,n,a);break;case 21:ii(t,n,a);break;case 22:ce=(s=ce)||a.memoizedState!==null,ii(t,n,a),ce=s;break;default:ii(t,n,a)}}function g0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{mr(t)}catch(a){Vt(n,n.return,a)}}}function y0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{mr(t)}catch(a){Vt(n,n.return,a)}}function sg(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new h0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new h0),n;default:throw Error(r(435,t.tag))}}function Do(t,n){var a=sg(t);n.forEach(function(s){if(!a.has(s)){a.add(s);var f=pg.bind(null,t,s);s.then(f,f)}})}function Pe(t,n){var a=n.deletions;if(a!==null)for(var s=0;s<a.length;s++){var f=a[s],d=t,g=n,v=g;t:for(;v!==null;){switch(v.tag){case 27:if(zi(v.type)){Jt=v.stateNode,Ve=!1;break t}break;case 5:Jt=v.stateNode,Ve=!1;break t;case 3:case 4:Jt=v.stateNode.containerInfo,Ve=!0;break t}v=v.return}if(Jt===null)throw Error(r(160));b0(d,g,f),Jt=null,Ve=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)v0(n,t),n=n.sibling}var On=null;function v0(t,n){var a=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pe(n,t),je(t),s&4&&(ki(3,t,t.return),fs(3,t),ki(5,t,t.return));break;case 1:Pe(n,t),je(t),s&512&&(ce||a===null||zn(a,a.return)),s&64&&ni&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var f=On;if(Pe(n,t),je(t),s&512&&(ce||a===null||zn(a,a.return)),s&4){var d=a!==null?a.memoizedState:null;if(s=t.memoizedState,a===null)if(s===null)if(t.stateNode===null){t:{s=t.type,a=t.memoizedProps,f=f.ownerDocument||f;e:switch(s){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Lr]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(s),f.head.insertBefore(d,f.querySelector("head > title"))),Ee(d,s,a),d[ve]=t,be(d),s=d;break t;case"link":var g=vm("link","href",f).get(s+(a.href||""));if(g){for(var v=0;v<g.length;v++)if(d=g[v],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(v,1);break e}}d=f.createElement(s),Ee(d,s,a),f.head.appendChild(d);break;case"meta":if(g=vm("meta","content",f).get(s+(a.content||""))){for(v=0;v<g.length;v++)if(d=g[v],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(v,1);break e}}d=f.createElement(s),Ee(d,s,a),f.head.appendChild(d);break;default:throw Error(r(468,s))}d[ve]=t,be(d),s=d}t.stateNode=s}else xm(f,t.type,t.stateNode);else t.stateNode=ym(f,s,t.memoizedProps);else d!==s?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,s===null?xm(f,t.type,t.stateNode):ym(f,s,t.memoizedProps)):s===null&&t.stateNode!==null&&uu(t,t.memoizedProps,a.memoizedProps)}break;case 27:Pe(n,t),je(t),s&512&&(ce||a===null||zn(a,a.return)),a!==null&&s&4&&uu(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Pe(n,t),je(t),s&512&&(ce||a===null||zn(a,a.return)),t.flags&32){f=t.stateNode;try{Ua(f,"")}catch(it){Vt(t,t.return,it)}}s&4&&t.stateNode!=null&&(f=t.memoizedProps,uu(t,f,a!==null?a.memoizedProps:f)),s&1024&&(hu=!0);break;case 6:if(Pe(n,t),je(t),s&4){if(t.stateNode===null)throw Error(r(162));s=t.memoizedProps,a=t.stateNode;try{a.nodeValue=s}catch(it){Vt(t,t.return,it)}}break;case 3:if(Wo=null,f=On,On=Zo(n.containerInfo),Pe(n,t),On=f,je(t),s&4&&a!==null&&a.memoizedState.isDehydrated)try{mr(n.containerInfo)}catch(it){Vt(t,t.return,it)}hu&&(hu=!1,x0(t));break;case 4:s=On,On=Zo(t.stateNode.containerInfo),Pe(n,t),je(t),On=s;break;case 12:Pe(n,t),je(t);break;case 31:Pe(n,t),je(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Do(t,s)));break;case 13:Pe(n,t),je(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uo=Re()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Do(t,s)));break;case 22:f=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,B=ni,P=ce;if(ni=B||f,ce=P||O,Pe(n,t),ce=P,ni=B,je(t),s&8192)t:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||O||ni||ce||ba(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){O=a=n;try{if(d=O.stateNode,f)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=O.stateNode;var X=O.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;v.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(it){Vt(O,O.return,it)}}}else if(n.tag===6){if(a===null){O=n;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(it){Vt(O,O.return,it)}}}else if(n.tag===18){if(a===null){O=n;try{var U=O.stateNode;f?cm(U,!0):cm(O.stateNode,!1)}catch(it){Vt(O,O.return,it)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=t.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Do(t,a))));break;case 19:Pe(n,t),je(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Do(t,s)));break;case 30:break;case 21:break;default:Pe(n,t),je(t)}}function je(t){var n=t.flags;if(n&2){try{for(var a,s=t.return;s!==null;){if(f0(s)){a=s;break}s=s.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=fu(t);Bo(t,d,f);break;case 5:var g=a.stateNode;a.flags&32&&(Ua(g,""),a.flags&=-33);var v=fu(t);Bo(t,v,g);break;case 3:case 4:var O=a.stateNode.containerInfo,B=fu(t);du(t,B,O);break;default:throw Error(r(161))}}catch(P){Vt(t,t.return,P)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function x0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;x0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ai(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)m0(t,n.alternate,n),n=n.sibling}function ba(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ki(4,n,n.return),ba(n);break;case 1:zn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&c0(n,n.return,a),ba(n);break;case 27:ws(n.stateNode);case 26:case 5:zn(n,n.return),ba(n);break;case 22:n.memoizedState===null&&ba(n);break;case 30:ba(n);break;default:ba(n)}t=t.sibling}}function ri(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,f=t,d=n,g=d.flags;switch(d.tag){case 0:case 11:case 15:ri(f,d,a),fs(4,d);break;case 1:if(ri(f,d,a),s=d,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Vt(s,s.return,B)}if(s=d,f=s.updateQueue,f!==null){var v=s.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Wd(O[f],v)}catch(B){Vt(s,s.return,B)}}a&&g&64&&l0(d),ds(d,d.return);break;case 27:d0(d);case 26:case 5:ri(f,d,a),a&&s===null&&g&4&&u0(d),ds(d,d.return);break;case 12:ri(f,d,a);break;case 31:ri(f,d,a),a&&g&4&&g0(f,d);break;case 13:ri(f,d,a),a&&g&4&&y0(f,d);break;case 22:d.memoizedState===null&&ri(f,d,a),ds(d,d.return);break;case 30:break;default:ri(f,d,a)}n=n.sibling}}function mu(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Jr(a))}function pu(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jr(t))}function _n(t,n,a,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)w0(t,n,a,s),n=n.sibling}function w0(t,n,a,s){var f=n.flags;switch(n.tag){case 0:case 11:case 15:_n(t,n,a,s),f&2048&&fs(9,n);break;case 1:_n(t,n,a,s);break;case 3:_n(t,n,a,s),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jr(t)));break;case 12:if(f&2048){_n(t,n,a,s),t=n.stateNode;try{var d=n.memoizedProps,g=d.id,v=d.onPostCommit;typeof v=="function"&&v(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Vt(n,n.return,O)}}else _n(t,n,a,s);break;case 31:_n(t,n,a,s);break;case 13:_n(t,n,a,s);break;case 23:break;case 22:d=n.stateNode,g=n.alternate,n.memoizedState!==null?d._visibility&2?_n(t,n,a,s):hs(t,n):d._visibility&2?_n(t,n,a,s):(d._visibility|=2,ir(t,n,a,s,(n.subtreeFlags&10256)!==0||!1)),f&2048&&mu(g,n);break;case 24:_n(t,n,a,s),f&2048&&pu(n.alternate,n);break;default:_n(t,n,a,s)}}function ir(t,n,a,s,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,g=n,v=a,O=s,B=g.flags;switch(g.tag){case 0:case 11:case 15:ir(d,g,v,O,f),fs(8,g);break;case 23:break;case 22:var P=g.stateNode;g.memoizedState!==null?P._visibility&2?ir(d,g,v,O,f):hs(d,g):(P._visibility|=2,ir(d,g,v,O,f)),f&&B&2048&&mu(g.alternate,g);break;case 24:ir(d,g,v,O,f),f&&B&2048&&pu(g.alternate,g);break;default:ir(d,g,v,O,f)}n=n.sibling}}function hs(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,s=n,f=s.flags;switch(s.tag){case 22:hs(a,s),f&2048&&mu(s.alternate,s);break;case 24:hs(a,s),f&2048&&pu(s.alternate,s);break;default:hs(a,s)}n=n.sibling}}var ms=8192;function ar(t,n,a){if(t.subtreeFlags&ms)for(t=t.child;t!==null;)S0(t,n,a),t=t.sibling}function S0(t,n,a){switch(t.tag){case 26:ar(t,n,a),t.flags&ms&&t.memoizedState!==null&&Yg(a,On,t.memoizedState,t.memoizedProps);break;case 5:ar(t,n,a);break;case 3:case 4:var s=On;On=Zo(t.stateNode.containerInfo),ar(t,n,a),On=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=ms,ms=16777216,ar(t,n,a),ms=s):ar(t,n,a));break;default:ar(t,n,a)}}function E0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ps(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];ge=s,O0(s,t)}E0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)A0(t),t=t.sibling}function A0(t){switch(t.tag){case 0:case 11:case 15:ps(t),t.flags&2048&&ki(9,t,t.return);break;case 3:ps(t);break;case 12:ps(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,zo(t)):ps(t);break;default:ps(t)}}function zo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];ge=s,O0(s,t)}E0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ki(8,n,n.return),zo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,zo(n));break;default:zo(n)}t=t.sibling}}function O0(t,n){for(;ge!==null;){var a=ge;switch(a.tag){case 0:case 11:case 15:ki(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Jr(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,ge=s;else t:for(a=t;ge!==null;){s=ge;var f=s.sibling,d=s.return;if(p0(s),s===a){ge=null;break t}if(f!==null){f.return=d,ge=f;break t}ge=d}}}var og={getCacheForType:function(t){var n=we(se),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return we(se).controller.signal}},lg=typeof WeakMap=="function"?WeakMap:Map,Ut=0,Xt=null,Nt=null,It=0,Lt=0,en=null,Ii=!1,rr=!1,bu=!1,si=0,ne=0,Ci=0,ga=0,gu=0,nn=0,sr=0,bs=null,qe=null,yu=!1,Uo=0,_0=0,Ho=1/0,Lo=null,Ri=null,de=0,Mi=null,or=null,oi=0,vu=0,xu=null,N0=null,gs=0,wu=null;function an(){return(Ut&2)!==0&&It!==0?It&-It:A.T!==null?Nu():Pl()}function T0(){if(nn===0)if((It&536870912)===0||Rt){var t=ka;ka<<=1,(ka&3932160)===0&&(ka=262144),nn=t}else nn=536870912;return t=$e.current,t!==null&&(t.flags|=32),nn}function Ke(t,n,a){(t===Xt&&(Lt===2||Lt===9)||t.cancelPendingCommit!==null)&&(lr(t,0),Bi(t,It,nn,!1)),$t(t,a),((Ut&2)===0||t!==Xt)&&(t===Xt&&((Ut&2)===0&&(ga|=a),ne===4&&Bi(t,It,nn,!1)),Un(t))}function k0(t,n,a){if((Ut&6)!==0)throw Error(r(327));var s=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Wt(t,n),f=s?fg(t,n):Eu(t,n,!0),d=s;do{if(f===0){rr&&!s&&Bi(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!cg(a)){f=Eu(t,n,!1),d=!1;continue}if(f===2){if(d=n,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var v=t;f=bs;var O=v.current.memoizedState.isDehydrated;if(O&&(lr(v,g).flags|=256),g=Eu(v,g,!1),g!==2){if(bu&&!O){v.errorRecoveryDisabledLanes|=d,ga|=d,f=4;break t}d=qe,qe=f,d!==null&&(qe===null?qe=d:qe.push.apply(qe,d))}f=g}if(d=!1,f!==2)continue}}if(f===1){lr(t,0),Bi(t,n,0,!0);break}t:{switch(s=t,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Bi(s,n,nn,!Ii);break t;case 2:qe=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(f=Uo+300-Re(),10<f)){if(Bi(s,n,nn,!Ii),gt(s,0,!0)!==0)break t;oi=n,s.timeoutHandle=sm(I0.bind(null,s,a,qe,Lo,yu,n,nn,ga,sr,Ii,d,"Throttled",-0,0),f);break t}I0(s,a,qe,Lo,yu,n,nn,ga,sr,Ii,d,null,-0,0)}}break}while(!0);Un(t)}function I0(t,n,a,s,f,d,g,v,O,B,P,X,z,U){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},S0(n,d,X);var it=(d&62914560)===d?Uo-Re():(d&4194048)===d?_0-Re():0;if(it=Xg(X,it),it!==null){oi=d,t.cancelPendingCommit=it(H0.bind(null,t,n,d,a,s,f,g,v,O,P,X,null,z,U)),Bi(t,d,g,!B);return}}H0(t,n,d,a,s,f,g,v,O)}function cg(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var f=a[s],d=f.getSnapshot;f=f.value;try{if(!We(d(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bi(t,n,a,s){n&=~gu,n&=~ga,t.suspendedLanes|=n,t.pingedLanes&=~n,s&&(t.warmLanes|=n),s=t.expirationTimes;for(var f=n;0<f;){var d=31-Ae(f),g=1<<d;s[d]=-1,f&=~g}a!==0&&ta(t,a,n)}function Vo(){return(Ut&6)===0?(ys(0),!1):!0}function Su(){if(Nt!==null){if(Lt===0)var t=Nt.return;else t=Nt,Qn=la=null,Hc(t),Ja=null,ts=0,t=Nt;for(;t!==null;)o0(t.alternate,t),t=t.return;Nt=null}}function lr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,kg(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),oi=0,Su(),Xt=t,Nt=a=Fn(t.current,null),It=n,Lt=0,en=null,Ii=!1,rr=Wt(t,n),bu=!1,sr=nn=gu=ga=Ci=ne=0,qe=bs=null,yu=!1,(n&8)!==0&&(n|=n&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=n;0<s;){var f=31-Ae(s),d=1<<f;n|=t[f],s&=~d}return si=n,so(),a}function C0(t,n){St=null,A.H=ls,n===Wa||n===po?(n=Xd(),Lt=3):n===_c?(n=Xd(),Lt=4):Lt=n===tu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,en=n,Nt===null&&(ne=1,ko(t,ln(n,t.current)))}function R0(){var t=$e.current;return t===null?!0:(It&4194048)===It?dn===null:(It&62914560)===It||(It&536870912)!==0?t===dn:!1}function M0(){var t=A.H;return A.H=ls,t===null?ls:t}function B0(){var t=A.A;return A.A=og,t}function Po(){ne=4,Ii||(It&4194048)!==It&&$e.current!==null||(rr=!0),(Ci&134217727)===0&&(ga&134217727)===0||Xt===null||Bi(Xt,It,nn,!1)}function Eu(t,n,a){var s=Ut;Ut|=2;var f=M0(),d=B0();(Xt!==t||It!==n)&&(Lo=null,lr(t,n)),n=!1;var g=ne;t:do try{if(Lt!==0&&Nt!==null){var v=Nt,O=en;switch(Lt){case 8:Su(),g=6;break t;case 3:case 2:case 9:case 6:$e.current===null&&(n=!0);var B=Lt;if(Lt=0,en=null,cr(t,v,O,B),a&&rr){g=0;break t}break;default:B=Lt,Lt=0,en=null,cr(t,v,O,B)}}ug(),g=ne;break}catch(P){C0(t,P)}while(!0);return n&&t.shellSuspendCounter++,Qn=la=null,Ut=s,A.H=f,A.A=d,Nt===null&&(Xt=null,It=0,so()),g}function ug(){for(;Nt!==null;)D0(Nt)}function fg(t,n){var a=Ut;Ut|=2;var s=M0(),f=B0();Xt!==t||It!==n?(Lo=null,Ho=Re()+500,lr(t,n)):rr=Wt(t,n);t:do try{if(Lt!==0&&Nt!==null){n=Nt;var d=en;e:switch(Lt){case 1:Lt=0,en=null,cr(t,n,d,1);break;case 2:case 9:if(Gd(d)){Lt=0,en=null,z0(n);break}n=function(){Lt!==2&&Lt!==9||Xt!==t||(Lt=7),Un(t)},d.then(n,n);break t;case 3:Lt=7;break t;case 4:Lt=5;break t;case 7:Gd(d)?(Lt=0,en=null,z0(n)):(Lt=0,en=null,cr(t,n,d,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var v=Nt;if(g?wm(g):v.stateNode.complete){Lt=0,en=null;var O=v.sibling;if(O!==null)Nt=O;else{var B=v.return;B!==null?(Nt=B,jo(B)):Nt=null}break e}}Lt=0,en=null,cr(t,n,d,5);break;case 6:Lt=0,en=null,cr(t,n,d,6);break;case 8:Su(),ne=6;break t;default:throw Error(r(462))}}dg();break}catch(P){C0(t,P)}while(!0);return Qn=la=null,A.H=s,A.A=f,Ut=a,Nt!==null?0:(Xt=null,It=0,so(),ne)}function dg(){for(;Nt!==null&&!Ce();)D0(Nt)}function D0(t){var n=r0(t.alternate,t,si);t.memoizedProps=t.pendingProps,n===null?jo(t):Nt=n}function z0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=$h(a,n,n.pendingProps,n.type,void 0,It);break;case 11:n=$h(a,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:Hc(n);default:o0(a,n),n=Nt=Bd(n,si),n=r0(a,n,si)}t.memoizedProps=t.pendingProps,n===null?jo(t):Nt=n}function cr(t,n,a,s){Qn=la=null,Hc(n),Ja=null,ts=0;var f=n.return;try{if(tg(t,f,n,a,It)){ne=1,ko(t,ln(a,t.current)),Nt=null;return}}catch(d){if(f!==null)throw Nt=f,d;ne=1,ko(t,ln(a,t.current)),Nt=null;return}n.flags&32768?(Rt||s===1?t=!0:rr||(It&536870912)!==0?t=!1:(Ii=t=!0,(s===2||s===9||s===3||s===6)&&(s=$e.current,s!==null&&s.tag===13&&(s.flags|=16384))),U0(n,t)):jo(n)}function jo(t){var n=t;do{if((n.flags&32768)!==0){U0(n,Ii);return}t=n.return;var a=ig(n.alternate,n,si);if(a!==null){Nt=a;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);ne===0&&(ne=5)}function U0(t,n){do{var a=ag(t.alternate,t);if(a!==null){a.flags&=32767,Nt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=a}while(t!==null);ne=6,Nt=null}function H0(t,n,a,s,f,d,g,v,O){t.cancelPendingCommit=null;do qo();while(de!==0);if((Ut&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=fc,De(t,a,d,g,v,O),t===Xt&&(Nt=Xt=null,It=0),or=n,Mi=t,oi=a,vu=d,xu=f,N0=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bg(Wi,function(){return q0(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=A.T,A.T=null,f=L.p,L.p=2,g=Ut,Ut|=4;try{rg(t,n,a)}finally{Ut=g,L.p=f,A.T=s}}de=1,L0(),V0(),P0()}}function L0(){if(de===1){de=0;var t=Mi,n=or,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=A.T,A.T=null;var s=L.p;L.p=2;var f=Ut;Ut|=4;try{v0(n,t);var d=Du,g=Od(t.containerInfo),v=d.focusedElem,O=d.selectionRange;if(g!==v&&v&&v.ownerDocument&&Ad(v.ownerDocument.documentElement,v)){if(O!==null&&sc(v)){var B=O.start,P=O.end;if(P===void 0&&(P=B),"selectionStart"in v)v.selectionStart=B,v.selectionEnd=Math.min(P,v.value.length);else{var X=v.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var U=z.getSelection(),it=v.textContent.length,mt=Math.min(O.start,it),Yt=O.end===void 0?mt:Math.min(O.end,it);!U.extend&&mt>Yt&&(g=Yt,Yt=mt,mt=g);var R=Ed(v,mt),T=Ed(v,Yt);if(R&&T&&(U.rangeCount!==1||U.anchorNode!==R.node||U.anchorOffset!==R.offset||U.focusNode!==T.node||U.focusOffset!==T.offset)){var M=X.createRange();M.setStart(R.node,R.offset),U.removeAllRanges(),mt>Yt?(U.addRange(M),U.extend(T.node,T.offset)):(M.setEnd(T.node,T.offset),U.addRange(M))}}}}for(X=[],U=v;U=U.parentNode;)U.nodeType===1&&X.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<X.length;v++){var G=X[v];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}el=!!Bu,Du=Bu=null}finally{Ut=f,L.p=s,A.T=a}}t.current=n,de=2}}function V0(){if(de===2){de=0;var t=Mi,n=or,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=A.T,A.T=null;var s=L.p;L.p=2;var f=Ut;Ut|=4;try{m0(t,n.alternate,n)}finally{Ut=f,L.p=s,A.T=a}}de=3}}function P0(){if(de===4||de===3){de=0,pi();var t=Mi,n=or,a=oi,s=N0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?de=5:(de=0,or=Mi=null,j0(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ri=null),En(a),n=n.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Ji,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=A.T,f=L.p,L.p=2,A.T=null;try{for(var d=t.onRecoverableError,g=0;g<s.length;g++){var v=s[g];d(v.value,{componentStack:v.stack})}}finally{A.T=n,L.p=f}}(oi&3)!==0&&qo(),Un(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===wu?gs++:(gs=0,wu=t):gs=0,ys(0)}}function j0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Jr(n)))}function qo(){return L0(),V0(),P0(),q0()}function q0(){if(de!==5)return!1;var t=Mi,n=vu;vu=0;var a=En(oi),s=A.T,f=L.p;try{L.p=32>a?32:a,A.T=null,a=xu,xu=null;var d=Mi,g=oi;if(de=0,or=Mi=null,oi=0,(Ut&6)!==0)throw Error(r(331));var v=Ut;if(Ut|=4,A0(d.current),w0(d,d.current,g,a),Ut=v,ys(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Ji,d)}catch{}return!0}finally{L.p=f,A.T=s,j0(t,n)}}function K0(t,n,a){n=ln(a,n),n=$c(t.stateNode,n,2),t=_i(t,n,2),t!==null&&($t(t,2),Un(t))}function Vt(t,n,a){if(t.tag===3)K0(t,t,a);else for(;n!==null;){if(n.tag===3){K0(n,t,a);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ri===null||!Ri.has(s))){t=ln(a,t),a=Gh(2),s=_i(n,a,2),s!==null&&(Yh(a,s,n,t),$t(s,2),Un(s));break}}n=n.return}}function Au(t,n,a){var s=t.pingCache;if(s===null){s=t.pingCache=new lg;var f=new Set;s.set(n,f)}else f=s.get(n),f===void 0&&(f=new Set,s.set(n,f));f.has(a)||(bu=!0,f.add(a),t=hg.bind(null,t,n,a),n.then(t,t))}function hg(t,n,a){var s=t.pingCache;s!==null&&s.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Xt===t&&(It&a)===a&&(ne===4||ne===3&&(It&62914560)===It&&300>Re()-Uo?(Ut&2)===0&&lr(t,0):gu|=a,sr===It&&(sr=0)),Un(t)}function G0(t,n){n===0&&(n=Oe()),t=ra(t,n),t!==null&&($t(t,n),Un(t))}function mg(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),G0(t,a)}function pg(t,n){var a=0;switch(t.tag){case 31:case 13:var s=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(n),G0(t,a)}function bg(t,n){return Dr(t,n)}var Ko=null,ur=null,Ou=!1,Go=!1,_u=!1,Di=0;function Un(t){t!==ur&&t.next===null&&(ur===null?Ko=ur=t:ur=ur.next=t),Go=!0,Ou||(Ou=!0,yg())}function ys(t,n){if(!_u&&Go){_u=!0;do for(var a=!1,s=Ko;s!==null;){if(t!==0){var f=s.pendingLanes;if(f===0)var d=0;else{var g=s.suspendedLanes,v=s.pingedLanes;d=(1<<31-Ae(42|t)+1)-1,d&=f&~(g&~v),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Z0(s,d))}else d=It,d=gt(s,s===Xt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(d&3)===0||Wt(s,d)||(a=!0,Z0(s,d));s=s.next}while(a);_u=!1}}function gg(){Y0()}function Y0(){Go=Ou=!1;var t=0;Di!==0&&Tg()&&(t=Di);for(var n=Re(),a=null,s=Ko;s!==null;){var f=s.next,d=X0(s,n);d===0?(s.next=null,a===null?Ko=f:a.next=f,f===null&&(ur=a)):(a=s,(t!==0||(d&3)!==0)&&(Go=!0)),s=f}de!==0&&de!==5||ys(t),Di!==0&&(Di=0)}function X0(t,n){for(var a=t.suspendedLanes,s=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-Ae(d),v=1<<g,O=f[g];O===-1?((v&a)===0||(v&s)!==0)&&(f[g]=pe(v,n)):O<=n&&(t.expiredLanes|=v),d&=~v}if(n=Xt,a=It,a=gt(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,a===0||t===n&&(Lt===2||Lt===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&zr(s),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wt(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(s!==null&&zr(s),En(a)){case 2:case 8:a=Xs;break;case 32:a=Wi;break;case 268435456:a=Kn;break;default:a=Wi}return s=F0.bind(null,t),a=Dr(a,s),t.callbackPriority=n,t.callbackNode=a,n}return s!==null&&s!==null&&zr(s),t.callbackPriority=2,t.callbackNode=null,2}function F0(t,n){if(de!==0&&de!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(qo()&&t.callbackNode!==a)return null;var s=It;return s=gt(t,t===Xt?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(k0(t,s,n),X0(t,Re()),t.callbackNode!=null&&t.callbackNode===a?F0.bind(null,t):null)}function Z0(t,n){if(qo())return null;k0(t,n,!0)}function yg(){Ig(function(){(Ut&6)!==0?Dr(Qi,gg):Y0()})}function Nu(){if(Di===0){var t=Za;t===0&&(t=Ta,Ta<<=1,(Ta&261888)===0&&(Ta=256)),Di=t}return Di}function Q0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Js(""+t)}function W0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function vg(t,n,a,s,f){if(n==="submit"&&a&&a.stateNode===f){var d=Q0((f[He]||null).action),g=s.submitter;g&&(n=(n=g[He]||null)?Q0(n.formAction):g.getAttribute("formAction"),n!==null&&(d=n,g=null));var v=new no("action","action",null,s,f);t.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Di!==0){var O=g?W0(f,g):new FormData(f);Xc(a,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(v.preventDefault(),O=g?W0(f,g):new FormData(f),Xc(a,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var Tu=0;Tu<uc.length;Tu++){var ku=uc[Tu],xg=ku.toLowerCase(),wg=ku[0].toUpperCase()+ku.slice(1);An(xg,"on"+wg)}An(Td,"onAnimationEnd"),An(kd,"onAnimationIteration"),An(Id,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(Ub,"onTransitionRun"),An(Hb,"onTransitionStart"),An(Lb,"onTransitionCancel"),An(Cd,"onTransitionEnd"),Da("onMouseEnter",["mouseout","mouseover"]),Da("onMouseLeave",["mouseout","mouseover"]),Da("onPointerEnter",["pointerout","pointerover"]),Da("onPointerLeave",["pointerout","pointerover"]),ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vs));function J0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var s=t[a],f=s.event;s=s.listeners;t:{var d=void 0;if(n)for(var g=s.length-1;0<=g;g--){var v=s[g],O=v.instance,B=v.currentTarget;if(v=v.listener,O!==d&&f.isPropagationStopped())break t;d=v,f.currentTarget=B;try{d(f)}catch(P){ro(P)}f.currentTarget=null,d=O}else for(g=0;g<s.length;g++){if(v=s[g],O=v.instance,B=v.currentTarget,v=v.listener,O!==d&&f.isPropagationStopped())break t;d=v,f.currentTarget=B;try{d(f)}catch(P){ro(P)}f.currentTarget=null,d=O}}}}function Tt(t,n){var a=n[jl];a===void 0&&(a=n[jl]=new Set);var s=t+"__bubble";a.has(s)||($0(n,t,2,!1),a.add(s))}function Iu(t,n,a){var s=0;n&&(s|=4),$0(a,t,s,n)}var Yo="_reactListening"+Math.random().toString(36).slice(2);function Cu(t){if(!t[Yo]){t[Yo]=!0,Yf.forEach(function(a){a!=="selectionchange"&&(Sg.has(a)||Iu(a,!1,t),Iu(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Yo]||(n[Yo]=!0,Iu("selectionchange",!1,n))}}function $0(t,n,a,s){switch(Tm(n)){case 2:var f=Qg;break;case 8:f=Wg;break;default:f=Yu}a=f.bind(null,n,a,t),f=void 0,!Wl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),s?f!==void 0?t.addEventListener(n,a,{capture:!0,passive:f}):t.addEventListener(n,a,!0):f!==void 0?t.addEventListener(n,a,{passive:f}):t.addEventListener(n,a,!1)}function Ru(t,n,a,s,f){var d=s;if((n&1)===0&&(n&2)===0&&s!==null)t:for(;;){if(s===null)return;var g=s.tag;if(g===3||g===4){var v=s.stateNode.containerInfo;if(v===f)break;if(g===4)for(g=s.return;g!==null;){var O=g.tag;if((O===3||O===4)&&g.stateNode.containerInfo===f)return;g=g.return}for(;v!==null;){if(g=Ra(v),g===null)return;if(O=g.tag,O===5||O===6||O===26||O===27){s=d=g;continue t}v=v.parentNode}}s=s.return}ad(function(){var B=d,P=Zl(a),X=[];t:{var z=Rd.get(t);if(z!==void 0){var U=no,it=t;switch(t){case"keypress":if(to(a)===0)break t;case"keydown":case"keyup":U=pb;break;case"focusin":it="focus",U=ec;break;case"focusout":it="blur",U=ec;break;case"beforeblur":case"afterblur":U=ec;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=ib;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=yb;break;case Td:case kd:case Id:U=sb;break;case Cd:U=xb;break;case"scroll":case"scrollend":U=eb;break;case"wheel":U=Sb;break;case"copy":case"cut":case"paste":U=lb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=cd;break;case"toggle":case"beforetoggle":U=Ab}var mt=(n&4)!==0,Yt=!mt&&(t==="scroll"||t==="scrollend"),R=mt?z!==null?z+"Capture":null:z;mt=[];for(var T=B,M;T!==null;){var G=T;if(M=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||M===null||R===null||(G=Pr(T,R),G!=null&&mt.push(xs(T,G,M))),Yt)break;T=T.return}0<mt.length&&(z=new U(z,it,null,a,P),X.push({event:z,listeners:mt}))}}if((n&7)===0){t:{if(z=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",z&&a!==Fl&&(it=a.relatedTarget||a.fromElement)&&(Ra(it)||it[Ca]))break t;if((U||z)&&(z=P.window===P?P:(z=P.ownerDocument)?z.defaultView||z.parentWindow:window,U?(it=a.relatedTarget||a.toElement,U=B,it=it?Ra(it):null,it!==null&&(Yt=c(it),mt=it.tag,it!==Yt||mt!==5&&mt!==27&&mt!==6)&&(it=null)):(U=null,it=B),U!==it)){if(mt=od,G="onMouseLeave",R="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(mt=cd,G="onPointerLeave",R="onPointerEnter",T="pointer"),Yt=U==null?z:Vr(U),M=it==null?z:Vr(it),z=new mt(G,T+"leave",U,a,P),z.target=Yt,z.relatedTarget=M,G=null,Ra(P)===B&&(mt=new mt(R,T+"enter",it,a,P),mt.target=M,mt.relatedTarget=Yt,G=mt),Yt=G,U&&it)e:{for(mt=Eg,R=U,T=it,M=0,G=R;G;G=mt(G))M++;G=0;for(var ft=T;ft;ft=mt(ft))G++;for(;0<M-G;)R=mt(R),M--;for(;0<G-M;)T=mt(T),G--;for(;M--;){if(R===T||T!==null&&R===T.alternate){mt=R;break e}R=mt(R),T=mt(T)}mt=null}else mt=null;U!==null&&tm(X,z,U,mt,!1),it!==null&&Yt!==null&&tm(X,Yt,it,mt,!0)}}t:{if(z=B?Vr(B):window,U=z.nodeName&&z.nodeName.toLowerCase(),U==="select"||U==="input"&&z.type==="file")var Dt=gd;else if(pd(z))if(yd)Dt=Bb;else{Dt=Rb;var ot=Cb}else U=z.nodeName,!U||U.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?B&&Xl(B.elementType)&&(Dt=gd):Dt=Mb;if(Dt&&(Dt=Dt(t,B))){bd(X,Dt,a,P);break t}ot&&ot(t,z,B),t==="focusout"&&B&&z.type==="number"&&B.memoizedProps.value!=null&&Yl(z,"number",z.value)}switch(ot=B?Vr(B):window,t){case"focusin":(pd(ot)||ot.contentEditable==="true")&&(Pa=ot,oc=B,Zr=null);break;case"focusout":Zr=oc=Pa=null;break;case"mousedown":lc=!0;break;case"contextmenu":case"mouseup":case"dragend":lc=!1,_d(X,a,P);break;case"selectionchange":if(zb)break;case"keydown":case"keyup":_d(X,a,P)}var Et;if(ic)t:{switch(t){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else Va?hd(t,a)&&(Ct="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(ud&&a.locale!=="ko"&&(Va||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Va&&(Et=rd()):(vi=P,Jl="value"in vi?vi.value:vi.textContent,Va=!0)),ot=Xo(B,Ct),0<ot.length&&(Ct=new ld(Ct,t,null,a,P),X.push({event:Ct,listeners:ot}),Et?Ct.data=Et:(Et=md(a),Et!==null&&(Ct.data=Et)))),(Et=_b?Nb(t,a):Tb(t,a))&&(Ct=Xo(B,"onBeforeInput"),0<Ct.length&&(ot=new ld("onBeforeInput","beforeinput",null,a,P),X.push({event:ot,listeners:Ct}),ot.data=Et)),vg(X,t,B,a,P)}J0(X,n)})}function xs(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Xo(t,n){for(var a=n+"Capture",s=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Pr(t,a),f!=null&&s.unshift(xs(t,f,d)),f=Pr(t,n),f!=null&&s.push(xs(t,f,d))),t.tag===3)return s;t=t.return}return[]}function Eg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tm(t,n,a,s,f){for(var d=n._reactName,g=[];a!==null&&a!==s;){var v=a,O=v.alternate,B=v.stateNode;if(v=v.tag,O!==null&&O===s)break;v!==5&&v!==26&&v!==27||B===null||(O=B,f?(B=Pr(a,d),B!=null&&g.unshift(xs(a,B,O))):f||(B=Pr(a,d),B!=null&&g.push(xs(a,B,O)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var Ag=/\r\n?/g,Og=/\u0000|\uFFFD/g;function em(t){return(typeof t=="string"?t:""+t).replace(Ag,`
`).replace(Og,"")}function nm(t,n){return n=em(n),em(t)===n}function Gt(t,n,a,s,f,d){switch(a){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Ua(t,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Ua(t,""+s);break;case"className":Qs(t,"class",s);break;case"tabIndex":Qs(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Qs(t,a,s);break;case"style":nd(t,s,d);break;case"data":if(n!=="object"){Qs(t,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(a);break}s=Js(""+s),t.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Gt(t,n,"name",f.name,f,null),Gt(t,n,"formEncType",f.formEncType,f,null),Gt(t,n,"formMethod",f.formMethod,f,null),Gt(t,n,"formTarget",f.formTarget,f,null)):(Gt(t,n,"encType",f.encType,f,null),Gt(t,n,"method",f.method,f,null),Gt(t,n,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(a);break}s=Js(""+s),t.setAttribute(a,s);break;case"onClick":s!=null&&(t.onclick=Yn);break;case"onScroll":s!=null&&Tt("scroll",t);break;case"onScrollEnd":s!=null&&Tt("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}a=Js(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(a,""+s):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":s===!0?t.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(a,s):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(a,s):t.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(a):t.setAttribute(a,s);break;case"popover":Tt("beforetoggle",t),Tt("toggle",t),Zs(t,"popover",s);break;case"xlinkActuate":Gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Gn(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Gn(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Gn(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Gn(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Zs(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$1.get(a)||a,Zs(t,a,s))}}function Mu(t,n,a,s,f,d){switch(a){case"style":nd(t,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof s=="string"?Ua(t,s):(typeof s=="number"||typeof s=="bigint")&&Ua(t,""+s);break;case"onScroll":s!=null&&Tt("scroll",t);break;case"onScrollEnd":s!=null&&Tt("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xf.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),d=t[He]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,f),typeof s=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,s,f);break t}a in t?t[a]=s:s===!0?t.setAttribute(a,""):Zs(t,a,s)}}}function Ee(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",t),Tt("load",t);var s=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Gt(t,n,d,g,a,null)}}f&&Gt(t,n,"srcSet",a.srcSet,a,null),s&&Gt(t,n,"src",a.src,a,null);return;case"input":Tt("invalid",t);var v=d=g=f=null,O=null,B=null;for(s in a)if(a.hasOwnProperty(s)){var P=a[s];if(P!=null)switch(s){case"name":f=P;break;case"type":g=P;break;case"checked":O=P;break;case"defaultChecked":B=P;break;case"value":d=P;break;case"defaultValue":v=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:Gt(t,n,s,P,a,null)}}Jf(t,d,v,O,B,g,f,!1);return;case"select":Tt("invalid",t),s=g=d=null;for(f in a)if(a.hasOwnProperty(f)&&(v=a[f],v!=null))switch(f){case"value":d=v;break;case"defaultValue":g=v;break;case"multiple":s=v;default:Gt(t,n,f,v,a,null)}n=d,a=g,t.multiple=!!s,n!=null?za(t,!!s,n,!1):a!=null&&za(t,!!s,a,!0);return;case"textarea":Tt("invalid",t),d=f=s=null;for(g in a)if(a.hasOwnProperty(g)&&(v=a[g],v!=null))switch(g){case"value":s=v;break;case"defaultValue":f=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Gt(t,n,g,v,a,null)}td(t,s,f,d);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(s=a[O],s!=null))switch(O){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Gt(t,n,O,s,a,null)}return;case"dialog":Tt("beforetoggle",t),Tt("toggle",t),Tt("cancel",t),Tt("close",t);break;case"iframe":case"object":Tt("load",t);break;case"video":case"audio":for(s=0;s<vs.length;s++)Tt(vs[s],t);break;case"image":Tt("error",t),Tt("load",t);break;case"details":Tt("toggle",t);break;case"embed":case"source":case"link":Tt("error",t),Tt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(s=a[B],s!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Gt(t,n,B,s,a,null)}return;default:if(Xl(n)){for(P in a)a.hasOwnProperty(P)&&(s=a[P],s!==void 0&&Mu(t,n,P,s,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(s=a[v],s!=null&&Gt(t,n,v,s,a,null))}function _g(t,n,a,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,g=null,v=null,O=null,B=null,P=null;for(U in a){var X=a[U];if(a.hasOwnProperty(U)&&X!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":O=X;default:s.hasOwnProperty(U)||Gt(t,n,U,null,s,X)}}for(var z in s){var U=s[z];if(X=a[z],s.hasOwnProperty(z)&&(U!=null||X!=null))switch(z){case"type":d=U;break;case"name":f=U;break;case"checked":B=U;break;case"defaultChecked":P=U;break;case"value":g=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,n));break;default:U!==X&&Gt(t,n,z,U,s,X)}}Gl(t,g,v,O,B,P,d,f);return;case"select":U=g=v=z=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":U=O;default:s.hasOwnProperty(d)||Gt(t,n,d,null,s,O)}for(f in s)if(d=s[f],O=a[f],s.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":z=d;break;case"defaultValue":v=d;break;case"multiple":g=d;default:d!==O&&Gt(t,n,f,d,s,O)}n=v,a=g,s=U,z!=null?za(t,!!a,z,!1):!!s!=!!a&&(n!=null?za(t,!!a,n,!0):za(t,!!a,a?[]:"",!1));return;case"textarea":U=z=null;for(v in a)if(f=a[v],a.hasOwnProperty(v)&&f!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Gt(t,n,v,null,s,f)}for(g in s)if(f=s[g],d=a[g],s.hasOwnProperty(g)&&(f!=null||d!=null))switch(g){case"value":z=f;break;case"defaultValue":U=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Gt(t,n,g,f,s,d)}$f(t,z,U);return;case"option":for(var it in a)if(z=a[it],a.hasOwnProperty(it)&&z!=null&&!s.hasOwnProperty(it))switch(it){case"selected":t.selected=!1;break;default:Gt(t,n,it,null,s,z)}for(O in s)if(z=s[O],U=a[O],s.hasOwnProperty(O)&&z!==U&&(z!=null||U!=null))switch(O){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Gt(t,n,O,z,s,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)z=a[mt],a.hasOwnProperty(mt)&&z!=null&&!s.hasOwnProperty(mt)&&Gt(t,n,mt,null,s,z);for(B in s)if(z=s[B],U=a[B],s.hasOwnProperty(B)&&z!==U&&(z!=null||U!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Gt(t,n,B,z,s,U)}return;default:if(Xl(n)){for(var Yt in a)z=a[Yt],a.hasOwnProperty(Yt)&&z!==void 0&&!s.hasOwnProperty(Yt)&&Mu(t,n,Yt,void 0,s,z);for(P in s)z=s[P],U=a[P],!s.hasOwnProperty(P)||z===U||z===void 0&&U===void 0||Mu(t,n,P,z,s,U);return}}for(var R in a)z=a[R],a.hasOwnProperty(R)&&z!=null&&!s.hasOwnProperty(R)&&Gt(t,n,R,null,s,z);for(X in s)z=s[X],U=a[X],!s.hasOwnProperty(X)||z===U||z==null&&U==null||Gt(t,n,X,z,s,U)}function im(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ng(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var f=a[s],d=f.transferSize,g=f.initiatorType,v=f.duration;if(d&&v&&im(g)){for(g=0,v=f.responseEnd,s+=1;s<a.length;s++){var O=a[s],B=O.startTime;if(B>v)break;var P=O.transferSize,X=O.initiatorType;P&&im(X)&&(O=O.responseEnd,g+=P*(O<v?1:(v-B)/(O-B)))}if(--s,n+=8*(d+g)/(f.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bu=null,Du=null;function Fo(t){return t.nodeType===9?t:t.ownerDocument}function am(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rm(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function zu(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Uu=null;function Tg(){var t=window.event;return t&&t.type==="popstate"?t===Uu?!1:(Uu=t,!0):(Uu=null,!1)}var sm=typeof setTimeout=="function"?setTimeout:void 0,kg=typeof clearTimeout=="function"?clearTimeout:void 0,om=typeof Promise=="function"?Promise:void 0,Ig=typeof queueMicrotask=="function"?queueMicrotask:typeof om<"u"?function(t){return om.resolve(null).then(t).catch(Cg)}:sm;function Cg(t){setTimeout(function(){throw t})}function zi(t){return t==="head"}function lm(t,n){var a=n,s=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(s===0){t.removeChild(f),mr(n);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")ws(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,ws(a);for(var d=a.firstChild;d;){var g=d.nextSibling,v=d.nodeName;d[Lr]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=g}}else a==="body"&&ws(t.ownerDocument.body);a=f}while(a);mr(n)}function cm(t,n){var a=t;t=0;do{var s=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=s}while(a)}function Hu(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hu(a),ql(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Rg(t,n,a,s){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Lr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=hn(t.nextSibling),t===null)break}return null}function Mg(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=hn(t.nextSibling),t===null))return null;return t}function um(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=hn(t.nextSibling),t===null))return null;return t}function Lu(t){return t.data==="$?"||t.data==="$~"}function Vu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Bg(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var s=function(){n(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function hn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Pu=null;function fm(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return hn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function dm(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function hm(t,n,a){switch(n=Fo(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function ws(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ql(t)}var mn=new Map,mm=new Set;function Zo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var li=L.d;L.d={f:Dg,r:zg,D:Ug,C:Hg,L:Lg,m:Vg,X:jg,S:Pg,M:qg};function Dg(){var t=li.f(),n=Vo();return t||n}function zg(t){var n=Ma(t);n!==null&&n.tag===5&&n.type==="form"?Ch(n):li.r(t)}var fr=typeof document>"u"?null:document;function pm(t,n,a){var s=fr;if(s&&typeof n=="string"&&n){var f=sn(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),mm.has(f)||(mm.add(f),t={rel:t,crossOrigin:a,href:n},s.querySelector(f)===null&&(n=s.createElement("link"),Ee(n,"link",t),be(n),s.head.appendChild(n)))}}function Ug(t){li.D(t),pm("dns-prefetch",t,null)}function Hg(t,n){li.C(t,n),pm("preconnect",t,n)}function Lg(t,n,a){li.L(t,n,a);var s=fr;if(s&&t&&n){var f='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+sn(a.imageSizes)+'"]')):f+='[href="'+sn(t)+'"]';var d=f;switch(n){case"style":d=dr(t);break;case"script":d=hr(t)}mn.has(d)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),mn.set(d,t),s.querySelector(f)!==null||n==="style"&&s.querySelector(Ss(d))||n==="script"&&s.querySelector(Es(d))||(n=s.createElement("link"),Ee(n,"link",t),be(n),s.head.appendChild(n)))}}function Vg(t,n){li.m(t,n);var a=fr;if(a&&t){var s=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+sn(s)+'"][href="'+sn(t)+'"]',d=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=hr(t)}if(!mn.has(d)&&(t=b({rel:"modulepreload",href:t},n),mn.set(d,t),a.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Es(d)))return}s=a.createElement("link"),Ee(s,"link",t),be(s),a.head.appendChild(s)}}}function Pg(t,n,a){li.S(t,n,a);var s=fr;if(s&&t){var f=Ba(s).hoistableStyles,d=dr(t);n=n||"default";var g=f.get(d);if(!g){var v={loading:0,preload:null};if(g=s.querySelector(Ss(d)))v.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=mn.get(d))&&ju(t,a);var O=g=s.createElement("link");be(O),Ee(O,"link",t),O._p=new Promise(function(B,P){O.onload=B,O.onerror=P}),O.addEventListener("load",function(){v.loading|=1}),O.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Qo(g,n,s)}g={type:"stylesheet",instance:g,count:1,state:v},f.set(d,g)}}}function jg(t,n){li.X(t,n);var a=fr;if(a&&t){var s=Ba(a).hoistableScripts,f=hr(t),d=s.get(f);d||(d=a.querySelector(Es(f)),d||(t=b({src:t,async:!0},n),(n=mn.get(f))&&qu(t,n),d=a.createElement("script"),be(d),Ee(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(f,d))}}function qg(t,n){li.M(t,n);var a=fr;if(a&&t){var s=Ba(a).hoistableScripts,f=hr(t),d=s.get(f);d||(d=a.querySelector(Es(f)),d||(t=b({src:t,async:!0,type:"module"},n),(n=mn.get(f))&&qu(t,n),d=a.createElement("script"),be(d),Ee(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(f,d))}}function bm(t,n,a,s){var f=(f=lt.current)?Zo(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=dr(a.href),a=Ba(f).hoistableStyles,s=a.get(n),s||(s={type:"style",instance:null,count:0,state:null},a.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=dr(a.href);var d=Ba(f).hoistableStyles,g=d.get(t);if(g||(f=f.ownerDocument||f,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=f.querySelector(Ss(t)))&&!d._p&&(g.instance=d,g.state.loading=5),mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},mn.set(t,a),d||Kg(f,t,a,g.state))),n&&s===null)throw Error(r(528,""));return g}if(n&&s!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=hr(a),a=Ba(f).hoistableScripts,s=a.get(n),s||(s={type:"script",instance:null,count:0,state:null},a.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function dr(t){return'href="'+sn(t)+'"'}function Ss(t){return'link[rel="stylesheet"]['+t+"]"}function gm(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Kg(t,n,a,s){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=t.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),Ee(n,"link",a),be(n),t.head.appendChild(n))}function hr(t){return'[src="'+sn(t)+'"]'}function Es(t){return"script[async]"+t}function ym(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var s=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(s)return n.instance=s,be(s),s;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),be(s),Ee(s,"style",f),Qo(s,a.precedence,t),n.instance=s;case"stylesheet":f=dr(a.href);var d=t.querySelector(Ss(f));if(d)return n.state.loading|=4,n.instance=d,be(d),d;s=gm(a),(f=mn.get(f))&&ju(s,f),d=(t.ownerDocument||t).createElement("link"),be(d);var g=d;return g._p=new Promise(function(v,O){g.onload=v,g.onerror=O}),Ee(d,"link",s),n.state.loading|=4,Qo(d,a.precedence,t),n.instance=d;case"script":return d=hr(a.src),(f=t.querySelector(Es(d)))?(n.instance=f,be(f),f):(s=a,(f=mn.get(d))&&(s=b({},a),qu(s,f)),t=t.ownerDocument||t,f=t.createElement("script"),be(f),Ee(f,"link",s),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Qo(s,a.precedence,t));return n.instance}function Qo(t,n,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,d=f,g=0;g<s.length;g++){var v=s[g];if(v.dataset.precedence===n)d=v;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function ju(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function qu(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Wo=null;function vm(t,n,a){if(Wo===null){var s=new Map,f=Wo=new Map;f.set(a,s)}else f=Wo,s=f.get(a),s||(s=new Map,f.set(a,s));if(s.has(t))return s;for(s.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Lr]||d[ve]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(n)||"";g=t+g;var v=s.get(g);v?v.push(d):s.set(g,[d])}}return s}function xm(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Gg(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function wm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Yg(t,n,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=dr(s.href),d=n.querySelector(Ss(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Jo.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=d,be(d);return}d=n.ownerDocument||n,s=gm(s),(f=mn.get(f))&&ju(s,f),d=d.createElement("link"),be(d);var g=d;g._p=new Promise(function(v,O){g.onload=v,g.onerror=O}),Ee(d,"link",s),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Jo.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ku=0;function Xg(t,n){return t.stylesheets&&t.count===0&&tl(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var s=setTimeout(function(){if(t.stylesheets&&tl(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&Ku===0&&(Ku=62500*Ng());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&tl(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Ku?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function Jo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var $o=null;function tl(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,$o=new Map,n.forEach(Fg,t),$o=null,Jo.call(t))}function Fg(t,n){if(!(n.state.loading&4)){var a=$o.get(t);if(a)var s=a.get(null);else{a=new Map,$o.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var g=f[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),s=g)}s&&a.set(null,s)}f=n.instance,g=f.getAttribute("data-precedence"),d=a.get(g)||s,d===s&&a.set(null,f),a.set(g,f),this.count++,s=Jo.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var As={$$typeof:q,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function Zg(t,n,a,s,f,d,g,v,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Sm(t,n,a,s,f,d,g,v,O,B,P,X){return t=new Zg(t,n,a,g,O,B,P,X,v),n=1,d===!0&&(n|=24),d=Je(3,null,null,n),t.current=d,d.stateNode=t,n=Ec(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:s,isDehydrated:a,cache:n},Nc(d),t}function Em(t){return t?(t=Ka,t):Ka}function Am(t,n,a,s,f,d){f=Em(f),s.context===null?s.context=f:s.pendingContext=f,s=Oi(n),s.payload={element:a},d=d===void 0?null:d,d!==null&&(s.callback=d),a=_i(t,s,n),a!==null&&(Ke(a,t,n),ns(a,t,n))}function Om(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Gu(t,n){Om(t,n),(t=t.alternate)&&Om(t,n)}function _m(t){if(t.tag===13||t.tag===31){var n=ra(t,67108864);n!==null&&Ke(n,t,67108864),Gu(t,67108864)}}function Nm(t){if(t.tag===13||t.tag===31){var n=an();n=Ia(n);var a=ra(t,n);a!==null&&Ke(a,t,n),Gu(t,n)}}var el=!0;function Qg(t,n,a,s){var f=A.T;A.T=null;var d=L.p;try{L.p=2,Yu(t,n,a,s)}finally{L.p=d,A.T=f}}function Wg(t,n,a,s){var f=A.T;A.T=null;var d=L.p;try{L.p=8,Yu(t,n,a,s)}finally{L.p=d,A.T=f}}function Yu(t,n,a,s){if(el){var f=Xu(s);if(f===null)Ru(t,n,s,nl,a),km(t,s);else if($g(f,t,n,a,s))s.stopPropagation();else if(km(t,s),n&4&&-1<Jg.indexOf(t)){for(;f!==null;){var d=Ma(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Mn(d.pendingLanes);if(g!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var O=1<<31-Ae(g);v.entanglements[1]|=O,g&=~O}Un(d),(Ut&6)===0&&(Ho=Re()+500,ys(0))}}break;case 31:case 13:v=ra(d,2),v!==null&&Ke(v,d,2),Vo(),Gu(d,2)}if(d=Xu(s),d===null&&Ru(t,n,s,nl,a),d===f)break;f=d}f!==null&&s.stopPropagation()}else Ru(t,n,s,null,a)}}function Xu(t){return t=Zl(t),Fu(t)}var nl=null;function Fu(t){if(nl=null,t=Ra(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=u(n),t!==null)return t;t=null}else if(a===31){if(t=h(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return nl=t,null}function Tm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ll()){case Qi:return 2;case Xs:return 8;case Wi:case Ur:return 32;case Kn:return 268435456;default:return 32}default:return 32}}var Zu=!1,Ui=null,Hi=null,Li=null,Os=new Map,_s=new Map,Vi=[],Jg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function km(t,n){switch(t){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":Os.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(n.pointerId)}}function Ns(t,n,a,s,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:s,nativeEvent:d,targetContainers:[f]},n!==null&&(n=Ma(n),n!==null&&_m(n)),t):(t.eventSystemFlags|=s,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function $g(t,n,a,s,f){switch(n){case"focusin":return Ui=Ns(Ui,t,n,a,s,f),!0;case"dragenter":return Hi=Ns(Hi,t,n,a,s,f),!0;case"mouseover":return Li=Ns(Li,t,n,a,s,f),!0;case"pointerover":var d=f.pointerId;return Os.set(d,Ns(Os.get(d)||null,t,n,a,s,f)),!0;case"gotpointercapture":return d=f.pointerId,_s.set(d,Ns(_s.get(d)||null,t,n,a,s,f)),!0}return!1}function Im(t){var n=Ra(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=u(a),n!==null){t.blockedOn=n,Kf(t.priority,function(){Nm(a)});return}}else if(n===31){if(n=h(a),n!==null){t.blockedOn=n,Kf(t.priority,function(){Nm(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function il(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Xu(t.nativeEvent);if(a===null){a=t.nativeEvent;var s=new a.constructor(a.type,a);Fl=s,a.target.dispatchEvent(s),Fl=null}else return n=Ma(a),n!==null&&_m(n),t.blockedOn=a,!1;n.shift()}return!0}function Cm(t,n,a){il(t)&&a.delete(n)}function ty(){Zu=!1,Ui!==null&&il(Ui)&&(Ui=null),Hi!==null&&il(Hi)&&(Hi=null),Li!==null&&il(Li)&&(Li=null),Os.forEach(Cm),_s.forEach(Cm)}function al(t,n){t.blockedOn===n&&(t.blockedOn=null,Zu||(Zu=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,ty)))}var rl=null;function Rm(t){rl!==t&&(rl=t,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){rl===t&&(rl=null);for(var n=0;n<t.length;n+=3){var a=t[n],s=t[n+1],f=t[n+2];if(typeof s!="function"){if(Fu(s||a)===null)continue;break}var d=Ma(a);d!==null&&(t.splice(n,3),n-=3,Xc(d,{pending:!0,data:f,method:a.method,action:s},s,f))}}))}function mr(t){function n(O){return al(O,t)}Ui!==null&&al(Ui,t),Hi!==null&&al(Hi,t),Li!==null&&al(Li,t),Os.forEach(n),_s.forEach(n);for(var a=0;a<Vi.length;a++){var s=Vi[a];s.blockedOn===t&&(s.blockedOn=null)}for(;0<Vi.length&&(a=Vi[0],a.blockedOn===null);)Im(a),a.blockedOn===null&&Vi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var f=a[s],d=a[s+1],g=f[He]||null;if(typeof d=="function")g||Rm(a);else if(g){var v=null;if(d&&d.hasAttribute("formAction")){if(f=d,g=d[He]||null)v=g.formAction;else if(Fu(f)!==null)continue}else v=g.action;typeof v=="function"?a[s+1]=v:(a.splice(s,3),s-=3),Rm(a)}}}function Mm(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return f=g})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Qu(t){this._internalRoot=t}sl.prototype.render=Qu.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,s=an();Am(a,s,t,n,null,null)},sl.prototype.unmount=Qu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Am(t.current,2,null,t,null,null),Vo(),n[Ca]=null}};function sl(t){this._internalRoot=t}sl.prototype.unstable_scheduleHydration=function(t){if(t){var n=Pl();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Vi.length&&n!==0&&n<Vi[a].priority;a++);Vi.splice(a,0,t),a===0&&Im(t)}};var Bm=e.version;if(Bm!=="19.2.1")throw Error(r(527,Bm,"19.2.1"));L.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var ey={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{Ji=ol.inject(ey),Me=ol}catch{}}return ks.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,s="",f=Ph,d=jh,g=qh;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Sm(t,1,!1,null,null,a,s,null,f,d,g,Mm),t[Ca]=n.current,Cu(t),new Qu(n)},ks.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var s=!1,f="",d=Ph,g=jh,v=qh,O=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),n=Sm(t,1,!0,n,a??null,s,f,O,d,g,v,Mm),n.context=Em(null),a=n.current,s=an(),s=Ia(s),f=Oi(s),f.callback=null,_i(a,f,s),a=s,n.current.lanes=a,$t(n,a),Un(n),t[Ca]=n.current,Cu(t),new sl(n)},ks.version="19.2.1",ks}var Km;function fy(){if(Km)return $u.exports;Km=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),$u.exports=uy(),$u.exports}var dy=fy();const df=typeof globalThis<"u"?globalThis.Buffer:void 0,hy=df!=null&&typeof df.from=="function",Hs=new Int8Array(256).fill(-1);for(let o=0;o<10;o++)Hs[48+o]=o;for(let o=0;o<6;o++)Hs[65+o]=10+o,Hs[97+o]=10+o;class _{static zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];static groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];static groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];static wordSize=26;static WORD_SIZE_BIGINT=BigInt(_.wordSize);static WORD_MASK=(1n<<_.WORD_SIZE_BIGINT)-1n;static MAX_SAFE_INTEGER_BIGINT=BigInt(Number.MAX_SAFE_INTEGER);static MIN_SAFE_INTEGER_BIGINT=BigInt(Number.MIN_SAFE_INTEGER);static MAX_IMULN_ARG=67108863;static MAX_NUMBER_CONSTRUCTOR_MAG_BIGINT=(1n<<53n)-1n;_magnitude;_sign;_nominalWordLength;red;get negative(){return this._sign}set negative(e){this.assert(e===0||e===1,"Negative property must be 0 or 1");const i=e===1?1:0;this._magnitude===0n?this._sign=0:this._sign=i}get _computedWordsArray(){if(this._magnitude===0n)return[0];const e=[];let i=this._magnitude;for(;i>0n;)e.push(Number(i&_.WORD_MASK)),i>>=_.WORD_SIZE_BIGINT;return e.length>0?e:[0]}get words(){const e=this._computedWordsArray;if(this._nominalWordLength<=e.length)return e;const i=new Array(this._nominalWordLength).fill(0);for(let r=0;r<e.length;r++)i[r]=e[r];return i}set words(e){const i=this._sign;let r=0n;const l=e.length>0?e.length:1;for(let c=l-1;c>=0;c--){const u=e[c]===void 0?0:e[c];r=r<<_.WORD_SIZE_BIGINT|BigInt(u&Number(_.WORD_MASK))}this._magnitude=r,this._sign=i,this._nominalWordLength=l,this.normSign()}get length(){return Math.max(1,this._nominalWordLength)}static isBN(e){return e instanceof _?!0:e!==null&&typeof e=="object"&&e.constructor?.wordSize===_.wordSize&&Array.isArray(e.words)}static max(e,i){return e.cmp(i)>0?e:i}static min(e,i){return e.cmp(i)<0?e:i}constructor(e=0,i=10,r="be"){if(this._magnitude=0n,this._sign=0,this._nominalWordLength=1,this.red=null,e===void 0&&(e=0),e===null){this._initializeState(0n,0);return}if(typeof e=="bigint"){this._initializeState(e<0n?-e:e,e<0n?1:0),this.normSign();return}let l=i,c=r;if((i==="le"||i==="be")&&(c=i,l=10),typeof e=="number"){this.initNumber(e,c);return}if(Array.isArray(e)){this.initArray(e,c);return}if(typeof e=="string"){l==="hex"&&(l=16),this.assert(typeof l=="number"&&l===(l|0)&&l>=2&&l<=36,"Base must be an integer between 2 and 36");const u=e.toString().replace(/\s+/g,"");let h=0,m=0;u.startsWith("-")?(h++,m=1):u.startsWith("+")&&h++;const p=u.substring(h);if(p.length===0){this._initializeState(0n,m===1&&u.startsWith("-")?1:0),this.normSign();return}if(l===16){let y;if(c==="le"){const b=[];let x=p;x.length%2!==0&&(x="0"+x);for(let w=0;w<x.length;w+=2){const S=x.substring(w,w+2),k=parseInt(S,16);if(isNaN(k))throw new Error("Invalid character in "+x);b.push(k)}this.initArray(b,"le"),this._sign=m,this.normSign();return}else try{y=BigInt("0x"+p)}catch{throw new Error("Invalid character in "+p)}this._initializeState(y,m),this.normSign()}else try{if(this._parseBaseString(p,l),this._sign=m,this.normSign(),c==="le"){const y=this._sign;this.initArray(this.toArray("be"),"le"),this._sign=y,this.normSign()}}catch(y){const b=y;throw b.message.includes("Invalid character in string")||b.message.includes("Invalid digit for base")||b.message.startsWith("Invalid character:")?new Error("Invalid character"):b}}else e!==0?this.assert(!1,"Unsupported input type for BigNumber constructor"):this._initializeState(0n,0)}_bigIntToStringInBase(e,i){if(e===0n)return"0";if(i<2||i>36)throw new Error("Base must be between 2 and 36");const r="0123456789abcdefghijklmnopqrstuvwxyz";let l="",c=e>0n?e:-e;const u=BigInt(i);for(;c>0n;)l=r[Number(c%u)]+l,c/=u;return l}_parseBaseString(e,i){if(e.length===0){this._magnitude=0n,this._finishInitialization();return}this._magnitude=0n;const r=BigInt(i);let l=_.groupSizes[i],c=BigInt(_.groupBases[i]);(l===0||c===0n)&&(l=Math.floor(Math.log(67108863)/Math.log(i)),l===0&&(l=1),c=r**BigInt(l));let u=0;const h=e.length;let m=h%l;if(m===0&&h>0&&(m=l),m>0){const p=e.substring(u,u+m);this._magnitude=BigInt(this._parseBaseWord(p,i)),u+=m}for(;u<h;){const p=e.substring(u,u+l),y=BigInt(this._parseBaseWord(p,i));this._magnitude=this._magnitude*c+y,u+=l}this._finishInitialization()}_parseBaseWord(e,i){let r=0;for(let l=0;l<e.length;l++){const c=e.charCodeAt(l);let u;if(c>=48&&c<=57)u=c-48;else if(c>=65&&c<=90)u=c-65+10;else if(c>=97&&c<=122)u=c-97+10;else throw new Error("Invalid character: "+e[l]);if(u>=i)throw new Error("Invalid character");r=r*i+u}return r}_initializeState(e,i){this._magnitude=e,this._sign=e===0n?0:i,this._finishInitialization()}_finishInitialization(){if(this._magnitude===0n)this._nominalWordLength=1,this._sign=0;else{const e=this._magnitude.toString(2).length;this._nominalWordLength=Math.max(1,Math.ceil(e/_.wordSize))}}assert(e,i="Assertion failed"){if(!e)throw new Error(i)}initNumber(e,i="be"){if(this.assert(BigInt(Math.abs(e))<=_.MAX_NUMBER_CONSTRUCTOR_MAG_BIGINT,"The number is larger than 2 ^ 53 (unsafe)"),this.assert(e%1===0,"Number must be an integer for BigNumber conversion"),this._initializeState(BigInt(Math.abs(e)),e<0?1:0),i==="le"){const r=this._sign,l=this.toArray("be");this.initArray(l,"le"),this._sign=r,this.normSign()}return this}initArray(e,i){if(e.length===0)return this._initializeState(0n,0),this;let r=0n;if(i==="be")for(let l=0;l<e.length;l++)r=r<<8n|BigInt(e[l]&255);else for(let l=e.length-1;l>=0;l--)r=r<<8n|BigInt(e[l]&255);return this._initializeState(r,0),this}copy(e){e._magnitude=this._magnitude,e._sign=this._sign,e._nominalWordLength=this._nominalWordLength,e.red=this.red}static move(e,i){e._magnitude=i._magnitude,e._sign=i._sign,e._nominalWordLength=i._nominalWordLength,e.red=i.red}clone(){const e=new _(0n);return this.copy(e),e}expand(e){return this.assert(e>=0,"Expand size must be non-negative"),this._nominalWordLength=Math.max(this._nominalWordLength,e,1),this}strip(){return this._finishInitialization(),this.normSign()}normSign(){return this._magnitude===0n&&(this._sign=0),this}inspect(){return(this.red!==null?"<BN-R: ":"<BN: ")+this.toString(16)+">"}_getMinimalHex(){return this._magnitude===0n?"0":this._magnitude.toString(16)}toString(e=10,i=1){if(e===16||e==="hex"){let r=this._getMinimalHex();if(i>1)for(r!=="0"&&r.length%2!==0&&(r="0"+r);r.length%i!==0;)r="0"+r;return(this.isNeg()?"-":"")+r}if(typeof e!="number"||e<2||e>36||e%1!==0)throw new Error("Base should be an integer between 2 and 36");return this.toBaseString(e,i)}toBaseString(e,i){if(this._magnitude===0n){let h="0";if(i>1)for(;h.length<i;)h="0"+h;return h}let r=_.groupSizes[e],l=BigInt(_.groupBases[e]);(r===0||l===0n)&&(r=Math.floor(Math.log(Number.MAX_SAFE_INTEGER)/Math.log(e)),r===0&&(r=1),l=BigInt(e)**BigInt(r));let c="",u=this._magnitude;for(;u>0n;){const h=u%l;u/=l;const m=this._bigIntToStringInBase(h,e);if(u>0n){const p=r-m.length;p>0&&p<_.zeros.length?c=_.zeros[p]+m+c:p>0?c="0".repeat(p)+m+c:c=m+c}else c=m+c}if(i>0)for(;c.length<i;)c="0"+c;return(this._sign===1?"-":"")+c}toNumber(){const e=this._getSignedValue();if(e>_.MAX_SAFE_INTEGER_BIGINT||e<_.MIN_SAFE_INTEGER_BIGINT)throw new Error("Number can only safely store up to 53 bits");return Number(e)}toBigInt(){return this._getSignedValue()}toJSON(){const e=this._getMinimalHex();return(this.isNeg()?"-":"")+e}toArrayLikeGeneric(e,i){let r=this._magnitude,l=i?0:e.length-1;const c=i?1:-1;for(let u=0;u<e.length;++u){if(r===0n&&l>=0&&l<e.length)e[l]=0;else if(l>=0&&l<e.length)e[l]=Number(r&0xffn);else break;r>>=8n,l+=c}}toArray(e="be",i){this.strip();const r=this.byteLength(),l=i??Math.max(1,r);this.assert(r<=l,"byte array longer than desired length"),this.assert(l>0,"Requested array length <= 0");const c=new Array(l).fill(0);return this._magnitude===0n&&l>0?c:this._magnitude===0n&&l===0?[]:(this.toArrayLikeGeneric(c,e==="le"),c)}bitLength(){return this._magnitude===0n?0:this._magnitude.toString(2).length}static toBitArray(e){const i=e.bitLength();if(i===0)return[];const r=new Array(i),l=e._magnitude;for(let c=0;c<i;c++)r[c]=(l>>BigInt(c)&1n)!==0n?1:0;return r}toBitArray(){return _.toBitArray(this)}zeroBits(){if(this._magnitude===0n)return 0;let e=0,i=this._magnitude;for(;(i&1n)===0n&&i!==0n;)e++,i>>=1n;return e}byteLength(){return this._magnitude===0n?0:Math.ceil(this.bitLength()/8)}_getSignedValue(){return this._sign===1?-this._magnitude:this._magnitude}_setValueFromSigned(e){e<0n?(this._magnitude=-e,this._sign=1):(this._magnitude=e,this._sign=0),this._finishInitialization(),this.normSign()}toTwos(e){this.assert(e>=0);const i=BigInt(e);let r=this._getSignedValue();this._sign===1&&this._magnitude!==0n&&(r=(1n<<i)+r);const l=(1n<<i)-1n;r&=l;const c=new _(0n);return c._initializeState(r,0),c}fromTwos(e){this.assert(e>=0);const i=BigInt(e),r=this._magnitude;if(e>0&&(r>>i-1n&1n)!==0n&&this._sign===0){const l=r-(1n<<i),c=new _(0n);return c._setValueFromSigned(l),c}return this.clone()}isNeg(){return this._sign===1&&this._magnitude!==0n}neg(){return this.clone().ineg()}ineg(){return this._magnitude!==0n&&(this._sign=this._sign===1?0:1),this}_iuop(e,i){const r=i(this._magnitude,e._magnitude),l=i===((u,h)=>u^h);let c=this._nominalWordLength;return l&&(c=Math.max(this.length,e.length)),this._magnitude=r,this._finishInitialization(),l&&(this._nominalWordLength=Math.max(this._nominalWordLength,c)),this.strip()}iuor(e){return this._iuop(e,(i,r)=>i|r)}iuand(e){return this._iuop(e,(i,r)=>i&r)}iuxor(e){return this._iuop(e,(i,r)=>i^r)}_iop(e,i){return this.assert(this._sign===0&&e._sign===0),this._iuop(e,i)}ior(e){return this._iop(e,(i,r)=>i|r)}iand(e){return this._iop(e,(i,r)=>i&r)}ixor(e){return this._iop(e,(i,r)=>i^r)}_uop_new(e,i){return this.length>=e.length?this.clone()[i](e):e.clone()[i](this)}or(e){return this.assert(this._sign===0&&e._sign===0),this._uop_new(e,"iuor")}uor(e){return this._uop_new(e,"iuor")}and(e){return this.assert(this._sign===0&&e._sign===0),this._uop_new(e,"iuand")}uand(e){return this._uop_new(e,"iuand")}xor(e){return this.assert(this._sign===0&&e._sign===0),this._uop_new(e,"iuxor")}uxor(e){return this._uop_new(e,"iuxor")}inotn(e){this.assert(typeof e=="number"&&e>=0);const r=(1n<<BigInt(e))-1n;this._magnitude=~this._magnitude&r;const l=e===0?1:Math.ceil(e/_.wordSize);return this._nominalWordLength=Math.max(1,l),this.strip(),this._nominalWordLength=Math.max(this._nominalWordLength,Math.max(1,l)),this}notn(e){return this.clone().inotn(e)}setn(e,i){this.assert(typeof e=="number"&&e>=0);const r=BigInt(e);i===1||i===!0?this._magnitude|=1n<<r:this._magnitude&=~(1n<<r);const l=Math.floor(e/_.wordSize)+1;return this._nominalWordLength=Math.max(this._nominalWordLength,l),this._finishInitialization(),this.strip()}iadd(e){return this._setValueFromSigned(this._getSignedValue()+e._getSignedValue()),this}add(e){const i=new _(0n);return i._setValueFromSigned(this._getSignedValue()+e._getSignedValue()),i}isub(e){return this._setValueFromSigned(this._getSignedValue()-e._getSignedValue()),this}sub(e){const i=new _(0n);return i._setValueFromSigned(this._getSignedValue()-e._getSignedValue()),i}mul(e){const i=new _(0n);return i._magnitude=this._magnitude*e._magnitude,i._sign=i._magnitude===0n?0:this._sign^e._sign,i._nominalWordLength=this.length+e.length,i.red=null,i.normSign()}imul(e){return this._magnitude*=e._magnitude,this._sign=this._magnitude===0n?0:this._sign^e._sign,this._nominalWordLength=this.length+e.length,this.red=null,this.normSign()}imuln(e){return this.assert(typeof e=="number","Assertion failed"),this.assert(Math.abs(e)<=_.MAX_IMULN_ARG,"Assertion failed"),this._setValueFromSigned(this._getSignedValue()*BigInt(e)),this}muln(e){return this.clone().imuln(e)}sqr(){const e=new _(0n);return e._magnitude=this._magnitude*this._magnitude,e._sign=0,e._nominalWordLength=this.length*2,e.red=null,e}isqr(){return this._magnitude*=this._magnitude,this._sign=0,this._nominalWordLength=this.length*2,this.red=null,this}pow(e){if(this.assert(e._sign===0,"Exponent for pow must be non-negative"),e.isZero())return new _(1n);const i=new _(1n),r=this.clone(),l=e.clone(),c=r.isNeg(),u=l.isOdd();for(c&&r.ineg();!l.isZero();)l.isOdd()&&i.imul(r),r.isqr(),l.iushrn(1);return c&&u&&i.ineg(),i}static normalizeNonNegativeBigInt(e,i){if(typeof e=="number"){if(!Number.isFinite(e)||!Number.isInteger(e)||e<0)throw new Error(`${i} must be a non-negative integer`);return BigInt(e)}if(e<0n)throw new Error(`${i} must be a non-negative integer`);return e}iushln(e){const i=_.normalizeNonNegativeBigInt(e,"Shift bits");return i===0n?this:(this._magnitude<<=i,this._finishInitialization(),this.strip())}ishln(e){return this.assert(this._sign===0,"ishln requires positive number"),this.iushln(e)}iushrn(e,i,r){const l=_.normalizeNonNegativeBigInt(e,"Shift bits");if(l===0n)return r?._initializeState(0n,0),this;if(r!=null){const c=(1n<<l)-1n,u=this._magnitude&c;r._initializeState(u,0)}return this._magnitude>>=l,this._finishInitialization(),this.strip()}ishrn(e,i,r){return this.assert(this._sign===0,"ishrn requires positive number"),this.iushrn(e,i,r)}shln(e){return this.clone().ishln(e)}ushln(e){return this.clone().iushln(e)}shrn(e){return this.clone().ishrn(e)}ushrn(e){return this.clone().iushrn(e)}testn(e){return this.assert(typeof e=="number"&&e>=0),(this._magnitude>>BigInt(e)&1n)!==0n}imaskn(e){this.assert(typeof e=="number"&&e>=0),this.assert(this._sign===0,"imaskn works only with positive numbers");const i=BigInt(e),r=i===0n?0n:(1n<<i)-1n;this._magnitude&=r;const l=e===0?1:Math.max(1,Math.ceil(e/_.wordSize));return this._nominalWordLength=l,this._finishInitialization(),this._nominalWordLength=Math.max(this._nominalWordLength,l),this.strip()}maskn(e){return this.clone().imaskn(e)}iaddn(e){return this.assert(typeof e=="number"),this.assert(Math.abs(e)<=_.MAX_IMULN_ARG,"num is too large"),this._setValueFromSigned(this._getSignedValue()+BigInt(e)),this}_iaddn(e){return this.iaddn(e)}isubn(e){return this.assert(typeof e=="number"),this.assert(Math.abs(e)<=_.MAX_IMULN_ARG,"Assertion failed"),this._setValueFromSigned(this._getSignedValue()-BigInt(e)),this}addn(e){return this.clone().iaddn(e)}subn(e){return this.clone().isubn(e)}iabs(){return this._sign=0,this}abs(){return this.clone().iabs()}divmod(e,i,r){if(this.assert(!e.isZero(),"Division by zero"),this.isZero()){const y=new _(0n);return{div:i!=="mod"?y:null,mod:i!=="div"?y:null}}const l=this._getSignedValue(),c=e._getSignedValue();let u=null,h=null;i!=="mod"&&(u=l/c),i!=="div"&&(h=l%c,r===!0&&h<0n&&(h+=c<0n?-c:c));const m=u!==null?new _(0n):null;m!==null&&u!==null&&m._setValueFromSigned(u);const p=h!==null?new _(0n):null;return p!==null&&h!==null&&p._setValueFromSigned(h),{div:m,mod:p}}div(e){return this.divmod(e,"div",!1).div}mod(e){return this.divmod(e,"mod",!1).mod}umod(e){return this.divmod(e,"mod",!0).mod}divRound(e){this.assert(!e.isZero());const i=this._getSignedValue(),r=e._getSignedValue();let l=i/r;const c=i%r;if(c===0n){const p=new _(0n);return p._setValueFromSigned(l),p}const u=c<0n?-c:c,h=r<0n?-r:r;u*2n>=h&&(i>0n&&r>0n||i<0n&&r<0n?l+=1n:l-=1n);const m=new _(0n);return m._setValueFromSigned(l),m}modrn(e){this.assert(e!==0,"Division by zero in modrn");const i=BigInt(Math.abs(e));if(i===0n)throw new Error("Division by zero in modrn");const r=this._magnitude%i;return e<0?Number(-r):Number(r)}idivn(e){return this.assert(e!==0),this.assert(Math.abs(e)<=_.MAX_IMULN_ARG,"num is too large"),this._setValueFromSigned(this._getSignedValue()/BigInt(e)),this}divn(e){return this.clone().idivn(e)}egcd(e){this.assert(e._sign===0,"p must not be negative"),this.assert(!e.isZero(),"p must not be zero");let i=this._getSignedValue(),r=e._magnitude,l=1n,c=0n,u=0n,h=1n;for(;r!==0n;){const b=i/r;let x=r;r=i%r,i=x,x=c,c=l-b*c,l=x,x=h,h=u-b*h,u=x}const m=new _(0n);m._setValueFromSigned(l);const p=new _(0n);p._setValueFromSigned(u);const y=new _(0n);return y._initializeState(i<0n?-i:i,0),{a:m,b:p,gcd:y}}gcd(e){let i=this._magnitude,r=e._magnitude;if(i===0n){const c=new _(0n);return c._setValueFromSigned(r),c.iabs()}if(r===0n){const c=new _(0n);return c._setValueFromSigned(i),c.iabs()}for(;r!==0n;){const c=i%r;i=r,r=c}const l=new _(0n);return l._initializeState(i,0),l}invm(e){this.assert(!e.isZero()&&e._sign===0,"Modulus for invm must be positive and non-zero");const i=this.egcd(e);if(!i.gcd.eqn(1))throw new Error("Inverse does not exist (numbers are not coprime).");return i.a.umod(e)}isEven(){return this._magnitude%2n===0n}isOdd(){return this._magnitude%2n===1n}andln(e){return this.assert(e>=0),Number(this._magnitude&BigInt(e))}bincn(e){this.assert(typeof e=="number"&&e>=0);const i=1n<<BigInt(e);return this._setValueFromSigned(this._getSignedValue()+i),this}isZero(){return this._magnitude===0n}cmpn(e){this.assert(Math.abs(e)<=_.MAX_IMULN_ARG,"Number is too big");const i=this._getSignedValue(),r=BigInt(e);return i<r?-1:i>r?1:0}cmp(e){const i=this._getSignedValue(),r=e._getSignedValue();return i<r?-1:i>r?1:0}ucmp(e){return this._magnitude<e._magnitude?-1:this._magnitude>e._magnitude?1:0}gtn(e){return this.cmpn(e)===1}gt(e){return this.cmp(e)===1}gten(e){return this.cmpn(e)>=0}gte(e){return this.cmp(e)>=0}ltn(e){return this.cmpn(e)===-1}lt(e){return this.cmp(e)===-1}lten(e){return this.cmpn(e)<=0}lte(e){return this.cmp(e)<=0}eqn(e){return this.cmpn(e)===0}eq(e){return this.cmp(e)===0}toRed(e){return this.assert(this.red==null,"Already a number in reduction context"),this.assert(this._sign===0,"toRed works only with positives"),e.convertTo(this).forceRed(e)}fromRed(){return this.assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)}forceRed(e){return this.red=e,this}redAdd(e){return this.assert(this.red,"redAdd works only with red numbers"),this.red.add(this,e)}redIAdd(e){return this.assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)}redSub(e){return this.assert(this.red,"redSub works only with red numbers"),this.red.sub(this,e)}redISub(e){return this.assert(this.red,"redISub works only with red numbers"),this.red.isub(this,e)}redShl(e){return this.assert(this.red,"redShl works only with red numbers"),this.red.shl(this,e)}redMul(e){return this.assert(this.red,"redMul works only with red numbers"),this.red.verify2(this,e),this.red.mul(this,e)}redIMul(e){return this.assert(this.red,"redIMul works only with red numbers"),this.red.verify2(this,e),this.red.imul(this,e)}redSqr(){return this.assert(this.red,"redSqr works only with red numbers"),this.red.verify1(this),this.red.sqr(this)}redISqr(){return this.assert(this.red,"redISqr works only with red numbers"),this.red.verify1(this),this.red.isqr(this)}redSqrt(){return this.assert(this.red,"redSqrt works only with red numbers"),this.red.verify1(this),this.red.sqrt(this)}redInvm(){return this.assert(this.red,"redInvm works only with red numbers"),this.red.verify1(this),this.red.invm(this)}redNeg(){return this.assert(this.red,"redNeg works only with red numbers"),this.red.verify1(this),this.red.neg(this)}redPow(e){return this.assert(this.red!=null&&e.red==null,"redPow(normalNum)"),this.red.verify1(this),this.red.pow(this,e)}static fromHex(e,i){let r="be";return(i==="little"||i==="le")&&(r="le"),new _(e,16,r)}toHex(e=0){if(this.isZero()&&e===0)return"";let i=this._getMinimalHex();i!=="0"&&i.length%2!==0&&(i="0"+i);const r=e*2;for(;i.length<r;)i="0"+i;return(this.isNeg()?"-":"")+i}static fromJSON(e){return new _(e,16)}static fromNumber(e){return new _(e)}static fromString(e,i){return new _(e,i)}static fromSm(e,i="big"){if(e.length===0)return new _(0n);const r=e.slice();i==="little"&&r.reverse();let l=0;r.length>0&&(r[0]&128)!==0&&(l=1,r[0]&=127);let c=0n;if(hy){const h=df.from(r).toString("hex");c=h.length===0?0n:BigInt("0x"+h)}else{let h="";for(const m of r)h+=m<16?"0"+m.toString(16):m.toString(16);c=h.length===0?0n:BigInt("0x"+h)}const u=new _(0n);return u._initializeState(c,l),u}toSm(e="big"){if(this._magnitude===0n)return this._sign===1?[128]:[];let i=this._getMinimalHex();i.length%2!==0&&(i="0"+i);const r=i.length/2,l=new Array(r);for(let u=0,h=0;u<i.length;u+=2){const m=Hs[i.charCodeAt(u)],p=Hs[i.charCodeAt(u+1)];l[h++]=(m&15)<<4|p&15}let c;return this._sign===1?(l[0]&128)!==0?c=[128,...l]:(c=l.slice(),c[0]|=128):(l[0]&128)!==0?c=[0,...l]:c=l.slice(),e==="little"?c.reverse():c}static fromBits(e,i=!1){const r=e>>>24,l=e&8388607,c=(e&8388608)!==0;if(i&&c)throw new Error("negative bit set");if(r===0&&l===0){if(c&&i)throw new Error("negative bit set for zero value");return new _(0n)}const u=new _(l);return r<=3?u.iushrn((3-r)*8):u.iushln((r-3)*8),c&&u.ineg(),u}toBits(){if(this.strip(),this.isZero()&&!this.isNeg())return 0;const e=this.isNeg(),i=this.abs();let r=i.toArray("be"),l=0;for(;l<r.length-1&&r[l]===0;)l++;r=r.slice(l);let c=r.length;c===0&&!i.isZero()&&(r=[0],c=1),i.isZero()&&(c=0,r=[]);let u;if(c===0)u=0;else if(c<=3){u=0;for(let m=0;m<c;m++)u=u<<8|r[m]}else u=r[0]<<16|r[1]<<8|r[2];(u&8388608)!==0&&c<=255&&(u>>>=8,c++);let h=c<<24|u;return e&&(h|=8388608),h>>>0}static fromScriptNum(e,i=!1,r){if(r!==void 0&&e.length>r)throw new Error("script number overflow");if(e.length===0)return new _(0n);if(i&&(e[e.length-1]&127)===0&&(e.length<=1||(e[e.length-2]&128)===0))throw new Error("non-minimally encoded script number");return _.fromSm(e,"little")}toScriptNum(){return this.toSm("little")}_invmp(e){this.assert(e._sign===0,"p must not be negative for _invmp"),this.assert(!e.isZero(),"p must not be zero for _invmp");let r=this.umod(e)._magnitude,l=e._magnitude,c=1n,u=0n;const h=e._magnitude;for(;r>1n&&l>1n;){let y=0;for(;(r>>BigInt(y)&1n)===0n;)y++;if(y>0){r>>=BigInt(y);for(let x=0;x<y;++x)(c&1n)!==0n&&(c+=h),c>>=1n}let b=0;for(;(l>>BigInt(b)&1n)===0n;)b++;if(b>0){l>>=BigInt(b);for(let x=0;x<b;++x)(u&1n)!==0n&&(u+=h),u>>=1n}r>=l?(r-=l,c-=u):(l-=r,u-=c)}let m;if(r===1n)m=c;else if(l===1n)m=u;else if(r===0n&&l===1n)m=u;else if(l===0n&&r===1n)m=c;else throw new Error("_invmp: GCD is not 1, inverse does not exist. aVal="+r+", bVal="+l);m%=h,m<0n&&(m+=h);const p=new _(0n);return p._initializeState(m,0),p}mulTo(e,i){return i._magnitude=this._magnitude*e._magnitude,i._sign=i._magnitude===0n?0:this._sign^e._sign,i._nominalWordLength=this.length+e.length,i.red=null,i.normSign(),i}}class my{name;p;k;n;tmp;constructor(e,i){this.name=e,this.p=new _(i,16),this.n=this.p.bitLength(),this.k=new _(BigInt(1)).iushln(this.n).isub(this.p),this.tmp=this._tmp()}_tmp(){const e=new _(BigInt(0)),i=Math.ceil(this.n/_.wordSize);return e.expand(Math.max(1,i)),e}ireduce(e){const i=e;let r;do this.split(i,this.tmp),this.imulK(i),i.iadd(this.tmp),r=i.bitLength();while(r>this.n);const l=r<this.n?-1:i.ucmp(this.p);return l===0?i.words=[0]:l>0&&i.isub(this.p),i.strip(),i}split(e,i){e.iushrn(this.n,0,i)}imulK(e){return e.imul(this.k)}}let py=class extends my{constructor(){super("k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}split(e,i){const l=e.words,c=e.length,u=Math.min(c,9),h=new Array(u+(c>9?1:0)).fill(0);for(let S=0;S<u;S++)h[S]=l[S];let m=u;if(c<=9){const S=new Array(m);for(let k=0;k<m;++k)S[k]=h[k];i.words=S,e.words=[0];return}let p=l[9];h[m++]=p&4194303;const y=new Array(m);for(let S=0;S<m;++S)y[S]=h[S];i.words=y;const b=new Array(Math.max(1,c-9)).fill(0);let x=0;for(let S=10;S<c;S++){const k=l[S]|0;x<b.length&&(b[x++]=(k&4194303)<<4|p>>>22),p=k}p>>>=22,x<b.length?b[x++]=p:p!==0&&b.length>0;const w=new Array(x);for(let S=0;S<x;++S)w[S]=b[S];e.words=w}imulK(e){const i=e.words,r=e.length,l=r+2,c=new Array(l).fill(0);for(let h=0;h<r;h++)c[h]=i[h];let u=0;for(let h=0;h<l;h++){const m=c[h]|0;u+=m*977,c[h]=u&67108863,u=m*64+(u/67108864|0)}return e.words=c,e}};class Dp{prime;m;constructor(e){if(e==="k256"){const i=new py;this.m=i.p,this.prime=i}else this.assert(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}assert(e,i="Assertion failed"){if(!e)throw new Error(i)}verify1(e){this.assert(e.negative===0,"red works only with positives"),this.assert(e.red,"red works only with red numbers")}verify2(e,i){this.assert((e.negative|i.negative)===0,"red works only with positives"),this.assert(e.red!=null&&e.red===i.red,"red works only with red numbers")}imod(e){return this.prime!=null?this.prime.ireduce(e).forceRed(this):(_.move(e,e.umod(this.m).forceRed(this)),e)}neg(e){return e.isZero()?e.clone():this.m.sub(e).forceRed(this)}add(e,i){this.verify2(e,i);const r=e.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r.forceRed(this)}iadd(e,i){this.verify2(e,i);const r=e.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r}sub(e,i){this.verify2(e,i);const r=e.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r.forceRed(this)}isub(e,i){this.verify2(e,i);const r=e.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r}shl(e,i){return this.verify1(e),this.imod(e.ushln(i))}imul(e,i){return this.verify2(e,i),this.imod(e.imul(i))}mul(e,i){return this.verify2(e,i),this.imod(e.mul(i))}isqr(e){return this.imul(e,e.clone())}sqr(e){return this.mul(e,e)}sqrt(e){if(e.isZero())return e.clone();const i=this.m.andln(3);if(this.assert(i%2===1),i===3){const S=this.m.add(new _(1)).iushrn(2);return this.pow(e,S)}const r=this.m.subn(1);let l=0;for(;!r.isZero()&&r.andln(1)===0;)l++,r.iushrn(1);this.assert(!r.isZero());const c=new _(1).toRed(this),u=c.redNeg(),h=this.m.subn(1).iushrn(1),m=this.m.bitLength(),p=new _(2*m*m).toRed(this);for(;this.pow(p,h).cmp(u)!==0;)p.redIAdd(u);let y=this.pow(p,r),b=this.pow(e,r.addn(1).iushrn(1)),x=this.pow(e,r),w=l;for(;x.cmp(c)!==0;){let S=x,k=0;for(;S.cmp(c)!==0;k++)S=S.redSqr();this.assert(k<w);const C=this.pow(y,new _(1).iushln(w-k-1));b=b.redMul(C),y=C.redSqr(),x=x.redMul(y),w=k}return b}invm(e){const i=e._invmp(this.m);return i.negative!==0?(i.negative=0,this.imod(i).redNeg()):this.imod(i)}pow(e,i){if(i.isZero())return new _(1).toRed(this);if(i.cmpn(1)===0)return e.clone();const r=4,l=new Array(1<<r);l[0]=new _(1).toRed(this),l[1]=e;let c=2;for(;c<l.length;c++)l[c]=this.mul(l[c-1],e);let u=l[0],h=0,m=0,p=i.bitLength()%26;for(p===0&&(p=26),c=i.length-1;c>=0;c--){const y=i.words[c];for(let b=p-1;b>=0;b--){const x=y>>b&1;if(u!==l[0]&&(u=this.sqr(u)),x===0&&h===0){m=0;continue}h<<=1,h|=x,m++,!(m!==r&&(c!==0||b!==0))&&(u=this.mul(u,l[h]),m=0,h=0)}p=26}return u}convertTo(e){const i=e.umod(this.m);return i===e?i.clone():i}convertFrom(e){const i=e.clone();return i.red=null,i}}class by extends Dp{shift;r;r2;rinv;minv;constructor(e){super(e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new _(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}convertTo(e){return this.imod(e.ushln(this.shift))}convertFrom(e){const i=this.imod(e.mul(this.rinv));return i.red=null,i}imul(e,i){if(e.isZero()||i.isZero())return e.words[0]=0,e.length=1,e;const r=e.imul(i),l=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=r.isub(l).iushrn(this.shift);let u=c;return c.cmp(this.m)>=0?u=c.isub(this.m):c.cmpn(0)<0&&(u=c.iadd(this.m)),u.forceRed(this)}mul(e,i){if(e.isZero()||i.isZero())return new _(0).forceRed(this);const r=e.mul(i),l=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=r.isub(l).iushrn(this.shift);let u=c;return c.cmp(this.m)>=0?u=c.isub(this.m):c.cmpn(0)<0&&(u=c.iadd(this.m)),u.forceRed(this)}invm(e){return this.imod(e._invmp(this.m).mul(this.r2)).forceRed(this)}}class zp{curve;type;precomputed;constructor(e){this.curve=new Te,this.type=e,this.precomputed=null}}class bn extends zp{x;y;z;zOne;constructor(e,i,r){super("jacobian"),e===null&&i===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _(0)):(_.isBN(e)||(e=new _(e,16)),this.x=e,_.isBN(i)||(i=new _(i,16)),this.y=i,_.isBN(r)||(r=new _(r,16)),this.z=r),this.x.red==null&&(this.x=this.x.toRed(this.curve.red)),this.y.red==null&&(this.y=this.y.toRed(this.curve.red)),this.z.red==null&&(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.isInfinity()&&(this.x=this.curve.one,this.y=this.curve.one,this.z=new _(0).toRed(this.curve.red),this.zOne=!1)}toP(){if(this.isInfinity())return new jt(null,null);const e=this.z.redInvm(),i=e.redSqr(),r=this.x.redMul(i),l=this.y.redMul(i).redMul(e);return new jt(r,l)}neg(){return new bn(this.x,this.y.redNeg(),this.z)}add(e){if(this.isInfinity())return e;if(e.isInfinity())return this;const i=e.z.redSqr(),r=this.z.redSqr(),l=this.x.redMul(i),c=e.x.redMul(r),u=this.y.redMul(i.redMul(e.z)),h=e.y.redMul(r.redMul(this.z)),m=l.redSub(c),p=u.redSub(h);if(m.cmpn(0)===0)return p.cmpn(0)!==0?new bn(null,null,null):this.dbl();const y=m.redSqr(),b=y.redMul(m),x=l.redMul(y),w=p.redSqr().redIAdd(b).redISub(x).redISub(x),S=p.redMul(x.redISub(w)).redISub(u.redMul(b)),k=this.z.redMul(e.z).redMul(m);return new bn(w,S,k)}mixedAdd(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;if(e.x===null||e.y===null)throw new Error("Point coordinates cannot be null");const i=this.z.redSqr(),r=this.x,l=e.x.redMul(i),c=this.y,u=e.y.redMul(i).redMul(this.z),h=r.redSub(l),m=c.redSub(u);if(h.cmpn(0)===0)return m.cmpn(0)!==0?new bn(null,null,null):this.dbl();const p=h.redSqr(),y=p.redMul(h),b=r.redMul(p),x=m.redSqr().redIAdd(y).redISub(b).redISub(b),w=m.redMul(b.redISub(x)).redISub(c.redMul(y)),S=this.z.redMul(h);return new bn(x,w,S)}dblp(e){if(e===0)return this;if(this.isInfinity())return this;if(typeof e>"u")return this.dbl();let i=this;for(let r=0;r<e;r++)i=i.dbl();return i}dbl(){if(this.isInfinity())return this;let e,i,r;if(this.zOne){const l=this.x.redSqr(),c=this.y.redSqr(),u=c.redSqr();let h=this.x.redAdd(c).redSqr().redISub(l).redISub(u);h=h.redIAdd(h);const m=l.redAdd(l).redIAdd(l),p=m.redSqr().redISub(h).redISub(h);let y=u.redIAdd(u);y=y.redIAdd(y),y=y.redIAdd(y),e=p,i=m.redMul(h.redISub(p)).redISub(y),r=this.y.redAdd(this.y)}else{const l=this.x.redSqr(),c=this.y.redSqr(),u=c.redSqr();let h=this.x.redAdd(c).redSqr().redISub(l).redISub(u);h=h.redIAdd(h);const m=l.redAdd(l).redIAdd(l),p=m.redSqr();let y=u.redIAdd(u);y=y.redIAdd(y),y=y.redIAdd(y),e=p.redISub(h).redISub(h),i=m.redMul(h.redISub(e)).redISub(y),r=this.y.redMul(this.z),r=r.redIAdd(r)}return new bn(e,i,r)}eq(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e||(e=e,this.isInfinity()&&e.isInfinity()))return!0;if(this.isInfinity()!==e.isInfinity())return!1;const i=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(i)).cmpn(0)!==0)return!1;const l=i.redMul(this.z),c=r.redMul(e.z);return this.y.redMul(c).redISub(e.y.redMul(l)).cmpn(0)===0}eqXToP(e){const i=this.z.redSqr(),r=e.toRed(this.curve?.red).redMul(i);if(this.x.cmp(r)===0)return!0;const l=e.clone();if(this.curve===null||this.curve.redN==null)throw new Error("Curve or redN is not initialized.");const c=this.curve.redN.redMul(i);for(;l.cmp(this.curve.p)<0;){if(l.iadd(this.curve.n),l.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(c),this.x.cmp(r)===0)return!0}return!1}inspect(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"}isInfinity(){return this.z.cmpn(0)===0}}const gy=/^[0-9a-fA-F]*$/;function _f(o){if(typeof o!="string")throw console.error("assertValidHex FAIL (non-string):",o),new Error("Invalid hex string");if(o.length!==0&&!gy.test(o))throw console.error("assertValidHex FAIL (bad hex):",o),new Error("Invalid hex string")}function yy(o){if(_f(o),o.length===0)return"";let e=o.toLowerCase();return e.length%2!==0&&(e="0"+e),e}const hf=(o,e="Hash assertion failed")=>{if(!o)throw new Error(e)};class Up{pending;pendingTotal;blockSize;outSize;endian;_delta8;_delta32;padLength;hmacStrength;constructor(e,i,r,l){this.pending=null,this.pendingTotal=0,this.blockSize=e,this.outSize=i,this.hmacStrength=r,this.padLength=l/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}_update(e,i){throw new Error("Not implemented")}_digest(){throw new Error("Not implemented")}_digestHex(){throw new Error("Not implemented")}update(e,i){if(e=Ar(e,i),this.pending==null?this.pending=e:this.pending=this.pending.concat(e),this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;const r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=Sy(e,0,e.length-r,this.endian);for(let l=0;l<e.length;l+=this._delta32)this._update(e,l)}return this}digest(){return this.update(this._pad()),hf(this.pending===null),this._digest()}digestHex(){return this.update(this._pad()),hf(this.pending===null),this._digestHex()}_pad(){const e=this.pendingTotal;if(!Number.isSafeInteger(e)||e<0)throw new Error("Message too long for this hash function");const i=this._delta8,r=i-(e+this.padLength)%i,l=new Array(r+this.padLength);l[0]=128;let c;for(c=1;c<r;c++)l[c]=0;const u=this.padLength,h=1n<<BigInt(u*8);let m=BigInt(e)*8n;if(m>=h)throw new Error("Message too long for this hash function");if(this.endian==="big"){const p=new Array(u);for(let y=u-1;y>=0;y--)p[y]=Number(m&0xffn),m>>=8n;for(let y=0;y<u;y++)l[c++]=p[y]}else for(let p=0;p<u;p++)l[c++]=Number(m&0xffn),m>>=8n;return l}}function vy(o,e){return(o.charCodeAt(e)&64512)!==55296||e<0||e+1>=o.length?!1:(o.charCodeAt(e+1)&64512)===56320}function Ar(o,e){if(Array.isArray(o))return o.slice();if(!o)return[];const i=[];if(typeof o=="string")if(e!=="hex"){let r=0;for(let l=0;l<o.length;l++){let c=o.charCodeAt(l);c<128?i[r++]=c:c<2048?(i[r++]=c>>6|192,i[r++]=c&63|128):vy(o,l)?(c=65536+((c&1023)<<10)+(o.charCodeAt(++l)&1023),i[r++]=c>>18|240,i[r++]=c>>12&63|128,i[r++]=c>>6&63|128,i[r++]=c&63|128):(i[r++]=c>>12|224,i[r++]=c>>6&63|128,i[r++]=c&63|128)}}else{_f(o),o=yy(o);for(let r=0;r<o.length;r+=2)i.push(parseInt(o[r]+o[r+1],16))}else{o=o;for(let r=0;r<o.length;r++)i[r]=o[r]|0}return i}function xy(o){return(o>>>24|o>>>8&65280|o<<8&16711680|(o&255)<<24)>>>0}function Hp(o,e){let i="";for(let r=0;r<o.length;r++){let l=o[r];e==="little"&&(l=xy(l)),i+=wy(l.toString(16))}return i}function wy(o){return o.length===7?"0"+o:o.length===6?"00"+o:o.length===5?"000"+o:o.length===4?"0000"+o:o.length===3?"00000"+o:o.length===2?"000000"+o:o.length===1?"0000000"+o:o}function Nf(o){let e="";for(const i of o)e+=i.toString(16).padStart(2,"0");return e}function Sy(o,e,i,r){const l=i-e;hf(l%4===0);const c=new Array(l/4);for(let u=0,h=e;u<c.length;u++,h+=4){let m;r==="big"?m=o[h]<<24|o[h+1]<<16|o[h+2]<<8|o[h+3]:m=o[h+3]<<24|o[h+2]<<16|o[h+1]<<8|o[h],c[u]=m>>>0}return c}function Lp(o,e){const i=new Array(o.length*4);for(let r=0,l=0;r<o.length;r++,l+=4){const c=o[r];e==="big"?(i[l]=c>>>24,i[l+1]=c>>>16&255,i[l+2]=c>>>8&255,i[l+3]=c&255):(i[l+3]=c>>>24,i[l+2]=c>>>16&255,i[l+1]=c>>>8&255,i[l]=c&255)}return i}function Vn(o,e){return o>>>e|o<<32-e}function xa(o,e){return o<<e|o>>>32-e}function re(o,e){return o+e>>>0}function Is(o,e,i){return o+e+i>>>0}function Gm(o,e,i,r){return o+e+i+r>>>0}function Vp(o,e,i,r,l){return o+e+i+r+l>>>0}function Ey(o,e,i,r){return o===0?Pp(e,i,r):o===1||o===3?Ay(e,i,r):o===2?jp(e,i,r):0}function Pp(o,e,i){return o&e^~o&i}function jp(o,e,i){return o&e^o&i^e&i}function Ay(o,e,i){return o^e^i}function Oy(o){return Vn(o,2)^Vn(o,13)^Vn(o,22)}function _y(o){return Vn(o,6)^Vn(o,11)^Vn(o,25)}function Ny(o){return Vn(o,7)^Vn(o,18)^o>>>3}function Ty(o){return Vn(o,17)^Vn(o,19)^o>>>10}const ky=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Iy=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Cy=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ry=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];function Ym(o,e,i,r){return o<=15?e^i^r:o<=31?e&i|~e&r:o<=47?(e|~i)^r:o<=63?e&r|i&~r:e^(i|~r)}function My(o){return o<=15?0:o<=31?1518500249:o<=47?1859775393:o<=63?2400959708:2840853838}function By(o){return o<=15?1352829926:o<=31?1548603684:o<=47?1836072691:o<=63?2053994217:0}class qp extends Up{h;constructor(){super(512,160,192,64),this.endian="little",this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}_update(e,i){let r=this.h[0],l=this.h[1],c=this.h[2],u=this.h[3],h=this.h[4],m=r,p=l,y=c,b=u,x=h,w;for(let S=0;S<80;S++)w=re(xa(Gm(r,Ym(S,l,c,u),e[ky[S]+i],My(S)),Cy[S]),h),r=h,h=u,u=xa(c,10),c=l,l=w,w=re(xa(Gm(m,Ym(79-S,p,y,b),e[Iy[S]+i],By(S)),Ry[S]),x),m=x,x=b,b=xa(y,10),y=p,p=w;w=Is(this.h[1],c,b),this.h[1]=Is(this.h[2],u,x),this.h[2]=Is(this.h[3],h,m),this.h[3]=Is(this.h[4],r,p),this.h[4]=Is(this.h[0],l,y),this.h[0]=w}_digest(){return Lp(this.h,"little")}_digestHex(){return Hp(this.h,"little")}}class yl{h;constructor(){this.h=new Zp}update(e,i){const r=e instanceof Uint8Array?e:Uint8Array.from(Ar(e,i));return this.h.update(r),this}digest(){return Array.from(this.h.digest())}digestHex(){return Nf(this.h.digest())}}class Dy extends Up{h;W;k;constructor(){super(512,160,80,64),this.k=[1518500249,1859775393,2400959708,3395469782],this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}_update(e,i){const r=this.W;i===void 0&&(i=0);let l;for(l=0;l<16;l++)r[l]=e[i+l];for(;l<r.length;l++)r[l]=xa(r[l-3]^r[l-8]^r[l-14]^r[l-16],1);let c=this.h[0],u=this.h[1],h=this.h[2],m=this.h[3],p=this.h[4];for(l=0;l<r.length;l++){const y=~~(l/20),b=Vp(xa(c,5),Ey(y,u,h,m),p,r[l],this.k[y]);p=m,m=h,h=xa(u,30),u=c,c=b}this.h[0]=re(this.h[0],c),this.h[1]=re(this.h[1],u),this.h[2]=re(this.h[2],h),this.h[3]=re(this.h[3],m),this.h[4]=re(this.h[4],p)}_digest(){return Lp(this.h,"big")}_digestHex(){return Hp(this.h,"big")}}class Kp{h;blockSize=64;outSize=32;constructor(e){const i=e instanceof Uint8Array?e:Uint8Array.from(Ar(e,typeof e=="string"?"hex":void 0));this.h=new Wp(t2,i)}update(e,i){const r=e instanceof Uint8Array?e:Uint8Array.from(Ar(e,i));return this.h.update(r),this}digest(){return Array.from(this.h.digest())}digestHex(){return Nf(this.h.digest())}}class zy{h;blockSize=128;outSize=32;constructor(e){const i=e instanceof Uint8Array?e:Uint8Array.from(Ar(e,typeof e=="string"?"hex":void 0));this.h=new Wp(a2,i)}update(e,i){const r=e instanceof Uint8Array?e:Uint8Array.from(Ar(e,i));return this.h.update(r),this}digest(){return Array.from(this.h.digest())}digestHex(){return Nf(this.h.digest())}}const Uy=(o,e)=>new qp().update(o,e).digest(),Hy=(o,e)=>new Dy().update(o,e).digest(),jn=(o,e)=>new yl().update(o,e).digest(),yn=(o,e)=>{const i=new yl().update(o,e).digest();return new yl().update(i).digest()},Gp=(o,e)=>{const i=new yl().update(o,e).digest();return new qp().update(i).digest()},Ls=(o,e,i)=>new Kp(o).update(e,i).digest(),Ly=(o,e,i)=>new zy(o).update(e,i).digest();function Vy(o){return o instanceof Uint8Array||ArrayBuffer.isView(o)&&o.constructor.name==="Uint8Array"}function Xm(o){if(!Number.isSafeInteger(o)||o<0)throw new Error(`positive integer expected, got ${o}`)}function Dl(o,...e){if(!Vy(o))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(o.length)){const i=e.join(",");throw new Error(`Uint8Array expected of length ${i}, got length=${o.length}`)}}function Py(o){if(typeof o!="function"||typeof o.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Xm(o.outputLen),Xm(o.blockLen)}function vl(o,e=!0){if(o.destroyed===!0)throw new Error("Hash instance has been destroyed");if(e&&o.finished===!0)throw new Error("Hash#digest() has already been called")}function jy(o,e){Dl(o);const i=e.outputLen;if(o.length<i)throw new Error(`digestInto() expects output buffer of length at least ${i}`)}function Or(...o){for(let e=0;e<o.length;e++)o[e].fill(0)}function af(o){return new DataView(o.buffer,o.byteOffset,o.byteLength)}function Tf(o){return typeof o=="string"&&(o=qy(o)),Dl(o),o}function qy(o){if(typeof o!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(o))}class Yp{}function Xp(o){const e=r=>o().update(Tf(r)).digest(),i=o();return e.outputLen=i.outputLen,e.blockLen=i.blockLen,e.create=()=>o(),e}const ll=BigInt(2**32-1),Fm=BigInt(32);function Ky(o,e=!1){return e?{h:Number(o&ll),l:Number(o>>Fm&ll)}:{h:Number(o>>Fm&ll)|0,l:Number(o&ll)|0}}function Gy(o,e=!1){const i=o.length,r=new Uint32Array(i),l=new Uint32Array(i);for(let c=0;c<i;c++){const{h:u,l:h}=Ky(o[c],e);r[c]=u,l[c]=h}return[r,l]}const Zm=(o,e,i)=>o>>>i,Qm=(o,e,i)=>o<<32-i|e>>>i,pr=(o,e,i)=>o>>>i|e<<32-i,br=(o,e,i)=>o<<32-i|e>>>i,cl=(o,e,i)=>o<<64-i|e>>>i-32,ul=(o,e,i)=>o>>>i-32|e<<64-i;function ci(o,e,i,r){const l=(e>>>0)+(r>>>0);return{h:o+i+(l/2**32|0)|0,l:l|0}}const Yy=(o,e,i)=>(o>>>0)+(e>>>0)+(i>>>0),Xy=(o,e,i,r)=>e+i+r+(o/2**32|0)|0,Fy=(o,e,i,r)=>(o>>>0)+(e>>>0)+(i>>>0)+(r>>>0),Zy=(o,e,i,r,l)=>e+i+r+l+(o/2**32|0)|0,Qy=(o,e,i,r,l)=>(o>>>0)+(e>>>0)+(i>>>0)+(r>>>0)+(l>>>0),Wy=(o,e,i,r,l,c)=>e+i+r+l+c+(o/2**32|0)|0;class Fp extends Yp{blockLen;outputLen;padOffset;isLE;buffer;view;finished=!1;length=0;pos=0;destroyed=!1;constructor(e,i,r,l){super(),this.blockLen=e,this.outputLen=i,this.padOffset=r,this.isLE=l,this.buffer=new Uint8Array(e),this.view=af(this.buffer)}update(e){vl(this),e=Tf(e),Dl(e);const{view:i,buffer:r,blockLen:l}=this,c=e.length;for(let u=0;u<c;){const h=Math.min(l-this.pos,c-u);if(h===l){const m=af(e);for(;l<=c-u;u+=l)this.process(m,u);continue}r.set(e.subarray(u,u+h),this.pos),this.pos+=h,u+=h,this.pos===l&&(this.process(i,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vl(this),jy(e,this),this.finished=!0;const{buffer:i,view:r,blockLen:l,isLE:c}=this;let{pos:u}=this;i[u++]=128,Or(this.buffer.subarray(u)),this.padOffset>l-u&&(this.process(r,0),u=0);for(let b=u;b<l;b++)i[b]=0;Jy(r,l-8,BigInt(this.length*8),c),this.process(r,0);const h=af(e),m=this.outputLen;if(m%4!==0)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=m/4,y=this.get();if(p>y.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<p;b++)h.setUint32(4*b,y[b],c)}digest(){const{buffer:e,outputLen:i}=this;this.digestInto(e);const r=e.slice(0,i);return this.destroy(),r}_cloneInto(e){e||=new this.constructor,e.set(...this.get());const{blockLen:i,buffer:r,length:l,finished:c,destroyed:u,pos:h}=this;return e.destroyed=u,e.finished=c,e.length=l,e.pos=h,l%i!==0&&e.buffer.set(r),e}clone(){return this._cloneInto()}}function Jy(o,e,i,r){if(typeof o.setBigUint64=="function")return o.setBigUint64(e,i,r);const l=BigInt(32),c=BigInt(4294967295),u=Number(i>>l&c),h=Number(i&c),m=r?4:0,p=r?0:4;o.setUint32(e+m,u,r),o.setUint32(e+p,h,r)}const ji=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$y=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),qi=new Uint32Array(64);class Zp extends Fp{A=ji[0]|0;B=ji[1]|0;C=ji[2]|0;D=ji[3]|0;E=ji[4]|0;F=ji[5]|0;G=ji[6]|0;H=ji[7]|0;constructor(e=32){super(64,e,8,!1)}get(){const{A:e,B:i,C:r,D:l,E:c,F:u,G:h,H:m}=this;return[e,i,r,l,c,u,h,m]}set(e,i,r,l,c,u,h,m){this.A=e|0,this.B=i|0,this.C=r|0,this.D=l|0,this.E=c|0,this.F=u|0,this.G=h|0,this.H=m|0}process(e,i){for(let b=0;b<16;b++,i+=4)qi[b]=e.getUint32(i);for(let b=16;b<64;b++){const x=qi[b-15],w=qi[b-2],S=Ny(x),k=Ty(w);qi[b]=re(re(S,qi[b-7]),re(k,qi[b-16]))}let{A:r,B:l,C:c,D:u,E:h,F:m,G:p,H:y}=this;for(let b=0;b<64;b++){const x=Vp(y,_y(h),Pp(h,m,p),$y[b],qi[b]),w=re(Oy(r),jp(r,l,c));y=p,p=m,m=h,h=re(u,x),u=c,c=l,l=r,r=re(x,w)}this.A=re(this.A,r),this.B=re(this.B,l),this.C=re(this.C,c),this.D=re(this.D,u),this.E=re(this.E,h),this.F=re(this.F,m),this.G=re(this.G,p),this.H=re(this.H,y)}roundClean(){Or(qi)}destroy(){Or(this.buffer),this.set(0,0,0,0,0,0,0,0)}}const t2=Xp(()=>new Zp),Ne=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Qp=Gy(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(o=>BigInt(o))),e2=Qp[0],n2=Qp[1],Ki=new Uint32Array(80),Gi=new Uint32Array(80);class i2 extends Fp{Ah=Ne[0]|0;Al=Ne[1]|0;Bh=Ne[2]|0;Bl=Ne[3]|0;Ch=Ne[4]|0;Cl=Ne[5]|0;Dh=Ne[6]|0;Dl=Ne[7]|0;Eh=Ne[8]|0;El=Ne[9]|0;Fh=Ne[10]|0;Fl=Ne[11]|0;Gh=Ne[12]|0;Gl=Ne[13]|0;Hh=Ne[14]|0;Hl=Ne[15]|0;constructor(e=64){super(128,e,16,!1)}get(){const{Ah:e,Al:i,Bh:r,Bl:l,Ch:c,Cl:u,Dh:h,Dl:m,Eh:p,El:y,Fh:b,Fl:x,Gh:w,Gl:S,Hh:k,Hl:C}=this;return[e,i,r,l,c,u,h,m,p,y,b,x,w,S,k,C]}set(e,i,r,l,c,u,h,m,p,y,b,x,w,S,k,C){this.Ah=e|0,this.Al=i|0,this.Bh=r|0,this.Bl=l|0,this.Ch=c|0,this.Cl=u|0,this.Dh=h|0,this.Dl=m|0,this.Eh=p|0,this.El=y|0,this.Fh=b|0,this.Fl=x|0,this.Gh=w|0,this.Gl=S|0,this.Hh=k|0,this.Hl=C|0}process(e,i){for(let q=0;q<16;q++,i+=4)Ki[q]=e.getUint32(i),Gi[q]=e.getUint32(i+=4);for(let q=16;q<80;q++){const W=Ki[q-15]|0,$=Gi[q-15]|0,st=pr(W,$,1)^pr(W,$,8)^Zm(W,$,7),et=br(W,$,1)^br(W,$,8)^Qm(W,$,7),Q=Ki[q-2]|0,ut=Gi[q-2]|0,Bt=pr(Q,ut,19)^cl(Q,ut,61)^Zm(Q,ut,6),kt=br(Q,ut,19)^ul(Q,ut,61)^Qm(Q,ut,6),yt=Fy(et,kt,Gi[q-7],Gi[q-16]),Ot=Zy(yt,st,Bt,Ki[q-7],Ki[q-16]);Ki[q]=Ot|0,Gi[q]=yt|0}let{Ah:r,Al:l,Bh:c,Bl:u,Ch:h,Cl:m,Dh:p,Dl:y,Eh:b,El:x,Fh:w,Fl:S,Gh:k,Gl:C,Hh:D,Hl:Y}=this;for(let q=0;q<80;q++){const W=pr(b,x,14)^pr(b,x,18)^cl(b,x,41),$=br(b,x,14)^br(b,x,18)^ul(b,x,41),st=b&w^~b&k,et=x&S^~x&C,Q=Qy(Y,$,et,n2[q],Gi[q]),ut=Wy(Q,D,W,st,e2[q],Ki[q]),Bt=Q|0,kt=pr(r,l,28)^cl(r,l,34)^cl(r,l,39),yt=br(r,l,28)^ul(r,l,34)^ul(r,l,39),Ot=r&c^r&h^c&h,Ht=l&u^l&m^u&m;D=k|0,Y=C|0,k=w|0,C=S|0,w=b|0,S=x|0,{h:b,l:x}=ci(p|0,y|0,ut|0,Bt|0),p=h|0,y=m|0,h=c|0,m=u|0,c=r|0,u=l|0;const tt=Yy(yt,Ht,Bt);r=Xy(tt,kt,Ot,ut),l=tt|0}({h:r,l}=ci(r,l,this.Ah,this.Al)),{h:c,l:u}=ci(c,u,this.Bh,this.Bl),{h,l:m}=ci(h,m,this.Ch,this.Cl),{h:p,l:y}=ci(p,y,this.Dh,this.Dl),{h:b,l:x}=ci(b,x,this.Eh,this.El),{h:w,l:S}=ci(w,S,this.Fh,this.Fl),{h:k,l:C}=ci(k,C,this.Gh,this.Gl),{h:D,l:Y}=ci(D,Y,this.Hh,this.Hl),this.set(r,l,c,u,h,m,p,y,b,x,w,S,k,C,D,Y)}roundClean(){Or(Ki,Gi)}destroy(){Or(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const a2=Xp(()=>new i2);class Wp extends Yp{oHash;iHash;blockLen;outputLen;finished=!1;destroyed=!1;constructor(e,i){super(),Py(e);const r=Tf(i);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const l=this.blockLen,c=new Uint8Array(l);c.set(r.length>l?e.create().update(r).digest():r);for(let u=0;u<c.length;u++)c[u]^=54;this.iHash.update(c),this.oHash=e.create();for(let u=0;u<c.length;u++)c[u]^=106;this.oHash.update(c),Or(c)}update(e){return vl(this),this.iHash.update(e),this}digestInto(e){vl(this),Dl(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||=Object.create(Object.getPrototypeOf(this),{});const{oHash:i,iHash:r,finished:l,destroyed:c,blockLen:u,outputLen:h}=this;return e=e,e.finished=l,e.destroyed=c,e.blockLen=u,e.outputLen=h,e.oHash=i._cloneInto(e.oHash??void 0),e.iHash=r._cloneInto(e.iHash??void 0),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const xl=typeof globalThis<"u"?globalThis.Buffer:void 0,Jp=xl!=null&&typeof xl.from=="function",Wm="0123456789abcdef",$p=new Array(256);for(let o=0;o<256;o++)$p[o]=Wm[o>>4&15]+Wm[o&15];const ht=o=>{if(Jp)return xl.from(o).toString("hex");if(o.length===0)return"";const e=new Array(o.length);for(let i=0;i<o.length;i++)e[i]=$p[o[i]&255];return e.join("")},F=(o,e)=>{if(Array.isArray(o))return o.slice();if(o===void 0)return[];if(typeof o!="string")return Array.from(o,i=>i|0);switch(e){case"hex":return r2(o);case"base64":return s2(o);default:return o2(o)}},Vs=new Int8Array(256).fill(-1);for(let o=0;o<10;o++)Vs[48+o]=o;for(let o=0;o<6;o++)Vs[65+o]=10+o,Vs[97+o]=10+o;const r2=o=>{_f(o);const e=o.length%2===0?o:"0"+o;if(Jp)return Array.from(xl.from(e,"hex"));const i=new Array(e.length/2);let r=0;for(let l=0;l<e.length;l+=2){const c=Vs[e.charCodeAt(l)],u=Vs[e.charCodeAt(l+1)];i[r++]=c<<4|u}return i};function s2(o){if(typeof o!="string")throw new TypeError("msg must be a string");let e=o.trim().replace(/[\r\n\t\f\v ]+/g,"");e=e.replace(/-/g,"+").replace(/_/g,"/");const i=e.indexOf("=");if(i!==-1){const u=e.slice(i);if(!/^={1,2}$/.test(u))throw new Error("Invalid base64 padding");if(e.slice(0,i).includes("="))throw new Error("Invalid base64 padding");e=e.slice(0,i)}const r=[];let l=0,c=0;for(let u=0;u<e.length;u++){const h=e.charCodeAt(u);let m=-1;if(h>=65&&h<=90)m=h-65;else if(h>=97&&h<=122)m=h-97+26;else if(h>=48&&h<=57)m=h-48+52;else if(h===43)m=62;else if(h===47)m=63;else throw new Error(`Invalid base64 character at index ${u}`);for(l=l<<6|m,c+=6;c>=8;)c-=8,r.push(l>>c&255),l&=(1<<c)-1}return r}function o2(o){const e=[];for(let i=0;i<o.length;i++){const r=o.codePointAt(i);if(r===void 0)throw new Error(`Index out of range: ${i}`);let l=r;l>65535?i++:l>=55296&&l<=57343&&(l=65533),l<=127?e.push(l):l<=2047?e.push(192|l>>6,128|l&63):l<=65535?e.push(224|l>>12,128|l>>6&63,128|l&63):e.push(240|l>>18,128|l>>12&63,128|l>>6&63,128|l&63)}return e}const Pt=o=>{let e="";for(let r=0;r<o.length;r++){const l=o[r];if(l<=127){e+=String.fromCharCode(l);continue}const c=()=>{e+=""};if(l>=192&&l<=223){if(r+1>=o.length){c();continue}const u=o[r+1];if((u&192)!==128){c(),r+=1;continue}const h=(l&31)<<6|u&63;e+=String.fromCharCode(h),r+=1;continue}if(l>=224&&l<=239){if(r+2>=o.length){c();continue}const u=o[r+1],h=o[r+2];if((u&192)!==128||(h&192)!==128){c(),r+=2;continue}const m=(l&15)<<12|(u&63)<<6|h&63;e+=String.fromCharCode(m),r+=2;continue}if(l>=240&&l<=247){if(r+3>=o.length){c();continue}const u=o[r+1],h=o[r+2],m=o[r+3];if((u&192)!==128||(h&192)!==128||(m&192)!==128){c(),r+=3;continue}const y=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536,b=55296+(y>>10),x=56320+(y&1023);e+=String.fromCharCode(b,x),r+=3;continue}c()}return e},wl=(o,e)=>{switch(e){case"hex":return ht(o);case"utf8":return Pt(o);default:return o}};function Tn(o){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";let i="",r;for(r=0;r<o.length;r+=3){const l=o[r],c=r+1<o.length?o[r+1]:0,u=r+2<o.length?o[r+2]:0,h=l>>2,m=(l&3)<<4|c>>4,p=(c&15)<<2|u>>6,y=u&63;i+=e.charAt(h)+e.charAt(m),i+=r+1<o.length?e.charAt(p):"=",i+=r+2<o.length?e.charAt(y):"="}return i}const Rs="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",mf=o=>{if(o===""||typeof o!="string")throw new Error(`Expected base58 string but got ${o}`);const e=o.match(/[IOl0]/gmu);if(e!==null)throw new Error(`Invalid base58 character ${e.join("")}`);const i=o.match(/^1+/gmu),r=i!==null?i[0].length:0,l=(o.length-r)*(Math.log(58)/Math.log(256))+1>>>0;return[...new Uint8Array([...new Uint8Array(r),...(o.match(/./gmu)??[]).map(u=>Rs.indexOf(u)).reduce((u,h)=>(u=u.map(m=>{const p=m*58+h;return h=p>>8,p}),u),new Uint8Array(l)).reverse().filter((u=>h=>u=u||h)(!1))])]},pf=o=>{const e=Array(256).fill(-1);for(let r=0;r<Rs.length;++r)e[Rs.charCodeAt(r)]=r;const i=[];for(const r of o){let l=r;for(let c=0;c<i.length;++c){const u=(e[i[c]]<<8)+l;i[c]=Rs.charCodeAt(u%58),l=u/58|0}for(;l!==0;)i.push(Rs.charCodeAt(l%58)),l=l/58|0}for(const r of o){if(r!==0)break;i.push(49)}return i.reverse(),String.fromCharCode(...i)},t1=(o,e=[0])=>{let i=yn([...e,...o]);return i=[...e,...o,...i.slice(0,4)],pf(i)},e1=(o,e,i=1)=>{const r=mf(o);let l=r.slice(0,i),c=r.slice(i,-4),u=[...l,...c];return u=yn(u),r.slice(-4).forEach((h,m)=>{if(h!==u[m])throw new Error("Invalid checksum")}),{prefix:l,data:c}};class At{bufs;length;constructor(e){this.bufs=e!==void 0?e:[],this.length=0;for(const i of this.bufs)this.length+=i.length}getLength(){return this.length}toUint8Array(){const e=new Uint8Array(this.length);let i=0;for(const r of this.bufs)e.set(r,i),i+=r.length;return e}toArray(){const e=this.length,i=new Array(e);let r=0;for(const l of this.bufs)if(l instanceof Uint8Array)for(let c=0;c<l.length;c++)i[r++]=l[c];else{const c=l;for(let u=0;u<c.length;u++)i[r++]=c[u]}return i}write(e){return this.bufs.push(e),this.length+=e.length,this}writeReverse(e){const i=new Array(e.length);for(let r=0;r<i.length;r++)i[r]=e[e.length-1-r];return this.write(i)}writeUInt8(e){const i=new Array(1);return i[0]=e&255,this.write(i),this}writeInt8(e){const i=new Array(1);return i[0]=e&255,this.write(i),this}writeUInt16BE(e){const i=[e>>8&255,e&255];return this.write(i)}writeInt16BE(e){return this.writeUInt16BE(e&65535)}writeUInt16LE(e){const i=[e&255,e>>8&255];return this.write(i)}writeInt16LE(e){return this.writeUInt16LE(e&65535)}writeUInt32BE(e){const i=[e>>24&255,e>>16&255,e>>8&255,e&255];return this.write(i)}writeInt32BE(e){return this.writeUInt32BE(e>>>0)}writeUInt32LE(e){const i=[e&255,e>>8&255,e>>16&255,e>>24&255];return this.write(i)}writeInt32LE(e){return this.writeUInt32LE(e>>>0)}writeUInt64BEBn(e){const i=e.toArray("be",8);return this.write(i),this}writeUInt64LEBn(e){const i=e.toArray("be",8);return this.writeReverse(i),this}writeUInt64LE(e){const i=new _(e).toArray("be",8);return this.writeReverse(i),this}writeVarIntNum(e){const i=At.varIntNum(e);return this.write(i),this}writeVarIntBn(e){const i=At.varIntBn(e);return this.write(i),this}static varIntNum(e){let i;if(e<0)return this.varIntBn(new _(e));if(e<253)i=[e];else if(e<65536)i=[253,e&255,e>>8&255];else if(e<4294967296)i=[254,e&255,e>>8&255,e>>16&255,e>>24&255];else{const r=e&4294967295,l=Math.floor(e/4294967296)&4294967295;i=[255,r&255,r>>8&255,r>>16&255,r>>24&255,l&255,l>>8&255,l>>16&255,l>>24&255]}return i}static varIntBn(e){let i;if(e.isNeg()&&(e=e.add(n1)),e.ltn(253))i=[e.toNumber()];else if(e.ltn(65536)){const r=e.toNumber();i=[253,r&255,r>>8&255]}else if(e.lt(new _(4294967296))){const r=e.toNumber();i=[254,r&255,r>>8&255,r>>16&255,r>>24&255]}else{const r=new At;r.writeUInt8(255),r.writeUInt64LEBn(e),i=r.toArray()}return i}}class fe{bin;pos;length;constructor(e=[],i=0){this.bin=e,this.pos=i,this.length=e.length}eof(){return this.pos>=this.length}read(e=this.length){const i=this.pos,r=this.pos+e;return this.pos=r,this.bin.slice(i,r)}readReverse(e=this.length){const i=new Array(e);for(let r=0;r<e;r++)i[r]=this.bin[this.pos+e-1-r];return this.pos+=e,i}readUInt8(){const e=this.bin[this.pos];return this.pos+=1,e}readInt8(){const e=this.bin[this.pos];return this.pos+=1,(e&128)!==0?e-256:e}readUInt16BE(){const e=this.bin[this.pos]<<8|this.bin[this.pos+1];return this.pos+=2,e}readInt16BE(){const e=this.readUInt16BE();return(e&32768)!==0?e-65536:e}readUInt16LE(){const e=this.bin[this.pos]|this.bin[this.pos+1]<<8;return this.pos+=2,e}readInt16LE(){const e=this.readUInt16LE();return(e&32768)!==0?e-65536:e}readUInt32BE(){const e=this.bin[this.pos]*16777216+(this.bin[this.pos+1]<<16|this.bin[this.pos+2]<<8|this.bin[this.pos+3]);return this.pos+=4,e}readInt32BE(){const e=this.readUInt32BE();return(e&2147483648)!==0?e-4294967296:e}readUInt32LE(){const e=(this.bin[this.pos]|this.bin[this.pos+1]<<8|this.bin[this.pos+2]<<16|this.bin[this.pos+3]<<24)>>>0;return this.pos+=4,e}readInt32LE(){const e=this.readUInt32LE();return(e&2147483648)!==0?e-4294967296:e}readUInt64BEBn(){const e=this.bin.slice(this.pos,this.pos+8),i=new _(e);return this.pos=this.pos+8,i}readUInt64LEBn(){const e=this.readReverse(8);return new _(e)}readInt64LEBn(){const e=this.readReverse(8);let i=new _(e);return i.gte(l2)&&(i=i.sub(n1)),i}readVarIntNum(e=!0){const i=this.readUInt8();let r;switch(i){case 253:return this.readUInt16LE();case 254:return this.readUInt32LE();case 255:if(r=e?this.readInt64LEBn():this.readUInt64LEBn(),r.lte(new _(2).pow(new _(53))))return r.toNumber();throw new Error("number too large to retain precision - use readVarIntBn");default:return i}}readVarInt(){switch(this.bin[this.pos]){case 253:return this.read(3);case 254:return this.read(5);case 255:return this.read(9);default:return this.read(1)}}readVarIntBn(){const e=this.readUInt8();switch(e){case 253:return new _(this.readUInt16LE());case 254:return new _(this.readUInt32LE());case 255:return this.readUInt64LEBn();default:return new _(e)}}}const Jm=o=>{if(o.length===0)return o;const e=o[o.length-1];if((e&127)!==0)return o;if(o.length===1)return[];if((o[o.length-2]&128)!==0)return o;for(let i=o.length-1;i>0;i--)if(o[i-1]!==0)return(o[i-1]&128)!==0?(o[i]=e,o.slice(0,i+1)):(o[i-1]|=e,o.slice(0,i));return[]},l2=new _(2).pow(new _(63)),n1=new _(2).pow(new _(64));function _r(o,e="Expected a valid value, but got undefined or null."){if(o==null)throw new Error(e);return o}const te=0n,ye=1n,bf=2n,c2=3n,u2=4n,f2=8n,Pn=0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn,Sa=0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n,$m=(1n<<256n)-1n;function kf(o){let e=o>>256n;return o=(o&$m)+(e<<32n)+e*977n,e=o>>256n,o=(o&$m)+(e<<32n)+e*977n,o>=Pn&&(o-=Pn),o}const Nr=o=>kf((o%Pn+Pn)%Pn),Ln=(o,e)=>o>=e?o-e:Pn-(e-o),pt=(o,e)=>kf(o*e),d2=(o,e)=>kf(o+e),Us=o=>{let e=ye,i=te,r=Nr(o),l=Pn;for(;r>ye;){const c=l/r;[e,i]=[i-e*c,e],[r,l]=[l-r*c,r]}return Nr(e)},h2=o=>pt(o,o),m2=(o,e)=>{let i=ye;o=Nr(o);let r=e;for(;r>te;)(r&ye)===ye&&(i=pt(i,o)),o=pt(o,o),r>>=ye;return i},p2=Pn+1n>>2n,b2=o=>{const e=m2(o,p2);return pt(e,e)===Nr(o)?e:null},g2=o=>_.isBN(o)?BigInt("0x"+o.toString(16)):typeof o=="string"?BigInt("0x"+o):Array.isArray(o)?BigInt("0x"+ht(o)):BigInt(o),If=BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Cf=BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),tp=new Map,Sl=o=>{const{X:e,Y:i,Z:r}=o;if(i===te)return{X:te,Y:ye,Z:te};const l=pt(i,i),c=pt(u2,pt(e,l)),u=pt(c2,pt(e,e)),h=Ln(pt(u,u),pt(bf,c)),m=Ln(pt(u,Ln(c,h)),pt(f2,pt(l,l))),p=pt(bf,pt(i,r));return{X:h,Y:m,Z:p}},El=(o,e)=>{if(o.Z===te)return e;if(e.Z===te)return o;const i=pt(o.Z,o.Z),r=pt(e.Z,e.Z),l=pt(o.X,r),c=pt(e.X,i),u=pt(o.Y,pt(r,e.Z)),h=pt(e.Y,pt(i,o.Z)),m=Ln(c,l),p=Ln(h,u);if(m===te)return p===te?Sl(o):{X:te,Y:ye,Z:te};const y=pt(m,m),b=pt(m,y),x=pt(l,y),w=Ln(Ln(pt(p,p),b),pt(bf,x)),S=Ln(pt(p,Ln(x,w)),pt(u,b)),k=pt(m,pt(o.Z,e.Z));return{X:w,Y:S,Z:k}},y2=o=>o.Z===te?o:{X:o.X,Y:Pn-o.Y,Z:o.Z},Al=(o,e,i=5)=>{const r=`${i}:${e.x.toString(16)}:${e.y.toString(16)}`;let l=tp.get(r),c;if(l===void 0){const b=1<<i-1;l=new Array(b),c={X:e.x,Y:e.y,Z:ye},l[0]=c;const x=Sl(c);for(let w=1;w<b;w++)l[w]=El(l[w-1],x);tp.set(r,l)}else c=l[0];const u=[],h=1n<<BigInt(i),m=h>>1n;let p=o;for(;p>0n;)if((p&ye)===te)u.push(0),p>>=ye;else{let b=p&h-1n;b>m&&(b-=h),u.push(Number(b)),p-=b,p>>=ye}let y={X:te,Y:ye,Z:te};for(let b=u.length-1;b>=0;b--){y=Sl(y);const x=u[b];if(x!==0){const w=Math.abs(x)>>1,S=x>0?l[w]:y2(l[w]);y=El(y,S)}}return y},Tr=o=>{let e=o%Sa;return e<0n&&(e+=Sa),e},Ol=(o,e)=>Tr(o*e),i1=o=>{let e=1n,i=0n,r=Tr(o),l=Sa;for(;r>1n;){const c=l/r;[e,i]=[i-e*c,e],[r,l]=[l-r*c,r]}return Tr(e)};class jt extends zp{x;y;inf;static fromDER(e){if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===64){if(e[0]===6){if(e[e.length-1]%2!==0)throw new Error("Point string value is wrong length")}else if(e[0]===7&&e[e.length-1]%2!==1)throw new Error("Point string value is wrong length");return new jt(e.slice(1,33),e.slice(33,65))}else if((e[0]===2||e[0]===3)&&e.length-1===32)return jt.fromX(e.slice(1,33),e[0]===3);throw new Error("Unknown point format")}static fromString(e){const i=F(e,"hex");return jt.fromDER(i)}static fromX(e,i){let r=g2(e);r=Nr(r);const l=d2(pt(h2(r),r),7n),c=b2(l);if(c===null)throw new Error("Invalid point");let u=c;(u&ye)!==(i?ye:te)&&(u=Ln(Pn,u));const h=new _(r.toString(16),16),m=new _(u.toString(16),16);return new jt(h,m)}static fromJSON(e,i){typeof e=="string"&&(e=JSON.parse(e));const r=new jt(e[0],e[1],i);if(typeof e[2]!="object")return r;const l=u=>new jt(u[0],u[1],i),c=e[2];return r.precomputed={beta:null,doubles:typeof c.doubles=="object"&&c.doubles!==null?{step:c.doubles.step,points:[r].concat(c.doubles.points.map(l))}:void 0,naf:typeof c.naf=="object"&&c.naf!==null?{wnd:c.naf.wnd,points:[r].concat(c.naf.points.map(l))}:void 0},r}constructor(e,i,r=!0){super("affine"),this.precomputed=null,e===null&&i===null?(this.x=null,this.y=null,this.inf=!0):(_.isBN(e)||(e=new _(e,16)),this.x=e,_.isBN(i)||(i=new _(i,16)),this.y=i,r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red===null&&(this.x=this.x.toRed(this.curve.red)),this.y.red===null&&(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}validate(){return this.curve.validate(this)}encode(e=!0,i){if(this.inf)return i==="hex"?"00":[0];const r=this.curve.p.byteLength(),l=this.getX().toArray("be",r);let c;return e?c=[this.getY().isEven()?2:3].concat(l):c=[4].concat(l,this.getY().toArray("be",r)),i!=="hex"?c:ht(c)}toString(){return this.encode(!0,"hex")}toJSON(){return this.precomputed==null?[this.x,this.y]:[this.x,this.y,typeof this.precomputed=="object"&&this.precomputed!==null?{doubles:this.precomputed.doubles!=null?{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)}:void 0,naf:this.precomputed.naf!=null?{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}:void 0}:void 0]}inspect(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+(this.x?.fromRed()?.toString(16,2)??"undefined")+" y: "+(this.y?.fromRed()?.toString(16,2)??"undefined")+">"}isInfinity(){return this.inf}add(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return new jt(null,null);if(this.x?.cmp(e.x??new _(0))===0)return new jt(null,null);const i={X:BigInt("0x"+this.x.fromRed().toString(16)),Y:BigInt("0x"+this.y.fromRed().toString(16)),Z:ye},r={X:BigInt("0x"+e.x.fromRed().toString(16)),Y:BigInt("0x"+e.y.fromRed().toString(16)),Z:ye},l=El(i,r);if(l.Z===te)return new jt(null,null);const c=Us(l.Z),u=pt(c,c),h=pt(l.X,u),m=pt(l.Y,pt(u,c));return new jt(h.toString(16),m.toString(16))}dbl(){if(this.inf)return this;if(this.x===null||this.y===null)throw new Error("Point coordinates cannot be null");const e=BigInt("0x"+this.x.fromRed().toString(16)),i=BigInt("0x"+this.y.fromRed().toString(16));if(i===te)return new jt(null,null);const r=Sl({X:e,Y:i,Z:ye}),l=Us(r.Z),c=pt(l,l),u=pt(r.X,c),h=pt(r.Y,pt(c,l));return new jt(u.toString(16),h.toString(16))}getX(){return(this.x??new _(0)).fromRed()}getY(){return(this.y??new _(0)).fromRed()}mul(e){if(_.isBN(e)||(e=new _(e,16)),e=e,this.inf)return this;let i=BigInt("0x"+e.toString(16));const r=i<te;if(r&&(i=-i),i=Nr(i),i===te)return new jt(null,null);if(this.x===null||this.y===null)throw new Error("Point coordinates cannot be null");let l,c;this===this.curve.g?(l=If,c=Cf):(l=BigInt("0x"+this.x.fromRed().toString(16)),c=BigInt("0x"+this.y.fromRed().toString(16)));const u=Al(i,{x:l,y:c});if(u.Z===te)return new jt(null,null);const h=Us(u.Z),m=pt(h,h),p=pt(u.X,m),y=pt(u.Y,pt(m,h)),b=new _(p.toString(16),16),x=new _(y.toString(16),16),w=new jt(b,x);return r?w.neg():w}mulAdd(e,i,r){const l=[this,i],c=[e,r];return this._endoWnafMulAdd(l,c)}jmulAdd(e,i,r){const l=[this,i],c=[e,r];return this._endoWnafMulAdd(l,c,!0)}eq(e){return this===e||this.inf===e.inf&&(this.inf||(this.x??new _(0)).cmp(e.x??new _(0))===0&&(this.y??new _(0)).cmp(e.y??new _(0))===0)}neg(e){if(this.inf)return this;const i=new jt(this.x,(this.y??new _(0)).redNeg());if(e===!0&&this.precomputed!=null){const r=this.precomputed,l=c=>c.neg();i.precomputed={naf:r.naf!=null?{wnd:r.naf.wnd,points:r.naf.points.map(l)}:void 0,doubles:r.doubles!=null?{step:r.doubles.step,points:r.doubles.points.map(c=>c.neg())}:void 0,beta:void 0}}return i}dblp(e){let i=this;for(let r=0;r<e;r++)i=i.dbl();return i}toJ(){return this.inf?new bn(null,null,null):new bn(this.x,this.y,this.curve.one)}_getBeta(){if(typeof this.curve.endo!="object")return;const e=this.precomputed;if(typeof e=="object"&&e!==null&&typeof e.beta=="object"&&e.beta!==null)return e.beta;const i=new jt((this.x??new _(0)).redMul(this.curve.endo.beta),this.y);if(e!=null){const r=this.curve,l=c=>{if(c.x===null)throw new Error("p.x is null");if(r.endo===void 0||r.endo===null)throw new Error("curve.endo is undefined");return new jt(c.x.redMul(r.endo.beta),c.y)};e.beta=i,i.precomputed={beta:null,naf:e.naf!=null?{wnd:e.naf.wnd,points:e.naf.points.map(l)}:void 0,doubles:e.doubles!=null?{step:e.doubles.step,points:e.doubles.points.map(l)}:void 0}}return i}_fixedNafMul(e){if(typeof this.precomputed!="object"||this.precomputed===null)throw new Error("_fixedNafMul requires precomputed values for the point");const i=this._getDoubles(),r=this.curve.getNAF(e,1,this.curve._bitLength);let l=(1<<i.step+1)-(i.step%2===0?2:1);l/=3;const c=[];for(let m=0;m<r.length;m+=i.step){let p=0;for(let y=m+i.step-1;y>=m;y--)p=(p<<1)+r[y];c.push(p)}let u=new bn(null,null,null),h=new bn(null,null,null);for(let m=l;m>0;m--){for(let p=0;p<c.length;p++){const y=c[p];y===m?h=h.mixedAdd(i.points[p]):y===-m&&(h=h.mixedAdd(i.points[p].neg()))}u=u.add(h)}return u.toP()}_wnafMulAdd(e,i,r,l,c){const u=this.curve._wnafT1.map(x=>x.toNumber()),h=this.curve._wnafT2.map(()=>[]),m=this.curve._wnafT3.map(()=>[]);let p=0;for(let x=0;x<l;x++){const S=i[x]._getNAFPoints(e);u[x]=S.wnd,h[x]=S.points}for(let x=l-1;x>=1;x-=2){const w=x-1,S=x;if(u[w]!==1||u[S]!==1){m[w]=this.curve.getNAF(r[w],u[w],this.curve._bitLength),m[S]=this.curve.getNAF(r[S],u[S],this.curve._bitLength),p=Math.max(m[w].length,p),p=Math.max(m[S].length,p);continue}const k=[i[w],null,null,i[S]];(i[w].y??new _(0)).cmp(i[S].y??new _(0))===0?(k[1]=i[w].add(i[S]),k[2]=i[w].toJ().mixedAdd(i[S].neg())):(i[w].y??new _(0)).cmp((i[S].y??new _(0)).redNeg())===0?(k[1]=i[w].toJ().mixedAdd(i[S]),k[2]=i[w].add(i[S].neg())):(k[1]=i[w].toJ().mixedAdd(i[S]),k[2]=i[w].toJ().mixedAdd(i[S].neg()));const C=[-3,-1,-5,-7,0,7,5,1,3],D=this.curve.getJSF(r[w],r[S]);p=Math.max(D[0].length,p),m[w]=new Array(p),m[S]=new Array(p);for(let Y=0;Y<p;Y++){const q=D[0][Y]|0,W=D[1][Y]|0;m[w][Y]=C[(q+1)*3+(W+1)],m[S][Y]=0,h[w]=k}}let y=new bn(null,null,null);const b=this.curve._wnafT4;for(let x=p;x>=0;x--){let w=0;for(;x>=0;){let C=!0;for(let D=0;D<l;D++)b[D]=new _(typeof m[D][x]=="number"?m[D][x]:0),b[D].isZero()||(C=!1);if(!C)break;w++,x--}if(x>=0&&w++,y=y.dblp(w),x<0)break;const S=new _(1),k=new _(2);for(let C=0;C<l;C++){const D=b[C];let Y;D.cmpn(0)!==0&&(D.isNeg()?Y=h[C][D.neg().sub(S).div(k).toNumber()].neg():Y=h[C][D.sub(S).div(k).toNumber()],Y.type==="affine"?y=y.mixedAdd(Y):y=y.add(Y))}}for(let x=0;x<l;x++)h[x]=[];return c===!0?y:y.toP()}_endoWnafMulAdd(e,i,r){const l=new Array(e.length*2),c=new Array(e.length*2);let u;for(u=0;u<e.length;u++){const m=this.curve._endoSplit(i[u]);let p=e[u],y=p._getBeta()??new jt(null,null);m.k1.negative!==0&&(m.k1.ineg(),p=p.neg(!0)),m.k2.negative!==0&&(m.k2.ineg(),y=y.neg(!0)),l[u*2]=p,l[u*2+1]=y,c[u*2]=m.k1,c[u*2+1]=m.k2}const h=this._wnafMulAdd(1,l,c,u*2,r);for(let m=0;m<u*2;m++)l[m]=null,c[m]=null;return h}_hasDoubles(e){if(this.precomputed==null)return!1;const i=this.precomputed.doubles;return typeof i!="object"?!1:i.points.length>=Math.ceil((e.bitLength()+1)/i.step)}_getDoubles(e,i){if(typeof this.precomputed=="object"&&this.precomputed!==null&&typeof this.precomputed.doubles=="object"&&this.precomputed.doubles!==null)return this.precomputed.doubles;const r=[this];let l=this;for(let c=0;c<(i??0);c+=e??1){for(let u=0;u<(e??1);u++)l=l.dbl();r.push(l)}return{step:e??1,points:r}}_getNAFPoints(e){if(typeof this.precomputed=="object"&&this.precomputed!==null&&typeof this.precomputed.naf=="object"&&this.precomputed.naf!==null)return this.precomputed.naf;const i=[this],r=(1<<e)-1,l=r===1?null:this.dbl();for(let c=1;c<r;c++)l!==null&&(i[c]=i[c-1].add(l));return{wnd:e,points:i}}}let rf;class Te{p;red;redN;zero;one;two;g;n;a;b;tinv;zeroA;threeA;endo;_endoWnafT1;_endoWnafT2;_wnafT1;_wnafT2;_wnafT3;_wnafT4;_bitLength;static assert(e,i="Elliptic curve assertion failed"){if(!e)throw new Error(i)}getNAF(e,i,r){const l=new Array(Math.max(e.bitLength(),r)+1);l.fill(0);const c=1<<i+1,u=e.clone();for(let h=0;h<l.length;h++){let m;const p=u.andln(c-1);u.isOdd()?(p>(c>>1)-1?m=(c>>1)-p:m=p,u.isubn(m)):m=0,l[h]=m,u.iushrn(1)}return l}getJSF(e,i){const r=[[],[]];e=e.clone(),i=i.clone();let l=0,c=0;for(;e.cmpn(-l)>0||i.cmpn(-c)>0;){let u=e.andln(3)+l&3,h=i.andln(3)+c&3;u===3&&(u=-1),h===3&&(h=-1);let m;if((u&1)===0)m=0;else{const y=e.andln(7)+l&7;(y===3||y===5)&&h===2?m=-u:m=u}r[0].push(m);let p;if((h&1)===0)p=0;else{const y=i.andln(7)+c&7;(y===3||y===5)&&u===2?p=-h:p=h}r[1].push(p),2*l===m+1&&(l=1-l),2*c===p+1&&(c=1-c),e.iushrn(1),i.iushrn(1)}return r}static cachedProperty(e,i,r){const l="_"+i;e.prototype[i]=function(){return this[l]!==void 0?this[l]:this[l]=r.call(this)}}static parseBytes(e){return typeof e=="string"?F(e,"hex"):e}static intFromLE(e){return new _(e,"hex","le")}constructor(){if(typeof rf<"u")return rf;rf=this;const i={prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",{doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}]};this.p=new _(i.p,16),this.red=new Dp(i.prime),this.zero=new _(0).toRed(this.red),this.one=new _(1).toRed(this.red),this.two=new _(2).toRed(this.red),this.n=new _(i.n,16),this.g=jt.fromJSON(i.g,i.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n.bitLength(),this.redN=this.n.toRed(this.red),this.a=new _(i.a,16).toRed(this.red),this.b=new _(i.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(i),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}_getEndomorphism(e){if(!this.zeroA||this.p.modrn(3)!==1)return;let i,r;if(e.beta!==void 0)i=new _(e.beta,16).toRed(this.red);else{const c=this._getEndoRoots(this.p);if(c===null)throw new Error("Failed to get endomorphism roots for beta.");i=c[0].cmp(c[1])<0?c[0]:c[1],i=i.toRed(this.red)}if(e.lambda!==void 0)r=new _(e.lambda,16);else{const c=this._getEndoRoots(this.n);if(c===null)throw new Error("Failed to get endomorphism roots for lambda.");if(this.g==null)throw new Error("Curve generator point (g) is not defined.");const u=this.g.mul(c[0])?.x,h=this.g.x!=null?this.g.x.redMul(i):void 0;if(u!=null&&h!=null&&u.cmp(h)===0)r=c[0];else{if(r=c[1],this.g==null)throw new Error("Curve generator point (g) is not defined.");const m=this.g.mul(r)?.x,p=this.g.x!=null?this.g.x.redMul(i):void 0;if(m==null||p==null)throw new Error("Lambda computation failed: g.mul(lambda).x or g.x.redMul(beta) is undefined.");Te.assert(m.cmp(p)===0,"Lambda selection does not match computed beta.")}}let l;return typeof e.basis=="object"&&e.basis!==null?l=e.basis.map(function(c){return{a:new _(c.a,16),b:new _(c.b,16)}}):l=this._getEndoBasis(r),{beta:i,lambda:r,basis:l}}_getEndoRoots(e){const i=e===this.p?this.red:new by(e),r=new _(2).toRed(i).redInvm(),l=r.redNeg(),c=new _(3).toRed(i).redNeg().redSqrt().redMul(r),u=l.redAdd(c).fromRed(),h=l.redSub(c).fromRed();return[u,h]}_getEndoBasis(e){const i=this.n.ushrn(Math.floor(this.n.bitLength()/2));let r=e,l=this.n.clone(),c=new _(1),u=new _(0),h=new _(0),m=new _(1),p,y,b,x,w,S,k=new _(0),C=0,D=new _(0),Y=new _(0);for(;r.cmpn(0)!==0;){const $=l.div(r);D=l.sub($.mul(r)),Y=h.sub($.mul(c));const st=m.sub($.mul(u));if(b===void 0&&D.cmp(i)<0)p=k.neg(),y=c,b=D.neg(),x=Y;else if(b!==void 0&&++C===2)break;k=D,l=r,r=D,h=c,c=Y,m=u,u=st}if(p===void 0||y===void 0||b===void 0||x===void 0)throw new Error("Failed to compute Endo Basis values");w=D.neg(),S=Y;const q=b.sqr().add(x.sqr());return w.sqr().add(S.sqr()).cmp(q)>=0&&(w=p,S=y),b.negative!==0&&(b=b.neg(),x=x.neg()),w.negative!==0&&(w=w.neg(),S=S.neg()),[{a:b,b:x},{a:w,b:S}]}_endoSplit(e){if(this.endo==null)throw new Error("Endomorphism is not defined.");const i=this.endo.basis,r=i[0],l=i[1],c=l.b.mul(e).divRound(this.n),u=r.b.neg().mul(e).divRound(this.n),h=c.mul(r.a),m=u.mul(l.a),p=c.mul(r.b),y=u.mul(l.b),b=e.sub(h).sub(m),x=p.add(y).neg();return{k1:b,k2:x}}validate(e){if(e.inf)return!0;const i=e.x,r=e.y;if(i===null||r===null)throw new Error("Point coordinates cannot be null");const l=this.a.redMul(i),c=i.redSqr().redMul(i).redIAdd(l).redIAdd(this.b);return r.redSqr().redISub(c).cmpn(0)===0}}class qn{r;s;static fromDER(e,i){const r=(b,x)=>{const w=b[x.place++];if((w&128)===0)return w;throw new Error("Invalid DER entity length")};class l{place;constructor(){this.place=0}}e=F(e,i);const c=new l;if(e[c.place++]!==48)throw new Error("Signature DER must start with 0x30");if(r(e,c)+c.place!==e.length)throw new Error("Signature DER invalid");if(e[c.place++]!==2)throw new Error("Signature DER invalid");const h=r(e,c);let m=e.slice(c.place,h+c.place);if(c.place+=h,e[c.place++]!==2)throw new Error("Signature DER invalid");const p=r(e,c);if(e.length!==p+c.place)throw new Error("Invalid R-length in signature DER");let y=e.slice(c.place,p+c.place);if(m[0]===0)if((m[1]&128)!==0)m=m.slice(1);else throw new Error("Invalid R-value in signature DER");if(y[0]===0)if((y[1]&128)!==0)y=y.slice(1);else throw new Error("Invalid S-value in signature DER");return new qn(new _(m),new _(y))}static fromCompact(e,i){if(e=F(e,i),e.length!==65)throw new Error("Invalid Compact Signature");const r=e[0];if(r<27||r>=35)throw new Error("Invalid Compact Byte");return new qn(new _(e.slice(1,33)),new _(e.slice(33,65)))}constructor(e,i){this.r=e,this.s=i}verify(e,i,r){const l=new _(jn(e,r),16);return Ps(l,this,i)}toString(e){return this.toDER(e)}toDER(e){const i=(p,y)=>{if(y<128)p.push(y);else throw new Error("len must be < 0x80")},r=p=>{let y=0;const b=p.length-1;for(;p[y]===0&&(p[y+1]&128)===0&&y<b;)y++;return y===0?p:p.slice(y)};let l=this.r.toArray(),c=this.s.toArray();for((l[0]&128)!==0&&(l=[0].concat(l)),(c[0]&128)!==0&&(c=[0].concat(c)),l=r(l),c=r(c);c[0]===0&&(c[1]&128)===0;)c=c.slice(1);let u=[2];i(u,l.length),u=u.concat(l),u.push(2),i(u,c.length);const h=u.concat(c);let m=[48];return i(m,h.length),m=m.concat(h),e==="hex"?ht(m):e==="base64"?Tn(m):m}toCompact(e,i,r){if(e<0||e>3)throw new Error("Invalid recovery param");if(typeof i!="boolean")throw new Error("Invalid compressed param");let l=27+e;i&&(l+=4);let c=[l];return c=c.concat(this.r.toArray("be",32)),c=c.concat(this.s.toArray("be",32)),r==="hex"?ht(c):r==="base64"?Tn(c):c}RecoverPublicKey(e,i){const r=this.r,l=this.s,c=(e&1)!==0,u=e>>1,h=new Te,m=h.n,p=h.g,y=u!==0?r.add(m):r,b=jt.fromX(y,c);if(!b.mul(m).isInfinity())throw new Error("nR is not at infinity");const w=i.neg().umod(m),S=r.invm(m),k=S.mul(l).umod(m),C=S.mul(w).umod(m),D=p.mul(C).add(b.mul(k)),Y=new Fe(D);return Y.validate(),Y}CalculateRecoveryFactor(e,i){for(let r=0;r<4;r++){let l;try{l=this.RecoverPublicKey(r,i)}catch{continue}if(e.eq(l))return r}throw new Error("Unable to find valid recovery factor")}}class v2{K;V;constructor(e,i){const r=F(e,"hex"),l=F(i,"hex");if(r.length!==32)throw new Error("Entropy must be exactly 32 bytes (256 bits)");if(l.length!==32)throw new Error("Nonce must be exactly 32 bytes (256 bits)");const c=r.concat(l);this.K=new Array(32),this.V=new Array(32);for(let u=0;u<32;u++)this.K[u]=0,this.V[u]=1;this.update(c)}hmac(){return new Kp(this.K)}update(e){let i=this.hmac().update(this.V).update([0]);e!==void 0&&(i=i.update(e)),this.K=i.digest(),this.V=this.hmac().update(this.V).digest(),e!==void 0&&(this.K=this.hmac().update(this.V).update([1]).update(e).digest(),this.V=this.hmac().update(this.V).digest())}generate(e){let i=[];for(;i.length<e;)this.V=this.hmac().update(this.V).digest(),i=i.concat(this.V);const r=i.slice(0,e);return this.update(),ht(r)}}function ep(o,e,i=new Te){const r=o.byteLength()*8-i.n.bitLength();return r>0&&o.iushrn(r),e===null&&o.cmp(i.n)>=0?o.sub(i.n):o}const a1=new Te,sf=a1.n.byteLength(),x2=a1.n.subn(1),w2=Sa>>1n,r1=(o,e,i=!1,r)=>{o=ep(o);const l=BigInt("0x"+o.toString(16)),c=BigInt("0x"+e.toString(16)),u=e.toArray("be",sf),h=o.toArray("be",sf),m=new v2(u,h);for(let p=0;;p++){let y=typeof r=="function"?r(p):_.isBN(r)?r:new _(m.generate(sf),16);if(y==null)throw new Error("k is undefined");if(y=ep(y,!0),y.cmpn(1)<0||y.cmp(x2)>0){if(_.isBN(r))throw new Error("Invalid fixed custom K value (must be >1 and <N1)");continue}const b=BigInt("0x"+y.toString(16)),x=Al(b,{x:If,y:Cf});if(x.Z===0n){if(_.isBN(r))throw new Error("Invalid fixed custom K value (kG at infinity)");continue}const w=Us(x.Z),S=pt(w,w),k=pt(x.X,S),C=Tr(k);if(C===0n){if(_.isBN(r))throw new Error("Invalid fixed custom K value (r == 0)");continue}const D=i1(b),Y=Ol(C,c),q=Tr(l+Y);let W=Ol(D,q);if(W===0n){if(_.isBN(r))throw new Error("Invalid fixed custom K value (s == 0)");continue}i&&W>w2&&(W=Sa-W);const $=new _(C.toString(16),16),st=new _(W.toString(16),16);return new qn($,st)}},Ps=(o,e,i)=>{const r=BigInt("0x"+o.toString(16));if(i.x==null||i.y==null)throw new Error("Invalid public key: missing coordinates.");const l={x:BigInt("0x"+i.x.toString(16)),y:BigInt("0x"+i.y.toString(16))},c={r:BigInt("0x"+e.r.toString(16)),s:BigInt("0x"+e.s.toString(16))},{r:u,s:h}=c,m=r;if(u<=te||u>=Sa||h<=te||h>=Sa)return!1;const p=i1(h);if(p===0n)return!1;const y=Ol(m,p),b=Ol(u,p),x=Al(y,{x:If,y:Cf}),w=Al(b,l),S=El(x,w);if(S.Z===0n)return!1;const k=Us(S.Z),C=pt(k,k),D=pt(S.X,C);return Tr(D)===u};class Fe extends jt{static fromPrivateKey(e){const r=new Te().g.mul(e);return new Fe(r.x,r.y)}static fromString(e){const i=jt.fromString(e);return new Fe(i.x,i.y)}static fromDER(e){const i=jt.fromDER(e);return new Fe(i.x,i.y)}constructor(e,i=null,r=!0){if(e instanceof jt)super(e.getX(),e.getY());else{if(i===null&&r&&typeof e=="string"&&(e.length===66||e.length===130))throw new Error('You are using the "new PublicKey()" constructor with a DER hex string. You need to use "PublicKey.fromString()" instead.');super(e,i,r)}}deriveSharedSecret(e){if(!this.validate())throw new Error("Public key not valid for ECDH secret derivation");return this.mul(e)}verify(e,i,r){const l=new _(jn(e,r),16);return Ps(l,i,this)}toDER(e){return e==="hex"?this.encode(!0,e):this.encode(!0)}toHash(e){const i=Gp(this.encode(!0));return e==="hex"?ht(i):i}toAddress(e=[0]){if(typeof e=="string")if(e==="testnet"||e==="test")e=[111];else if(e==="mainnet"||e==="main")e=[0];else throw new Error(`Invalid prefix ${e}`);return t1(this.toHash(),e)}deriveChild(e,i,r,l){let c;if(typeof l=="function"){const b=l(e,this);typeof b<"u"?c=b:(c=this.deriveSharedSecret(e),typeof r=="function"&&r(e,this,c))}else c=this.deriveSharedSecret(e);const u=F(i,"utf8"),h=Ls(c.encode(!0),u),p=new Te().g.mul(new _(h)),y=this.add(p);return new Fe(y.x,y.y)}static fromMsgHashAndCompactSignature(e,i,r){const l=F(i,r);if(l.length!==65)throw new Error("Invalid Compact Signature");const c=l[0];if(c<27||c>=35)throw new Error("Invalid Compact Byte");let u=l[0]-27;return u>3&&(u-=4),new qn(new _(l.slice(1,33)),new _(l.slice(33,65))).RecoverPublicKey(u,e)}}class S2{_rand;getRandomValues(e,i){const r=new Uint8Array(i);return e.crypto.getRandomValues(r),Array.from(r)}constructor(){const e=()=>{throw new Error("No secure random number generator is available in this environment.")};if(this._rand=e,typeof globalThis<"u"&&typeof globalThis.crypto?.getRandomValues=="function"){this._rand=i=>this.getRandomValues(globalThis,i);return}if(typeof process<"u"&&process.release?.name==="node")try{const i=require("crypto");if(typeof i.randomBytes=="function"){this._rand=r=>Array.from(i.randomBytes(r));return}}catch{}if(typeof self<"u"&&typeof self.crypto?.getRandomValues=="function"){this._rand=i=>this.getRandomValues(self,i);return}if(typeof window<"u"&&typeof window.crypto?.getRandomValues=="function"){this._rand=i=>this.getRandomValues(window,i);return}this._rand=e}generate(e){return this._rand(e)}}let of=null;const kn=o=>(of==null&&(of=new S2),of.generate(o));class kr{x;y;constructor(e,i){const r=new Te().p;this.x=e.umod(r),this.y=i.umod(r)}toString(){return pf(this.x.toArray())+"."+pf(this.y.toArray())}static fromString(e){const[i,r]=e.split(".");return new kr(new _(mf(i)),new _(mf(r)))}}class _l{points;threshold;constructor(e,i){this.points=e,this.threshold=i??e.length}static fromPrivateKey(e,i){const r=new Te().p,l=[new kr(new _(0),new _(e.toArray()))];for(let c=1;c<i;c++){const u=new _(kn(32)).umod(r),h=new _(kn(32)).umod(r);l.push(new kr(u,h))}return new _l(l)}valueAt(e){const i=new Te().p;let r=new _(0);for(let l=0;l<this.threshold;l++){let c=this.points[l].y;for(let u=0;u<this.threshold;u++)if(l!==u){const h=this.points[u].x,m=this.points[l].x,p=e.sub(h).umod(i),b=m.sub(h).umod(i).invm(i),x=p.mul(b).umod(i);c=c.mul(x).umod(i)}r=r.add(c).umod(i)}return r}}class Nl{points;threshold;integrity;constructor(e,i,r){this.points=e,this.threshold=i,this.integrity=r}static fromBackupFormat(e){let i=0,r="";const l=e.map((c,u)=>{const h=c.split(".");if(h.length!==4)throw new Error("Invalid share format in share "+u.toString()+'. Expected format: "x.y.t.i" - received '+c);const[m,p,y,b]=h;if(y===void 0)throw new Error("Threshold not found in share "+u.toString());if(b===void 0)throw new Error("Integrity not found in share "+u.toString());const x=parseInt(y);if(u!==0&&i!==x)throw new Error("Threshold mismatch in share "+u.toString());if(u!==0&&r!==b)throw new Error("Integrity mismatch in share "+u.toString());return i=x,r=b,kr.fromString([m,p].join("."))});return new Nl(l,i,r)}toBackupFormat(){return this.points.map(e=>e.toString()+"."+this.threshold.toString()+"."+this.integrity)}}class Xe extends _{static fromRandom(){return new Xe(kn(32))}static fromString(e,i="hex"){return new Xe(super.fromString(e,i).toArray())}static fromHex(e){return new Xe(super.fromHex(e,"big"))}static fromWif(e,i=1){const r=e1(e,void 0,i);if(r.data.length!==33)throw new Error("Invalid WIF length");if(r.data[32]!==1)throw new Error("Invalid WIF padding");return new Xe(r.data.slice(0,32))}constructor(e=0,i=10,r="be",l="apply"){if(e instanceof _?(super(),e.copy(this)):super(e,i,r),l!=="nocheck"){const c=this.checkInField();if(!c.inField){if(l==="error")throw new Error("Input is out of field");_.move(this,c.modN)}}}checkInField(){const e=new Te,i=this.mod(e.n);return{inField:this.cmp(i)===0,modN:i}}isValid(){return this.checkInField().inField}sign(e,i,r=!0,l){const c=new _(jn(e,i),16);return r1(c,this,r,l)}verify(e,i,r){const l=new _(jn(e,r),16);return Ps(l,i,this.toPublicKey())}toPublicKey(){const i=new Te().g.mul(this);return new Fe(i.x,i.y)}toWif(e=[128]){if(!this.isValid())throw new Error("Value is out of field");return t1([...this.toArray("be",32),1],e)}toAddress(e=[0]){return this.toPublicKey().toAddress(e)}toHex(){return super.toHex(32)}toString(e="hex",i=64){return super.toString(e,i)}deriveSharedSecret(e){if(!e.validate())throw new Error("Public key not valid for ECDH secret derivation");return e.mul(this)}deriveChild(e,i,r,l){let c;if(typeof l=="function"){const p=l(this,e);typeof p<"u"?c=p:(c=this.deriveSharedSecret(e),typeof r=="function"&&r(this,e,c))}else c=this.deriveSharedSecret(e);const u=F(i,"utf8"),h=Ls(c.encode(!0),u),m=new Te;return new Xe(this.add(new _(h)).mod(m.n).toArray())}toKeyShares(e,i){if(typeof e!="number"||typeof i!="number")throw new Error("threshold and totalShares must be numbers");if(e<2)throw new Error("threshold must be at least 2");if(i<2)throw new Error("totalShares must be at least 2");if(e>i)throw new Error("threshold should be less than or equal to totalShares");const r=_l.fromPrivateKey(this,e),l=[],c=new Set,u=new Te,h=kn(64);for(let p=0;p<i;p++){let y,b=0;do{const w=[p,b,...kn(32)],S=Ly(h,w);if(y=new _(S).umod(u.p),b++,b>5)throw new Error("Failed to generate unique x coordinate after 5 attempts")}while(y.isZero()||c.has(y.toString()));c.add(y.toString());const x=r.valueAt(y);l.push(new kr(y,x))}const m=this.toPublicKey().toHash("hex").slice(0,8);return new Nl(l,e,m)}toBackupShares(e,i){return this.toKeyShares(e,i).toBackupFormat()}static fromBackupShares(e){return Xe.fromKeyShares(Nl.fromBackupFormat(e))}static fromKeyShares(e){const{points:i,threshold:r,integrity:l}=e;if(r<2)throw new Error("threshold must be at least 2");if(i.length<r)throw new Error(`At least ${r} shares are required to reconstruct the private key`);for(let m=0;m<r;m++)for(let p=m+1;p<r;p++)if(i[m].x.eq(i[p].x))throw new Error("Duplicate share detected, each must be unique.");const c=new _l(i,r),u=new Xe(c.valueAt(new _(0)).toArray());if(u.toPublicKey().toHash("hex").slice(0,8)!==l)throw new Error("Integrity hash mismatch");return u}}const s1=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),E2=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]].map(o=>new Uint8Array(o)),Ms=new Uint8Array(256),Bs=new Uint8Array(256);for(let o=0;o<256;o++){const e=(o<<1^((o&128)!==0?27:0))&255;Ms[o]=e,Bs[o]=e^o}function np(o,e,i){for(let r=0;r<4;r++){const l=e[i+r];for(let c=0;c<4;c++)o[c][r]^=l[c]}}function A2(o){for(let e=0;e<4;e++)for(let i=0;i<4;i++)o[e][i]=s1[o[e][i]]}function ip(o){for(let e=0;e<4;e++)o[e]=s1[o[e]]}function O2(o){const e=o[0];o[0]=o[1],o[1]=o[2],o[2]=o[3],o[3]=e}function _2(o){let e=o[1][0];o[1][0]=o[1][1],o[1][1]=o[1][2],o[1][2]=o[1][3],o[1][3]=e,e=o[2][0];const i=o[2][1];o[2][0]=o[2][2],o[2][1]=o[2][3],o[2][2]=e,o[2][3]=i,e=o[3][3],o[3][3]=o[3][2],o[3][2]=o[3][1],o[3][1]=o[3][0],o[3][0]=e}function N2(o){for(let e=0;e<4;e++){const i=o[0][e],r=o[1][e],l=o[2][e],c=o[3][e];o[0][e]=Ms[i]^Bs[r]^l^c,o[1][e]=i^Ms[r]^Bs[l]^c,o[2][e]=i^r^Ms[l]^Bs[c],o[3][e]=Bs[i]^r^l^Ms[c]}}function T2(o,e){const i=e.length/4,r=[];for(let l=0;l<e.length;l++)l%4===0&&r.push([]),r[l>>2].push(e[l]);for(let l=i;l<4*o;l++){r[l]=[];const c=r[l-1].slice();if(l%i===0){O2(c),ip(c);const u=E2[l/i];for(let h=0;h<4;h++)c[h]^=u[h]}else i>6&&l%i===4&&ip(c);for(let u=0;u<4;u++)r[l][u]=r[l-i][u]^c[u]}return r}function Rf(o,e){let i,r,l,c;const u=[[],[],[],[]],h=[],m=Array.from(e);if(m.length===16)c=11;else if(m.length===24)c=13;else if(m.length===32)c=15;else throw new Error("Illegal key length: "+String(m.length));const p=T2(c,m);for(let y=0;y<4;y++)u[0][y]=o[y*4],u[1][y]=o[y*4+1],u[2][y]=o[y*4+2],u[3][y]=o[y*4+3];for(np(u,p,0),l=1;l<c;l++)A2(u),_2(u),l+1<c&&N2(u),np(u,p,l*4);for(i=0;i<4;i++)for(r=0;r<4;r++)h.push(u[r][i]);return h}const wr=function(o){return[(o&4278190080)>>>24,(o&16711680)>>16,(o&65280)>>8,o&255]},Qt=function(o){return new Array(o).fill(0)},k2=[225].concat(Qt(15)),ap=function(o,e){for(let i=0;i<o.length;i++)o[i]^=e[i]},rp=function(o){let e,i=0,r=0;for(e=0;e<o.length;e++)r=i,i=o[e]&1,o[e]=o[e]>>1,r!==0&&(o[e]=o[e]|128);return o},I2=function(o,e){const i=e.slice(),r=Qt(16);for(let l=0;l<16;l++)for(let c=7;c>=0;c--)(o[l]&1<<c)!==0&&ap(r,i),(i[15]&1)!==0?(rp(i),ap(i,k2)):rp(i);return r},Mf=function(o){let e;const i=o.slice();for(e=15;e!==11&&(i[e]=i[e]+1,i[e]===256);e--)i[e]=0;return i};function Tl(o,e){let i=Qt(16);for(let r=0;r<o.length;r+=16){const l=i.slice();for(let c=0;c<16;c++)l[c]^=o[r+c]??0;i=I2(l,e)}return i}function kl(o,e,i){if(o.length===0)return[];const r=new Array(o.length);let l=e,c=0;const u=Math.ceil(o.length/16);for(let h=0;h<u;h++){const m=Rf(l,i),p=Math.min(16,o.length-c);for(let y=0;y<p;y++)r[c]=o[c]^m[y],c++;h+1<u&&(l=Mf(l))}return r}function C2(o,e,i,r){if(i.length===0)throw new Error("Initialization vector must not be empty");if(r.length===0)throw new Error("Key must not be empty");let l,c;const u=Rf(Qt(16),r);l=[...i],i.length===12?l=l.concat(Qt(3)).concat([1]):(i.length%16!==0&&(l=l.concat(Qt(16-i.length%16))),l=l.concat(Qt(8)),l=Tl(l.concat(Qt(4)).concat(wr(i.length*8)),u));const h=kl(o,Mf(l),r);return c=e.slice(),e.length===0?c=c.concat(Qt(16)):e.length%16!==0&&(c=c.concat(Qt(16-e.length%16))),c=c.concat(h),h.length===0?c=c.concat(Qt(16)):h.length%16!==0&&(c=c.concat(Qt(16-h.length%16))),c=c.concat(Qt(4)).concat(wr(e.length*8)).concat(Qt(4)).concat(wr(h.length*8)),{result:h,authenticationTag:kl(Tl(c,u),l,r)}}function R2(o,e,i,r,l){if(o.length===0)throw new Error("Cipher text must not be empty");if(i.length===0)throw new Error("Initialization vector must not be empty");if(l.length===0)throw new Error("Key must not be empty");let c,u;const h=Rf(Qt(16),l);c=[...i],i.length===12?c=c.concat(Qt(3)).concat([1]):(i.length%16!==0&&(c=c.concat(Qt(16-i.length%16))),c=c.concat(Qt(8)),c=Tl(c.concat(Qt(4)).concat(wr(i.length*8)),h));const m=kl(o,Mf(c),l);return u=e.slice(),e.length===0?u=u.concat(Qt(16)):e.length%16!==0&&(u=u.concat(Qt(16-e.length%16))),u=u.concat(o),o.length===0?u=u.concat(Qt(16)):o.length%16!==0&&(u=u.concat(Qt(16-o.length%16))),u=u.concat(Qt(4)).concat(wr(e.length*8)).concat(Qt(4)).concat(wr(o.length*8)),kl(Tl(u,h),c,l).join()!==r.join()?null:m}class Bf extends _{static fromRandom(){return new Bf(kn(32))}encrypt(e,i){const r=kn(32);e=F(e,i);const l=this.toArray("be",32),{result:c,authenticationTag:u}=C2(e,[],r,l),h=r.length+c.length+u.length,m=new Array(h);let p=0;for(const y of[r,c,u])for(let b=0;b<y.length;b++)m[p++]=y[b];return wl(m,i)}decrypt(e,i){e=F(e,i);const r=32,l=16;if(e.length<r+l)throw new Error("Ciphertext too short");const c=e.slice(0,r),u=e.length-l,h=e.slice(r,u),m=e.slice(u),p=R2(h,[],c,m,this.toArray("be",32));if(p===null)throw new Error("Decryption failed!");return wl(p,i)}}const sp=new Uint8Array(0);class qt extends qn{static SIGHASH_ALL=1;static SIGHASH_NONE=2;static SIGHASH_SINGLE=3;static SIGHASH_FORKID=64;static SIGHASH_ANYONECANPAY=128;scope;static format(e){return Array.from(this.formatBytes(e))}static formatBytes(e){const i=e.cache,r={sourceTXID:e.sourceTXID,sourceOutputIndex:e.sourceOutputIndex,sequence:e.inputSequence},l=[...e.otherInputs];l.splice(e.inputIndex,0,r);const c=()=>{const S=new At;for(const k of l){if(typeof k.sourceTXID>"u"){if(k.sourceTransaction==null)throw new Error("Missing sourceTransaction for input");S.write(k.sourceTransaction.hash())}else S.writeReverse(F(k.sourceTXID,"hex"));S.writeUInt32LE(k.sourceOutputIndex)}return yn(S.toUint8Array())},u=()=>{const S=new At;for(const k of l){const C=k.sequence??4294967295;S.writeUInt32LE(C)}return yn(S.toUint8Array())};function h(S){const k=new At;if(typeof S>"u")for(const C of e.outputs){const D=C.satoshis??0;k.writeUInt64LE(D);const Y=C.lockingScript?.toUint8Array()??sp;k.writeVarIntNum(Y.length),k.write(Y)}else{const C=e.outputs[S];if(C===void 0)throw new Error(`Output at index ${S} does not exist`);const D=C.satoshis??0;k.writeUInt64LE(D);const Y=C.lockingScript?.toUint8Array()??sp;k.writeVarIntNum(Y.length),k.write(Y)}return yn(k.toUint8Array())}let m=new Array(32).fill(0),p=new Array(32).fill(0),y=new Array(32).fill(0);if((e.scope&qt.SIGHASH_ANYONECANPAY)===0&&(i?.hashPrevouts!=null?m=i.hashPrevouts:(m=c(),i!=null&&(i.hashPrevouts=m))),(e.scope&qt.SIGHASH_ANYONECANPAY)===0&&(e.scope&31)!==qt.SIGHASH_SINGLE&&(e.scope&31)!==qt.SIGHASH_NONE&&(i?.hashSequence!=null?p=i.hashSequence:(p=u(),i!=null&&(i.hashSequence=p))),(e.scope&31)!==qt.SIGHASH_SINGLE&&(e.scope&31)!==qt.SIGHASH_NONE)i?.hashOutputsAll!=null?y=i.hashOutputsAll:(y=h(),i!=null&&(i.hashOutputsAll=y));else if((e.scope&31)===qt.SIGHASH_SINGLE&&e.inputIndex<e.outputs.length){const S=e.inputIndex,k=i?.hashOutputsSingle?.get(S);k!=null?y=k:(y=h(S),i!=null&&(i.hashOutputsSingle==null&&(i.hashOutputsSingle=new Map),i.hashOutputsSingle.set(S,y)))}const b=new At;b.writeInt32LE(e.transactionVersion),b.write(m),b.write(p),b.writeReverse(F(e.sourceTXID,"hex")),b.writeUInt32LE(e.sourceOutputIndex);const x=e.subscript.toUint8Array();b.writeVarIntNum(x.length),b.write(x),b.writeUInt64LE(e.sourceSatoshis);const w=r.sequence;return b.writeUInt32LE(w),b.write(y),b.writeUInt32LE(e.lockTime),b.writeUInt32LE(e.scope>>>0),b.toUint8Array()}static fromChecksigFormat(e){if(e.length===0){const c=new _(1),u=new _(1),h=1;return new qt(c,u,h)}const i=e[e.length-1],r=e.slice(0,e.length-1),l=qn.fromDER(r);return new qt(l.r,l.s,i)}constructor(e,i,r){super(e,i),this.scope=r}hasLowS(){return!(this.s.ltn(1)||this.s.gt(new _("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))}toChecksigFormat(){return[...this.toDER(),this.scope]}}class M2{curve;constructor(){this.curve=new Te}generateProof(e,i,r,l){const c=Xe.fromRandom(),u=c.toPublicKey(),h=r.mul(c),m=this.computeChallenge(i,r,l,h,u),p=c.add(m.mul(e)).umod(this.curve.n);return{R:u,SPrime:h,z:p}}verifyProof(e,i,r,l){const{R:c,SPrime:u,z:h}=l,m=this.computeChallenge(e,i,r,u,c),p=this.curve.g.mul(h),y=c.add(e.mul(m));if(!p.eq(y))return!1;const b=i.mul(h),x=u.add(r.mul(m));return!!b.eq(x)}computeChallenge(e,i,r,l,c){const u=[...e.encode(!0),...i.encode(!0),...r.encode(!0),...l.encode(!0),...c.encode(!0)],h=jn(u);return new _(h).umod(this.curve.n)}}BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff");BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551");BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b");BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296");BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5");const E={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_SPLIT:127,OP_LEFT:128,OP_NUM2BIN:128,OP_RIGHT:129,OP_BIN2NUM:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_NOP11:186,OP_NOP12:187,OP_NOP13:188,OP_NOP14:189,OP_NOP15:190,OP_NOP16:191,OP_NOP17:192,OP_NOP18:193,OP_NOP19:194,OP_NOP20:195,OP_NOP21:196,OP_NOP22:197,OP_NOP23:198,OP_NOP24:199,OP_NOP25:200,OP_NOP26:201,OP_NOP27:202,OP_NOP28:203,OP_NOP29:204,OP_NOP30:205,OP_NOP31:206,OP_NOP32:207,OP_NOP33:208,OP_NOP34:209,OP_NOP35:210,OP_NOP36:211,OP_NOP37:212,OP_NOP38:213,OP_NOP39:214,OP_NOP40:215,OP_NOP41:216,OP_NOP42:217,OP_NOP43:218,OP_NOP44:219,OP_NOP45:220,OP_NOP46:221,OP_NOP47:222,OP_NOP48:223,OP_NOP49:224,OP_NOP50:225,OP_NOP51:226,OP_NOP52:227,OP_NOP53:228,OP_NOP54:229,OP_NOP55:230,OP_NOP56:231,OP_NOP57:232,OP_NOP58:233,OP_NOP59:234,OP_NOP60:235,OP_NOP61:236,OP_NOP62:237,OP_NOP63:238,OP_NOP64:239,OP_NOP65:240,OP_NOP66:241,OP_NOP67:242,OP_NOP68:243,OP_NOP69:244,OP_NOP70:245,OP_NOP71:246,OP_NOP72:247,OP_NOP73:248,OP_NOP77:252,OP_SMALLDATA:249,OP_SMALLINTEGER:250,OP_PUBKEYS:251,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};for(const o in E)E[E[o]]=o;const op=typeof globalThis<"u"?globalThis.Buffer:void 0;class ue{_chunks;parsed;rawBytesCache;hexCache;static fromASM(e){const i=[],r=e.split(" ");let l=0;for(;l<r.length;){const c=r[l];let u,h=0;if(c.startsWith("OP_")&&typeof E[c]<"u"&&(u=c,h=E[c]),c==="0")h=0,i.push({op:h}),l=l+1;else if(c==="-1")h=E.OP_1NEGATE,i.push({op:h}),l=l+1;else if(u===void 0){let m=r[l];m.length%2!==0&&(m="0"+m);const p=F(m,"hex");if(wl(p,"hex")!==m)throw new Error("invalid hex string in script");const y=p.length;y>=0&&y<E.OP_PUSHDATA1?h=y:y<Math.pow(2,8)?h=E.OP_PUSHDATA1:y<Math.pow(2,16)?h=E.OP_PUSHDATA2:y<Math.pow(2,32)&&(h=E.OP_PUSHDATA4),i.push({data:p,op:h}),l=l+1}else h===E.OP_PUSHDATA1||h===E.OP_PUSHDATA2||h===E.OP_PUSHDATA4?(i.push({data:F(r[l+2],"hex"),op:h}),l=l+3):(i.push({op:h}),l=l+1)}return new ue(i)}static fromHex(e){if(e.length===0)return ue.fromBinary([]);if(e.length%2!==0)throw new Error("There is an uneven number of characters in the string which suggests it is not hex encoded.");if(!/^[0-9a-fA-F]+$/.test(e))throw new Error("Some elements in this string are not hex encoded.");const i=F(e,"hex"),r=Uint8Array.from(i);return new ue([],r,e.toLowerCase(),!1)}static fromBinary(e){const i=Uint8Array.from(e);return new ue([],i,void 0,!1)}constructor(e=[],i,r,l=!0){this._chunks=e,this.parsed=l,this.rawBytesCache=i,this.hexCache=r}get chunks(){return this.ensureParsed(),this._chunks}set chunks(e){this._chunks=e,this.parsed=!0,this.invalidateSerializationCaches()}ensureParsed(){this.parsed||(this.rawBytesCache!=null?this._chunks=ue.parseChunks(this.rawBytesCache):this._chunks=[],this.parsed=!0)}toASM(){let e="";for(let i=0;i<this.chunks.length;i++){const r=this.chunks[i];e+=this._chunkToString(r)}return e.slice(1)}toHex(){if(this.hexCache!=null)return this.hexCache;this.rawBytesCache==null&&(this.rawBytesCache=this.serializeChunksToBytes());const e=op!=null?op.from(this.rawBytesCache).toString("hex"):wl(Array.from(this.rawBytesCache),"hex");return this.hexCache=e,e}toBinary(){return Array.from(this.toUint8Array())}toUint8Array(){return this.rawBytesCache==null&&(this.rawBytesCache=this.serializeChunksToBytes()),this.rawBytesCache}writeScript(e){return this.invalidateSerializationCaches(),this.chunks=this.chunks.concat(e.chunks),this}writeOpCode(e){return this.invalidateSerializationCaches(),this.chunks.push({op:e}),this}setChunkOpCode(e,i){return this.invalidateSerializationCaches(),this.chunks[e]={op:i},this}writeBn(e){if(this.invalidateSerializationCaches(),e.cmpn(0)===E.OP_0)this.chunks.push({op:E.OP_0});else if(e.cmpn(-1)===0)this.chunks.push({op:E.OP_1NEGATE});else if(e.cmpn(1)>=0&&e.cmpn(16)<=0)this.chunks.push({op:e.toNumber()+E.OP_1-1});else{const i=e.toSm("little");this.writeBin(i)}return this}writeBin(e){this.invalidateSerializationCaches();let i;const r=e.length>0?e:void 0;if(e.length>0&&e.length<E.OP_PUSHDATA1)i=e.length;else if(e.length===0)i=E.OP_0;else if(e.length<Math.pow(2,8))i=E.OP_PUSHDATA1;else if(e.length<Math.pow(2,16))i=E.OP_PUSHDATA2;else if(e.length<Math.pow(2,32))i=E.OP_PUSHDATA4;else throw new Error("You can't push that much data");return this.chunks.push({data:r,op:i}),this}writeNumber(e){return this.invalidateSerializationCaches(),this.writeBn(new _(e)),this}removeCodeseparators(){this.invalidateSerializationCaches();const e=[];for(let i=0;i<this.chunks.length;i++)this.chunks[i].op!==E.OP_CODESEPARATOR&&e.push(this.chunks[i]);return this.chunks=e,this}findAndDelete(e){this.invalidateSerializationCaches();const i=e.toHex();for(let r=0;r<this.chunks.length;r++){const c=new ue([this.chunks[r]]).toHex();i===c&&this.chunks.splice(r,1)}return this}isPushOnly(){for(let e=0;e<this.chunks.length;e++)if(this.chunks[e].op>E.OP_16)return!1;return!0}isLockingScript(){throw new Error("Not implemented")}isUnlockingScript(){throw new Error("Not implemented")}static computeSerializedLength(e){let i=0;for(const r of e){if(i+=1,r.data==null)continue;const l=r.data.length;if(r.op===E.OP_RETURN){i+=l;break}r.op<E.OP_PUSHDATA1?i+=l:r.op===E.OP_PUSHDATA1?i+=1+l:r.op===E.OP_PUSHDATA2?i+=2+l:r.op===E.OP_PUSHDATA4&&(i+=4+l)}return i}serializeChunksToBytes(){const e=this.chunks,i=ue.computeSerializedLength(e),r=new Uint8Array(i);let l=0;for(let c=0;c<e.length;c++){const u=e[c];if(r[l++]=u.op,u.data!=null){if(u.op===E.OP_RETURN){r.set(u.data,l),l+=u.data.length;break}l=ue.writeChunkData(r,l,u.op,u.data)}}return r}invalidateSerializationCaches(){this.rawBytesCache=void 0,this.hexCache=void 0}static writeChunkData(e,i,r,l){const c=l.length;if(r<E.OP_PUSHDATA1)return e.set(l,i),i+c;if(r===E.OP_PUSHDATA1)return e[i++]=c&255,e.set(l,i),i+c;if(r===E.OP_PUSHDATA2)return e[i++]=c&255,e[i++]=c>>8&255,e.set(l,i),i+c;if(r===E.OP_PUSHDATA4){const u=c>>>0;return e[i++]=u&255,e[i++]=u>>8&255,e[i++]=u>>16&255,e[i++]=u>>24&255,e.set(l,i),i+c}return i}static parseChunks(e){const i=[],r=e.length;let l=0,c=0;for(;l<r;){const u=e[l++]??0;if(u===E.OP_RETURN&&c===0){i.push({op:u,data:ue.copyRange(e,l,r)});break}if(u===E.OP_IF||u===E.OP_NOTIF||u===E.OP_VERIF||u===E.OP_VERNOTIF?c++:u===E.OP_ENDIF&&c--,u>0&&u<E.OP_PUSHDATA1){const m=Math.min(l+u,r);i.push({data:ue.copyRange(e,l,m),op:u}),l=m}else if(u===E.OP_PUSHDATA1){const h=l<r?e[l++]??0:0,m=Math.min(l+h,r);i.push({data:ue.copyRange(e,l,m),op:u}),l=m}else if(u===E.OP_PUSHDATA2){const h=e[l]??0,m=e[l+1]??0,p=h|m<<8;l=Math.min(l+2,r);const y=Math.min(l+p,r);i.push({data:ue.copyRange(e,l,y),op:u}),l=y}else if(u===E.OP_PUSHDATA4){const h=((e[l]??0)|(e[l+1]??0)<<8|(e[l+2]??0)<<16|(e[l+3]??0)<<24)>>>0;l=Math.min(l+4,r);const m=Math.min(l+h,r);i.push({data:ue.copyRange(e,l,m),op:u}),l=m}else i.push({op:u})}return i}static copyRange(e,i,r){const l=Math.max(r-i,0),c=new Array(l);for(let u=0;u<l;u++)c[u]=e[i+u]??0;return c}_chunkToString(e){const i=e.op;let r="";if(typeof e.data>"u"){const l=E[i];r=`${r} ${l}`}else r=`${r} ${ht(e.data)}`;return r}}class Sr extends ue{isLockingScript(){return!0}isUnlockingScript(){return!1}}class Il extends ue{isLockingScript(){return!1}isUnlockingScript(){return!0}}class B2 extends Error{txid;outputIndex;context;programCounter;stackState;altStackState;ifStackState;stackMem;altStackMem;constructor(e){const i=e.stackState.map(p=>p!=null&&typeof p.length<"u"?ht(p):p==null?"null/undef":"INVALID_STACK_ITEM").join(", "),r=e.altStackState.map(p=>p!=null&&typeof p.length<"u"?ht(p):p==null?"null/undef":"INVALID_STACK_ITEM").join(", "),l=`Context: ${e.context}, PC: ${e.programCounter}`,c=`Stack: [${i}] (len: ${e.stackState.length}, mem: ${e.stackMem})`,u=`AltStack: [${r}] (len: ${e.altStackState.length}, mem: ${e.altStackMem})`,h=`IfStack: [${e.ifStackState.join(", ")}]`,m=`Script evaluation error: ${e.message}
TXID: ${e.txid}, OutputIdx: ${e.outputIndex}
${l}
${c}
${u}
${h}`;super(m),this.name=this.constructor.name,this.txid=e.txid,this.outputIndex=e.outputIndex,this.context=e.context,this.programCounter=e.programCounter,this.stackState=e.stackState.map(p=>p.slice()),this.altStackState=e.altStackState.map(p=>p.slice()),this.ifStackState=e.ifStackState.slice(),this.stackMem=e.stackMem,this.altStackMem=e.altStackMem}}const gr=1024*1024*1024,o1=Math.pow(2,31)-1,D2=BigInt(o1),pn=!0,z2=!0,U2=Object.freeze(new _(-1).toScriptNum()),lp=Object.freeze(Array.from({length:17},(o,e)=>Object.freeze(new _(e).toScriptNum())));function H2(o,e){if(o.length!==e.length)return!1;for(let i=0;i<o.length;i++)if(o[i]!==e[i])return!1;return!0}function L2(o,e=Number.MAX_SAFE_INTEGER){return!(o.length>e||o.length>0&&(o[o.length-1]&127)===0&&(o.length<=1||(o[o.length-2]&128)===0))}function V2(o){if(o.length<9||o.length>73||o[0]!==48||o[1]!==o.length-3)return!1;const e=o[2],i=o[3];if(e!==2||i===0||5+i>=o.length)return!1;const r=4+i,l=o[r],c=o[r+1];if(l!==2||c===0||(o[4]&128)!==0||i>1&&o[4]===0&&(o[5]&128)===0)return!1;const u=r+2;return!((o[u]&128)!==0||c>1&&o[u]===0&&(o[u+1]&128)===0||i+c+7!==o.length)}function P2(o){return o===E.OP_2MUL||o===E.OP_2DIV||o===E.OP_VERIF||o===E.OP_VERNOTIF||o===E.OP_VER}function j2(o){const e=o.data,i=o.op;return Array.isArray(e)?e.length===0?i===E.OP_0:e.length===1&&e[0]>=1&&e[0]<=16?i===E.OP_1+(e[0]-1):e.length===1&&e[0]===129?i===E.OP_1NEGATE:e.length<=75?i===e.length:e.length<=255?i===E.OP_PUSHDATA1:e.length<=65535?i===E.OP_PUSHDATA2:!0:!0}class q2{sourceTXID;sourceOutputIndex;sourceSatoshis;lockingScript;transactionVersion;otherInputs;outputs;inputIndex;unlockingScript;inputSequence;lockTime;context;programCounter;lastCodeSeparator;stack;altStack;ifStack;memoryLimit;stackMem;altStackMem;sigHashCache;constructor(e){this.sourceTXID=e.sourceTXID,this.sourceOutputIndex=e.sourceOutputIndex,this.sourceSatoshis=e.sourceSatoshis,this.lockingScript=e.lockingScript,this.transactionVersion=e.transactionVersion,this.otherInputs=e.otherInputs,this.outputs=e.outputs,this.inputIndex=e.inputIndex,this.unlockingScript=e.unlockingScript,this.inputSequence=e.inputSequence,this.lockTime=e.lockTime,this.memoryLimit=e.memoryLimit??32e6,this.stack=[],this.altStack=[],this.ifStack=[],this.stackMem=0,this.altStackMem=0,this.sigHashCache={hashOutputsSingle:new Map},this.reset()}reset(){this.context="UnlockingScript",this.programCounter=0,this.lastCodeSeparator=null,this.stack=[],this.altStack=[],this.ifStack=[],this.stackMem=0,this.altStackMem=0,this.sigHashCache={hashOutputsSingle:new Map}}ensureStackMem(e){this.stackMem+e>this.memoryLimit&&this.scriptEvaluationError("Stack memory usage has exceeded "+String(this.memoryLimit)+" bytes")}ensureAltStackMem(e){this.altStackMem+e>this.memoryLimit&&this.scriptEvaluationError("Alt stack memory usage has exceeded "+String(this.memoryLimit)+" bytes")}pushStack(e){this.ensureStackMem(e.length),this.stack.push(e),this.stackMem+=e.length}pushStackCopy(e){this.ensureStackMem(e.length);const i=e.slice();this.stack.push(i),this.stackMem+=i.length}popStack(){this.stack.length===0&&this.scriptEvaluationError("Attempted to pop from an empty stack.");const e=this.stack.pop();return this.stackMem-=e.length,e}stackTop(e=-1){return(this.stack.length===0||this.stack.length<Math.abs(e)||e>=0&&e>=this.stack.length)&&this.scriptEvaluationError(`Stack underflow accessing element at index ${e}. Stack length is ${this.stack.length}.`),this.stack[this.stack.length+e]}pushAltStack(e){this.ensureAltStackMem(e.length),this.altStack.push(e),this.altStackMem+=e.length}popAltStack(){this.altStack.length===0&&this.scriptEvaluationError("Attempted to pop from an empty alt stack.");const e=this.altStack.pop();return this.altStackMem-=e.length,e}checkSignatureEncoding(e){if(e.length===0)return!0;if(!V2(e))return this.scriptEvaluationError("The signature format is invalid."),!1;try{const i=qt.fromChecksigFormat(e);if(z2&&!i.hasLowS())return this.scriptEvaluationError("The signature must have a low S value."),!1;if((i.scope&qt.SIGHASH_FORKID)===0)return this.scriptEvaluationError("The signature must use SIGHASH_FORKID."),!1}catch{return this.scriptEvaluationError("The signature format is invalid."),!1}return!0}checkPublicKeyEncoding(e){if(e.length===0)return this.scriptEvaluationError("Public key is empty."),!1;if(e.length<33)return this.scriptEvaluationError("The public key is too short, it must be at least 33 bytes."),!1;if(e[0]===4){if(e.length!==65)return this.scriptEvaluationError("The non-compressed public key must be 65 bytes."),!1}else if(e[0]===2||e[0]===3){if(e.length!==33)return this.scriptEvaluationError("The compressed public key must be 33 bytes."),!1}else return this.scriptEvaluationError("The public key is in an unknown format."),!1;try{Fe.fromDER(e)}catch{return this.scriptEvaluationError("The public key is in an unknown format."),!1}return!0}verifySignature(e,i,r){const l=qt.formatBytes({sourceTXID:this.sourceTXID,sourceOutputIndex:this.sourceOutputIndex,sourceSatoshis:this.sourceSatoshis,transactionVersion:this.transactionVersion,otherInputs:this.otherInputs,outputs:this.outputs,inputIndex:this.inputIndex,subscript:r,inputSequence:this.inputSequence,lockTime:this.lockTime,scope:e.scope,cache:this.sigHashCache}),c=new _(yn(l));return Ps(c,e,i)}step(){if(this.stackMem>this.memoryLimit)return this.scriptEvaluationError("Stack memory usage has exceeded "+String(this.memoryLimit)+" bytes"),!1;if(this.altStackMem>this.memoryLimit)return this.scriptEvaluationError("Alt stack memory usage has exceeded "+String(this.memoryLimit)+" bytes"),!1;this.context==="UnlockingScript"&&this.programCounter>=this.unlockingScript.chunks.length&&(this.context="LockingScript",this.programCounter=0);const e=this.context==="UnlockingScript"?this.unlockingScript:this.lockingScript;if(this.programCounter>=e.chunks.length)return!1;const i=e.chunks[this.programCounter],r=i.op;typeof r>"u"&&this.scriptEvaluationError(`Missing opcode in ${this.context} at pc=${this.programCounter}.`),Array.isArray(i.data)&&i.data.length>gr&&this.scriptEvaluationError(`Data push > ${gr} bytes (pc=${this.programCounter}).`);const l=!this.ifStack.includes(!1);if(l&&P2(r)&&this.scriptEvaluationError(`This opcode is currently disabled. (Opcode: ${E[r]}, PC: ${this.programCounter})`),l&&r>=0&&r<=E.OP_PUSHDATA4)j2(i)||this.scriptEvaluationError(`This data is not minimally-encoded. (PC: ${this.programCounter})`),this.pushStack(Array.isArray(i.data)?i.data:[]);else if(l||r>=E.OP_IF&&r<=E.OP_ENDIF){let c,u,h,m,p,y,b,x,w,S,k,C,D,Y,q,W,$,st,et,Q,ut,Bt,kt,yt,Ot,Ht;switch(r){case E.OP_1NEGATE:this.pushStackCopy(U2);break;case E.OP_0:this.pushStackCopy(lp[0]);break;case E.OP_1:case E.OP_2:case E.OP_3:case E.OP_4:case E.OP_5:case E.OP_6:case E.OP_7:case E.OP_8:case E.OP_9:case E.OP_10:case E.OP_11:case E.OP_12:case E.OP_13:case E.OP_14:case E.OP_15:case E.OP_16:C=r-(E.OP_1-1),this.pushStackCopy(lp[C]);break;case E.OP_NOP:case E.OP_NOP2:case E.OP_NOP3:case E.OP_NOP1:case E.OP_NOP4:case E.OP_NOP5:case E.OP_NOP6:case E.OP_NOP7:case E.OP_NOP8:case E.OP_NOP9:case E.OP_NOP10:case E.OP_NOP11:case E.OP_NOP12:case E.OP_NOP13:case E.OP_NOP14:case E.OP_NOP15:case E.OP_NOP16:case E.OP_NOP17:case E.OP_NOP18:case E.OP_NOP19:case E.OP_NOP20:case E.OP_NOP21:case E.OP_NOP22:case E.OP_NOP23:case E.OP_NOP24:case E.OP_NOP25:case E.OP_NOP26:case E.OP_NOP27:case E.OP_NOP28:case E.OP_NOP29:case E.OP_NOP30:case E.OP_NOP31:case E.OP_NOP32:case E.OP_NOP33:case E.OP_NOP34:case E.OP_NOP35:case E.OP_NOP36:case E.OP_NOP37:case E.OP_NOP38:case E.OP_NOP39:case E.OP_NOP40:case E.OP_NOP41:case E.OP_NOP42:case E.OP_NOP43:case E.OP_NOP44:case E.OP_NOP45:case E.OP_NOP46:case E.OP_NOP47:case E.OP_NOP48:case E.OP_NOP49:case E.OP_NOP50:case E.OP_NOP51:case E.OP_NOP52:case E.OP_NOP53:case E.OP_NOP54:case E.OP_NOP55:case E.OP_NOP56:case E.OP_NOP57:case E.OP_NOP58:case E.OP_NOP59:case E.OP_NOP60:case E.OP_NOP61:case E.OP_NOP62:case E.OP_NOP63:case E.OP_NOP64:case E.OP_NOP65:case E.OP_NOP66:case E.OP_NOP67:case E.OP_NOP68:case E.OP_NOP69:case E.OP_NOP70:case E.OP_NOP71:case E.OP_NOP72:case E.OP_NOP73:case E.OP_NOP77:break;case E.OP_IF:case E.OP_NOTIF:Y=!1,l&&(this.stack.length<1&&this.scriptEvaluationError("OP_IF and OP_NOTIF require at least one item on the stack when they are used!"),c=this.popStack(),Y=this.castToBool(c),r===E.OP_NOTIF&&(Y=!Y)),this.ifStack.push(Y);break;case E.OP_ELSE:this.ifStack.length===0&&this.scriptEvaluationError("OP_ELSE requires a preceeding OP_IF."),this.ifStack[this.ifStack.length-1]=!this.ifStack[this.ifStack.length-1];break;case E.OP_ENDIF:this.ifStack.length===0&&this.scriptEvaluationError("OP_ENDIF requires a preceeding OP_IF."),this.ifStack.pop();break;case E.OP_VERIFY:this.stack.length<1&&this.scriptEvaluationError("OP_VERIFY requires at least one item to be on the stack."),u=this.stackTop(),Y=this.castToBool(u),Y||this.scriptEvaluationError("OP_VERIFY requires the top stack value to be truthy."),this.popStack();break;case E.OP_RETURN:this.context==="UnlockingScript"?this.programCounter=this.unlockingScript.chunks.length:this.programCounter=this.lockingScript.chunks.length,this.ifStack=[],this.programCounter--;break;case E.OP_TOALTSTACK:this.stack.length<1&&this.scriptEvaluationError("OP_TOALTSTACK requires at oeast one item to be on the stack."),this.pushAltStack(this.popStack());break;case E.OP_FROMALTSTACK:this.altStack.length<1&&this.scriptEvaluationError("OP_FROMALTSTACK requires at least one item to be on the stack."),this.pushStack(this.popAltStack());break;case E.OP_2DROP:this.stack.length<2&&this.scriptEvaluationError("OP_2DROP requires at least two items to be on the stack."),this.popStack(),this.popStack();break;case E.OP_2DUP:this.stack.length<2&&this.scriptEvaluationError("OP_2DUP requires at least two items to be on the stack."),u=this.stackTop(-2),h=this.stackTop(-1),this.pushStackCopy(u),this.pushStackCopy(h);break;case E.OP_3DUP:this.stack.length<3&&this.scriptEvaluationError("OP_3DUP requires at least three items to be on the stack."),u=this.stackTop(-3),h=this.stackTop(-2),m=this.stackTop(-1),this.pushStackCopy(u),this.pushStackCopy(h),this.pushStackCopy(m);break;case E.OP_2OVER:this.stack.length<4&&this.scriptEvaluationError("OP_2OVER requires at least four items to be on the stack."),u=this.stackTop(-4),h=this.stackTop(-3),this.pushStackCopy(u),this.pushStackCopy(h);break;case E.OP_2ROT:{this.stack.length<6&&this.scriptEvaluationError("OP_2ROT requires at least six items to be on the stack.");const tt=this.popStack(),A=this.popStack(),L=this.popStack(),K=this.popStack(),dt=this.popStack(),bt=this.popStack();this.pushStack(K),this.pushStack(L),this.pushStack(A),this.pushStack(tt),this.pushStack(bt),this.pushStack(dt);break}case E.OP_2SWAP:{this.stack.length<4&&this.scriptEvaluationError("OP_2SWAP requires at least four items to be on the stack.");const tt=this.popStack(),A=this.popStack(),L=this.popStack(),K=this.popStack();this.pushStack(A),this.pushStack(tt),this.pushStack(K),this.pushStack(L);break}case E.OP_IFDUP:this.stack.length<1&&this.scriptEvaluationError("OP_IFDUP requires at least one item to be on the stack."),u=this.stackTop(),this.castToBool(u)&&this.pushStackCopy(u);break;case E.OP_DEPTH:this.pushStack(new _(this.stack.length).toScriptNum());break;case E.OP_DROP:this.stack.length<1&&this.scriptEvaluationError("OP_DROP requires at least one item to be on the stack."),this.popStack();break;case E.OP_DUP:this.stack.length<1&&this.scriptEvaluationError("OP_DUP requires at least one item to be on the stack."),this.pushStackCopy(this.stackTop());break;case E.OP_NIP:this.stack.length<2&&this.scriptEvaluationError("OP_NIP requires at least two items to be on the stack."),h=this.popStack(),this.popStack(),this.pushStack(h);break;case E.OP_OVER:this.stack.length<2&&this.scriptEvaluationError("OP_OVER requires at least two items to be on the stack."),this.pushStackCopy(this.stackTop(-2));break;case E.OP_PICK:case E.OP_ROLL:{this.stack.length<2&&this.scriptEvaluationError(`${E[r]} requires at least two items to be on the stack.`),x=_.fromScriptNum(this.popStack(),pn);const tt=x.toBigInt();(tt<0n||tt>=BigInt(this.stack.length))&&this.scriptEvaluationError(`${E[r]} requires the top stack element to be 0 or a positive number less than the current size of the stack.`);const A=Number(tt),L=this.stack[this.stack.length-1-A];r===E.OP_ROLL?(this.stack.splice(this.stack.length-1-A,1),this.stackMem-=L.length,this.pushStack(L)):this.pushStackCopy(L);break}case E.OP_ROT:this.stack.length<3&&this.scriptEvaluationError("OP_ROT requires at least three items to be on the stack."),b=this.popStack(),y=this.popStack(),p=this.popStack(),this.pushStack(y),this.pushStack(b),this.pushStack(p);break;case E.OP_SWAP:this.stack.length<2&&this.scriptEvaluationError("OP_SWAP requires at least two items to be on the stack."),y=this.popStack(),p=this.popStack(),this.pushStack(y),this.pushStack(p);break;case E.OP_TUCK:this.stack.length<2&&this.scriptEvaluationError("OP_TUCK requires at least two items to be on the stack."),u=this.stackTop(-1),this.ensureStackMem(u.length),this.stack.splice(this.stack.length-2,0,u.slice()),this.stackMem+=u.length;break;case E.OP_SIZE:this.stack.length<1&&this.scriptEvaluationError("OP_SIZE requires at least one item to be on the stack."),this.pushStack(new _(this.stackTop().length).toScriptNum());break;case E.OP_AND:case E.OP_OR:case E.OP_XOR:{this.stack.length<2&&this.scriptEvaluationError(`${E[r]} requires at least two items on the stack.`),h=this.popStack(),u=this.popStack(),u.length!==h.length&&this.scriptEvaluationError(`${E[r]} requires the top two stack items to be the same size.`);const tt=new Array(u.length);for(let A=0;A<u.length;A++)r===E.OP_AND?tt[A]=u[A]&h[A]:r===E.OP_OR?tt[A]=u[A]|h[A]:tt[A]=u[A]^h[A];this.pushStack(tt);break}case E.OP_INVERT:{this.stack.length<1&&this.scriptEvaluationError("OP_INVERT requires at least one item to be on the stack."),c=this.popStack();const tt=new Array(c.length);for(let A=0;A<c.length;A++)tt[A]=~c[A]&255;this.pushStack(tt);break}case E.OP_LSHIFT:case E.OP_RSHIFT:{this.stack.length<2&&this.scriptEvaluationError(`${E[r]} requires at least two items to be on the stack.`),S=_.fromScriptNum(this.popStack(),pn),u=this.popStack();const tt=S.toBigInt();if(tt<0n&&this.scriptEvaluationError(`${E[r]} requires the top item on the stack not to be negative.`),u.length===0){this.pushStack([]);break}w=new _(u);let A;r===E.OP_LSHIFT?A=w.ushln(tt):A=w.ushrn(tt);const L=A.toArray("be",u.length);this.pushStack(L);break}case E.OP_EQUAL:case E.OP_EQUALVERIFY:this.stack.length<2&&this.scriptEvaluationError(`${E[r]} requires at least two items to be on the stack.`),h=this.popStack(),u=this.popStack(),Y=H2(u,h),this.pushStack(Y?[1]:[]),r===E.OP_EQUALVERIFY&&(Y||this.scriptEvaluationError("OP_EQUALVERIFY requires the top two stack items to be equal."),this.popStack());break;case E.OP_1ADD:case E.OP_1SUB:case E.OP_NEGATE:case E.OP_ABS:case E.OP_NOT:case E.OP_0NOTEQUAL:switch(this.stack.length<1&&this.scriptEvaluationError(`${E[r]} requires at least one item to be on the stack.`),x=_.fromScriptNum(this.popStack(),pn),r){case E.OP_1ADD:x=x.add(new _(1));break;case E.OP_1SUB:x=x.sub(new _(1));break;case E.OP_NEGATE:x=x.neg();break;case E.OP_ABS:x.isNeg()&&(x=x.neg());break;case E.OP_NOT:x=new _(x.cmpn(0)===0?1:0);break;case E.OP_0NOTEQUAL:x=new _(x.cmpn(0)!==0?1:0);break}this.pushStack(x.toScriptNum());break;case E.OP_ADD:case E.OP_SUB:case E.OP_MUL:case E.OP_DIV:case E.OP_MOD:case E.OP_BOOLAND:case E.OP_BOOLOR:case E.OP_NUMEQUAL:case E.OP_NUMEQUALVERIFY:case E.OP_NUMNOTEQUAL:case E.OP_LESSTHAN:case E.OP_GREATERTHAN:case E.OP_LESSTHANOREQUAL:case E.OP_GREATERTHANOREQUAL:case E.OP_MIN:case E.OP_MAX:{this.stack.length<2&&this.scriptEvaluationError(`${E[r]} requires at least two items to be on the stack.`),h=this.popStack(),u=this.popStack(),S=_.fromScriptNum(h,pn),w=_.fromScriptNum(u,pn);let tt=0;switch(r){case E.OP_MUL:tt=w.byteLength()+S.byteLength();break;case E.OP_ADD:case E.OP_SUB:tt=Math.max(w.byteLength(),S.byteLength())+1;break;default:tt=Math.max(w.byteLength(),S.byteLength())}this.ensureStackMem(tt);let A=new _(0);switch(r){case E.OP_ADD:A=w.add(S);break;case E.OP_SUB:A=w.sub(S);break;case E.OP_MUL:A=w.mul(S);break;case E.OP_DIV:S.cmpn(0)===0&&this.scriptEvaluationError("OP_DIV cannot divide by zero!"),A=w.div(S);break;case E.OP_MOD:S.cmpn(0)===0&&this.scriptEvaluationError("OP_MOD cannot divide by zero!"),A=w.mod(S);break;case E.OP_BOOLAND:A=new _(w.cmpn(0)!==0&&S.cmpn(0)!==0?1:0);break;case E.OP_BOOLOR:A=new _(w.cmpn(0)!==0||S.cmpn(0)!==0?1:0);break;case E.OP_NUMEQUAL:A=new _(w.cmp(S)===0?1:0);break;case E.OP_NUMEQUALVERIFY:A=new _(w.cmp(S)===0?1:0);break;case E.OP_NUMNOTEQUAL:A=new _(w.cmp(S)!==0?1:0);break;case E.OP_LESSTHAN:A=new _(w.cmp(S)<0?1:0);break;case E.OP_GREATERTHAN:A=new _(w.cmp(S)>0?1:0);break;case E.OP_LESSTHANOREQUAL:A=new _(w.cmp(S)<=0?1:0);break;case E.OP_GREATERTHANOREQUAL:A=new _(w.cmp(S)>=0?1:0);break;case E.OP_MIN:A=w.cmp(S)<0?w:S;break;case E.OP_MAX:A=w.cmp(S)>0?w:S;break}this.pushStack(A.toScriptNum()),r===E.OP_NUMEQUALVERIFY&&(this.castToBool(this.stackTop())||this.scriptEvaluationError("OP_NUMEQUALVERIFY requires the top stack item to be truthy."),this.popStack());break}case E.OP_WITHIN:this.stack.length<3&&this.scriptEvaluationError("OP_WITHIN requires at least three items to be on the stack."),k=_.fromScriptNum(this.popStack(),pn),S=_.fromScriptNum(this.popStack(),pn),w=_.fromScriptNum(this.popStack(),pn),Y=w.cmp(S)>=0&&w.cmp(k)<0,this.pushStack(Y?[1]:[]);break;case E.OP_RIPEMD160:case E.OP_SHA1:case E.OP_SHA256:case E.OP_HASH160:case E.OP_HASH256:{this.stack.length<1&&this.scriptEvaluationError(`${E[r]} requires at least one item to be on the stack.`),c=this.popStack();let tt=[];r===E.OP_RIPEMD160?tt=Uy(c):r===E.OP_SHA1?tt=Hy(c):r===E.OP_SHA256?tt=jn(c):r===E.OP_HASH160?tt=Gp(c):r===E.OP_HASH256&&(tt=yn(c)),this.pushStack(tt);break}case E.OP_CODESEPARATOR:this.lastCodeSeparator=this.programCounter;break;case E.OP_CHECKSIG:case E.OP_CHECKSIGVERIFY:{this.stack.length<2&&this.scriptEvaluationError(`${E[r]} requires at least two items to be on the stack.`),st=this.popStack(),$=this.popStack(),(!this.checkSignatureEncoding($)||!this.checkPublicKeyEncoding(st))&&this.scriptEvaluationError(`${E[r]} requires correct encoding for the public key and signature.`);const A=(this.context==="UnlockingScript"?this.unlockingScript:this.lockingScript).chunks.slice(this.lastCodeSeparator===null?0:this.lastCodeSeparator+1);if(W=new ue(A),W.findAndDelete(new ue().writeBin($)),q=!1,$.length>0)try{et=qt.fromChecksigFormat($),Q=Fe.fromDER(st),q=this.verifySignature(et,Q,W)}catch{q=!1}this.pushStack(q?[1]:[]),r===E.OP_CHECKSIGVERIFY&&(q||this.scriptEvaluationError("OP_CHECKSIGVERIFY requires that a valid signature is provided."),this.popStack());break}case E.OP_CHECKMULTISIG:case E.OP_CHECKMULTISIGVERIFY:{ut=1,this.stack.length<ut&&this.scriptEvaluationError(`${E[r]} requires at least 1 item for nKeys.`);const A=_.fromScriptNum(this.stackTop(-ut),pn).toBigInt();(A<0n||A>D2)&&this.scriptEvaluationError(`${E[r]} requires a key count between 0 and ${o1}.`),yt=Number(A);const L=yt;Bt=++ut,ut+=yt,this.stack.length<ut&&this.scriptEvaluationError(`${E[r]} stack too small for nKeys and keys. Need ${ut}, have ${this.stack.length}.`);const dt=_.fromScriptNum(this.stackTop(-ut),pn).toBigInt();(dt<0n||dt>BigInt(yt))&&this.scriptEvaluationError(`${E[r]} requires the number of signatures to be no greater than the number of keys.`),Ot=Number(dt);const bt=Ot;kt=++ut,ut+=Ot,this.stack.length<ut&&this.scriptEvaluationError(`${E[r]} stack too small for N, keys, M, sigs, and dummy. Need ${ut}, have ${this.stack.length}.`);const H=(this.context==="UnlockingScript"?this.unlockingScript:this.lockingScript).chunks.slice(this.lastCodeSeparator===null?0:this.lastCodeSeparator+1);W=new ue(H);for(let lt=0;lt<Ot;lt++)$=this.stackTop(-kt-lt),W.findAndDelete(new ue().writeBin($));for(q=!0;q&&Ot>0;){if(yt===0){q=!1;break}if($=this.stackTop(-kt),st=this.stackTop(-Bt),(!this.checkSignatureEncoding($)||!this.checkPublicKeyEncoding(st))&&this.scriptEvaluationError(`${E[r]} requires correct encoding for the public key and signature.`),Ht=!1,$.length>0)try{et=qt.fromChecksigFormat($),Q=Fe.fromDER(st),Ht=this.verifySignature(et,Q,W)}catch{Ht=!1}Ht&&(kt++,Ot--),Bt++,yt--,Ot>yt&&(q=!1)}let Z=1+L+1+bt+1-1;for(;Z>0;)this.popStack(),Z--;this.stack.length<1&&this.scriptEvaluationError(`${E[r]} requires an extra item (dummy) to be on the stack.`),this.popStack().length>0&&this.scriptEvaluationError(`${E[r]} requires the extra stack item (dummy) to be empty.`),this.pushStack(q?[1]:[]),r===E.OP_CHECKMULTISIGVERIFY&&(q||this.scriptEvaluationError("OP_CHECKMULTISIGVERIFY requires that a sufficient number of valid signatures are provided."),this.popStack());break}case E.OP_CAT:{this.stack.length<2&&this.scriptEvaluationError("OP_CAT requires at least two items to be on the stack."),h=this.popStack(),u=this.popStack();const tt=u.concat(h);tt.length>gr&&this.scriptEvaluationError(`It's not currently possible to push data larger than ${gr} bytes.`),this.pushStack(tt);break}case E.OP_SPLIT:{this.stack.length<2&&this.scriptEvaluationError("OP_SPLIT requires at least two items to be on the stack.");const tt=this.popStack(),A=this.popStack(),L=_.fromScriptNum(tt,pn).toBigInt();(L<0n||L>BigInt(A.length))&&this.scriptEvaluationError("OP_SPLIT requires the first stack item to be a non-negative number less than or equal to the size of the second-from-top stack item.");const K=Number(L);this.pushStack(A.slice(0,K)),this.pushStack(A.slice(K));break}case E.OP_NUM2BIN:{this.stack.length<2&&this.scriptEvaluationError("OP_NUM2BIN requires at least two items to be on the stack.");const tt=_.fromScriptNum(this.popStack(),pn).toBigInt();(tt>BigInt(gr)||tt<0n)&&this.scriptEvaluationError(`It's not currently possible to push data larger than ${gr} bytes or negative size.`),D=Number(tt);let A=this.popStack();if(A=Jm(A),A.length>D&&this.scriptEvaluationError("OP_NUM2BIN requires that the size expressed in the top stack item is large enough to hold the value expressed in the second-from-top stack item."),A.length===D){this.pushStack(A);break}const L=new Array(D).fill(0);let K=0;A.length>0&&(K=A[A.length-1]&128,A[A.length-1]&=127);for(let dt=0;dt<A.length;dt++)L[dt]=A[dt];K!==0&&(L[D-1]|=128),this.pushStack(L);break}case E.OP_BIN2NUM:{this.stack.length<1&&this.scriptEvaluationError("OP_BIN2NUM requires at least one item to be on the stack."),u=this.popStack();const tt=Jm(u);L2(tt)||this.scriptEvaluationError("OP_BIN2NUM requires that the resulting number is valid."),this.pushStack(tt);break}default:this.scriptEvaluationError(`Invalid opcode ${r} (pc=${this.programCounter}).`)}}return this.programCounter++,!0}validate(){for(this.unlockingScript.isPushOnly()||this.scriptEvaluationError("Unlocking scripts can only contain push operations, and no other opcodes.");this.step()&&!(this.context==="LockingScript"&&this.programCounter>=this.lockingScript.chunks.length););return this.ifStack.length>0&&this.scriptEvaluationError("Every OP_IF, OP_NOTIF, or OP_ELSE must be terminated with OP_ENDIF prior to the end of the script."),this.stack.length!==1&&this.scriptEvaluationError(`The clean stack rule requires exactly one item to be on the stack after script execution, found ${this.stack.length}.`),this.stack.length===0?this.scriptEvaluationError("The top stack element must be truthy after script evaluation (stack is empty)."):this.castToBool(this.stackTop())||this.scriptEvaluationError("The top stack element must be truthy after script evaluation."),!0}castToBool(e){if(e.length===0)return!1;for(let i=0;i<e.length;i++)if(e[i]!==0)return!(i===e.length-1&&e[i]===128);return!1}scriptEvaluationError(e){throw new B2({message:e,txid:this.sourceTXID,outputIndex:this.sourceOutputIndex,context:this.context,programCounter:this.programCounter,stackState:this.stack,altStackState:this.altStack,ifStackState:this.ifStack,stackMem:this.stackMem,altStackMem:this.altStackMem})}}class K2{lock(e){let i;if(typeof e=="string"){const r=e1(e);if(r.prefix[0]!==0&&r.prefix[0]!==111)throw new Error("only P2PKH is supported");i=r.data}else i=e;if(i.length!==20)throw new Error("P2PKH hash length must be 20 bytes");return new Sr([{op:E.OP_DUP},{op:E.OP_HASH160},{op:i.length,data:i},{op:E.OP_EQUALVERIFY},{op:E.OP_CHECKSIG}])}unlock(e,i="all",r=!1,l,c){return{sign:async(u,h)=>{let m=qt.SIGHASH_FORKID;i==="all"&&(m|=qt.SIGHASH_ALL),i==="none"&&(m|=qt.SIGHASH_NONE),i==="single"&&(m|=qt.SIGHASH_SINGLE),r&&(m|=qt.SIGHASH_ANYONECANPAY);const p=u.inputs[h],y=u.inputs.filter((D,Y)=>Y!==h),b=p.sourceTXID??p.sourceTransaction?.id("hex");if(b==null||b===void 0)throw new Error("The input sourceTXID or sourceTransaction is required for transaction signing.");if(b==="")throw new Error("The input sourceTXID or sourceTransaction is required for transaction signing.");if(l||=p.sourceTransaction?.outputs[p.sourceOutputIndex].satoshis,l==null||l===void 0)throw new Error("The sourceSatoshis or input sourceTransaction is required for transaction signing.");if(c||=p.sourceTransaction?.outputs[p.sourceOutputIndex].lockingScript,c==null)throw new Error("The lockingScript or input sourceTransaction is required for transaction signing.");const x=qt.format({sourceTXID:b,sourceOutputIndex:_r(p.sourceOutputIndex,"input.sourceOutputIndex must have value"),sourceSatoshis:l,transactionVersion:u.version,otherInputs:y,inputIndex:h,outputs:u.outputs,inputSequence:_r(p.sequence,"input.sequence must have value"),subscript:c,lockTime:u.lockTime,scope:m}),w=e.sign(jn(x)),k=new qt(w.r,w.s,m).toChecksigFormat(),C=e.toPublicKey().encode(!0);return new Il([{op:k.length,data:k},{op:C.length,data:C}])},estimateLength:async()=>108}}}const G2=o=>o.length===0?{op:0}:o.length===1&&o[0]===0?{op:0}:o.length===1&&o[0]>0&&o[0]<=16?{op:80+o[0]}:o.length===1&&o[0]===129?{op:79}:o.length<=75?{op:o.length,data:o}:o.length<=255?{op:76,data:o}:o.length<=65535?{op:77,data:o}:{op:78,data:o};class Df{wallet;originator;static decode(e){const i=Fe.fromString(ht(_r(e.chunks[0].data,"script.chunks[0].data must have value"))),r=[];for(let l=2;l<e.chunks.length;l++){const c=e.chunks[l+1]?.op;let u=e.chunks[l].data??[];if(u.length===0&&(e.chunks[l].op>=80&&e.chunks[l].op<=95?u=[e.chunks[l].op-80]:e.chunks[l].op===0?u=[0]:e.chunks[l].op===79&&(u=[129])),r.push(u),c===E.OP_DROP||c===E.OP_2DROP)break}return{fields:r,lockingPublicKey:i}}constructor(e,i){this.wallet=e,this.originator=i}async lock(e,i,r,l,c=!1,u=!0,h="before"){const{publicKey:m}=await this.wallet.getPublicKey({protocolID:i,keyID:r,counterparty:l,forSelf:c},this.originator),p=[],y=[];if(p.push({op:m.length/2,data:F(m,"hex")}),p.push({op:E.OP_CHECKSIG}),u){const x=e.reduce((S,k)=>[...S,...k],[]),{signature:w}=await this.wallet.createSignature({data:x,protocolID:i,keyID:r,counterparty:l},this.originator);e.push(w)}for(const x of e)y.push(G2(x));let b=e.length;for(;b>1;)y.push({op:E.OP_2DROP}),b-=2;return b!==0&&y.push({op:E.OP_DROP}),h==="before"?new Sr([...p,...y]):new Sr([...y,...p])}unlock(e,i,r,l="all",c=!1,u,h){return{sign:async(m,p)=>{let y=qt.SIGHASH_FORKID;l==="all"&&(y|=qt.SIGHASH_ALL),l==="none"&&(y|=qt.SIGHASH_NONE),l==="single"&&(y|=qt.SIGHASH_SINGLE),c&&(y|=qt.SIGHASH_ANYONECANPAY);const b=m.inputs[p],x=m.inputs.filter((W,$)=>$!==p),w=b.sourceTXID??b.sourceTransaction?.id("hex");if(w==null||w===void 0)throw new Error("The input sourceTXID or sourceTransaction is required for transaction signing.");if(u||=b.sourceTransaction?.outputs[b.sourceOutputIndex].satoshis,u==null||u===void 0)throw new Error("The sourceSatoshis or input sourceTransaction is required for transaction signing.");if(h||=b.sourceTransaction?.outputs[b.sourceOutputIndex].lockingScript,h==null)throw new Error("The lockingScript or input sourceTransaction is required for transaction signing.");const S=qt.format({sourceTXID:w,sourceOutputIndex:_r(b.sourceOutputIndex,"input.sourceOutputIndex must have value"),sourceSatoshis:u,transactionVersion:m.version,otherInputs:x,inputIndex:p,outputs:m.outputs,inputSequence:b.sequence??4294967295,subscript:h,lockTime:m.lockTime,scope:y}),k=jn(S),{signature:C}=await this.wallet.createSignature({data:k,protocolID:e,keyID:i,counterparty:r},this.originator),D=qn.fromDER([...C]),q=new qt(D.r,D.s,y).toChecksigFormat();return new Il([{op:q.length,data:q}])},estimateLength:async()=>73}}}class Y2{value;constructor(e){this.value=e}async computeFee(e){const i=c=>c>4294967296?9:c>65536?5:c>253?3:1;let r=4;r+=i(e.inputs.length);for(let c=0;c<e.inputs.length;c++){const u=e.inputs[c];r+=40;let h;if(typeof u.unlockingScript=="object")h=u.unlockingScript.toBinary().length;else if(typeof u.unlockingScriptTemplate=="object")h=await u.unlockingScriptTemplate.estimateLength(e,c);else throw new Error("All inputs must have an unlocking script or an unlocking script template for sat/kb fee computation.");r+=i(h),r+=h}r+=i(e.outputs.length);for(const c of e.outputs){r+=8;const u=c.lockingScript.toBinary().length;r+=i(u),r+=u}return r+=4,Math.ceil(r/1e3*this.value)}}class va extends Y2{static ARC_POLICY_URL="https://arc.gorillapool.io/v1/policy";static instance=null;cachedRate=null;cacheTimestamp=0;cacheValidityMs;constructor(e=300*1e3){super(100),this.cacheValidityMs=e}static getInstance(e=300*1e3){return va.instance||(va.instance=new va(e)),va.instance}async fetchFeeRate(){const e=Date.now();if(this.cachedRate!==null&&e-this.cacheTimestamp<this.cacheValidityMs)return this.cachedRate;try{const i=await fetch(va.ARC_POLICY_URL);if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);const r=await i.json();if(!r.policy?.miningFee||typeof r.policy.miningFee.satoshis!="number"||typeof r.policy.miningFee.bytes!="number")throw new Error("Invalid policy response format");const l=r.policy.miningFee.satoshis/r.policy.miningFee.bytes*1e3;return this.cachedRate=l,this.cacheTimestamp=e,l}catch(i){return this.cachedRate!==null?(console.warn("Failed to fetch live fee rate, using cached value:",i),this.cachedRate):(console.warn("Failed to fetch live fee rate, using default 100 sat/kb:",i),100)}}async computeFee(e){const i=await this.fetchFeeRate();return this.value=i,super.computeFee(e)}}class X2{https;constructor(e){this.https=e}async request(e,i){return await new Promise((r,l)=>{const c=this.https.request(e,i,u=>{let h="";u.on("data",m=>{h+=m}),u.on("end",()=>{const m=u.statusCode>=200&&u.statusCode<=299,p=u.headers["content-type"],y=h!==""&&typeof p=="string"&&p.startsWith("application/json")?JSON.parse(h):h;r({status:u.statusCode,statusText:u.statusMessage,ok:m,data:y})})});c.on("error",u=>{l(u)}),i.data!==null&&i.data!==void 0&&c.write(JSON.stringify(i.data)),c.end()})}}class F2{fetch;constructor(e){this.fetch=e}async request(e,i){const r={method:i.method,headers:i.headers,body:JSON.stringify(i.data)},l=await this.fetch(e,r),u=l.headers.get("Content-Type")?.startsWith("application/json")??!1?await l.json():await l.text();return{ok:l.ok,status:l.status,statusText:l.statusText,data:u}}}function gf(){const o={async request(...e){throw new Error("No method available to perform HTTP request")}};if(typeof window<"u"&&typeof window.fetch=="function")return new F2(window.fetch.bind(window));if(typeof require<"u")try{const e=require("https");return new X2(e)}catch{return o}else return o}function cp(){return`ts-sdk-${ht(kn(16))}`}class Z2{URL;apiKey;deploymentId;callbackUrl;callbackToken;headers;httpClient;constructor(e,i){if(this.URL=e,typeof i=="string")this.apiKey=i,this.httpClient=gf(),this.deploymentId=cp(),this.callbackToken=void 0,this.callbackUrl=void 0;else{const r=i??{},{apiKey:l,deploymentId:c,httpClient:u,callbackToken:h,callbackUrl:m,headers:p}=r;this.apiKey=l,this.httpClient=u??gf(),this.deploymentId=c??cp(),this.callbackToken=h,this.callbackUrl=m,this.headers=p}}requestHeaders(){const e={"Content-Type":"application/json","XDeployment-ID":this.deploymentId};if(this.apiKey!=null&&this.apiKey!==""&&(e.Authorization=`Bearer ${this.apiKey}`),this.callbackUrl!=null&&this.callbackUrl!==""&&(e["X-CallbackUrl"]=this.callbackUrl),this.callbackToken!=null&&this.callbackToken!==""&&(e["X-CallbackToken"]=this.callbackToken),this.headers!=null)for(const i in this.headers)e[i]=this.headers[i];return e}async broadcast(e){let i;try{i=e.toHexEF()}catch(l){if(l.message==="All inputs must have source transactions when serializing to EF format")i=e.toHex();else throw l}const r={method:"POST",headers:this.requestHeaders(),data:{rawTx:i}};try{const l=await this.httpClient.request(`${this.URL}/v1/tx`,r);if(l.ok){const{txid:c,extraInfo:u,txStatus:h,competingTxs:m}=l.data,p={status:"success",txid:c,message:`${h} ${u}`};return m!=null&&(p.competingTxs=m),p}else{const c=typeof l.status,u={status:"error",code:c==="number"||c==="string"?l.status.toString():"ERR_UNKNOWN",description:"Unknown error"};let h=l.data;if(typeof h=="string")try{h=JSON.parse(l.data)}catch{}return typeof h=="object"&&(h!==null&&(u.more=h),h!=null&&typeof h.txid=="string"&&(u.txid=h.txid),h!=null&&"detail"in h&&typeof h.detail=="string"&&(u.description=h.detail)),u}}catch(l){return{status:"error",code:"500",description:typeof l.message=="string"?l.message:"Internal Server Error"}}}async broadcastMany(e){const i=e.map(l=>{try{return{rawTx:l.toHexEF()}}catch(c){if(c.message==="All inputs must have source transactions when serializing to EF format")return{rawTx:l.toHex()};throw c}}),r={method:"POST",headers:this.requestHeaders(),data:i};try{return(await this.httpClient.request(`${this.URL}/v1/txs`,r)).data}catch(l){const c={status:"error",code:"500",description:typeof l.message=="string"?l.message:"Internal Server Error"};return e.map(()=>c)}}}function Q2(o=!1,e={}){return new Z2(o?"https://testnet.arc.gorillapool.io":"https://arc.gorillapool.io",e)}class W2{network;apiKey;URL;httpClient;constructor(e="main",i={}){const{apiKey:r,httpClient:l}=i;this.network=e,this.URL=`https://api.whatsonchain.com/v1/bsv/${e}`,this.httpClient=l??gf(),this.apiKey=r??""}async isValidRootForHeight(e,i){const r={method:"GET",headers:this.getHttpHeaders()},l=await this.httpClient.request(`${this.URL}/block/${i}/header`,r);if(l.ok){const{merkleroot:c}=l.data;return c===e}else{if(l.status===404)return!1;throw new Error(`Failed to verify merkleroot for height ${i} because of an error: ${JSON.stringify(l.data)} `)}}async currentHeight(){try{const e={method:"GET",headers:this.getHttpHeaders()},i=await this.httpClient.request(`${this.URL}/block/headers`,e);if(i.ok)return i.data[0].height;throw new Error(`Failed to get current height because of an error: ${JSON.stringify(i.data)} `)}catch(e){throw new Error(`Failed to get current height because of an error: ${e instanceof Error?e.message:String(e)}`)}}getHttpHeaders(){const e={Accept:"application/json"};return typeof this.apiKey=="string"&&this.apiKey.trim()!==""&&(e.Authorization=this.apiKey),e}}function J2(){return new W2}class vr{blockHeight;path;static fromHex(e){return vr.fromBinary(F(e,"hex"))}static fromReader(e,i=!0){const r=e.readVarIntNum(),l=e.readUInt8(),c=Array(l).fill(null).map(()=>[]);let u,h,m;for(let p=0;p<l;p++){for(m=e.readVarIntNum();m>0;){h=e.readVarIntNum(),u=e.readUInt8();const y={offset:h};(u&1)!==0?y.duplicate=!0:((u&2)!==0&&(y.txid=!0),y.hash=ht(e.read(32).reverse())),(!Array.isArray(c[p])||c[p].length===0)&&(c[p]=[]),c[p].push(y),m--}c[p].sort((y,b)=>y.offset-b.offset)}return new vr(r,c,i)}static fromBinary(e){const i=new fe(e);return vr.fromReader(i)}static fromCoinbaseTxidAndHeight(e,i){return new vr(i,[[{offset:0,hash:e,txid:!0}]])}constructor(e,i,r=!0){this.blockHeight=e,this.path=i;const l=Array(this.path.length).fill(0).map(()=>new Set);this.path.forEach((u,h)=>{if(u.length===0&&h===0)throw new Error(`Empty level at height: ${h}`);const m=new Set;u.forEach(p=>{if(m.has(p.offset))throw new Error(`Duplicate offset: ${p.offset}, at height: ${h}`);if(m.add(p.offset),h===0){if(p.duplicate!==!0)for(let y=1;y<this.path.length;y++)l[y].add(p.offset>>y^1)}else if(r&&!l[h].has(p.offset))throw new Error(`Invalid offset: ${p.offset}, at height: ${h}, with legal offsets: ${Array.from(l[h]).join(", ")}`)})});let c;this.path[0].forEach((u,h)=>{if(h===0&&(c=this.computeRoot(u.hash)),c!==this.computeRoot(u.hash))throw new Error("Mismatched roots")})}toBinary(){const e=new At;e.writeVarIntNum(this.blockHeight);const i=this.path.length;e.writeUInt8(i);for(let r=0;r<i;r++){const l=Object.keys(this.path[r]).length;e.writeVarIntNum(l);for(const c of this.path[r]){e.writeVarIntNum(c.offset);let u=0;c?.duplicate===!0&&(u|=1),c?.txid!==void 0&&c.txid!==null&&(u|=2),e.writeUInt8(u),(u&1)===0&&e.write(F(c.hash,"hex").reverse())}}return e.toArray()}toHex(){return ht(this.toBinary())}indexOf(e){const i=this.path[0].find(r=>r.hash===e);if(i==null)throw new Error(`Transaction ID ${e} not found in the Merkle Path`);return i.offset}computeRoot(e){if(typeof e!="string"){const c=this.path[0].find(u=>!!u?.hash);if(c==null)throw new Error("No valid leaf found in the Merkle Path");e=c.hash}if(typeof e!="string")throw new Error("Transaction ID is undefined");const i=this.indexOf(e);if(typeof i!="number")throw new Error(`This proof does not contain the txid: ${e??"undefined"}`);const r=c=>ht(yn(F(c,"hex").reverse()).reverse());let l=e;if(this.path.length===1&&this.path[0].length===1)return l;for(let c=0;c<this.path.length;c++){this.path[c];const u=i>>c^1,h=this.findOrComputeLeaf(c,u);if(typeof h!="object")throw new Error(`Missing hash for index ${i} at height ${c}`);h.duplicate===!0?l=r((l??"")+(l??"")):u%2!==0?l=r((h.hash??"")+(l??"")):l=r((l??"")+(h.hash??""))}return l}findOrComputeLeaf(e,i){const r=y=>ht(yn(F(y,"hex").reverse()).reverse());let l=this.path[e].find(y=>y.offset===i);if(l!=null)return l;if(e===0)return;const c=e-1,u=i<<1,h=this.findOrComputeLeaf(c,u);if(h==null||h.hash==null||h.hash==="")return;const m=this.findOrComputeLeaf(c,u+1);if(m==null)return;let p;return m.duplicate===!0?p=r(h.hash+h.hash):p=r((m.hash??"")+(h.hash??"")),l={offset:i,hash:p},l}async verify(e,i){const r=this.computeRoot(e);if(this.indexOf(e)===0){const l=await i.currentHeight();if(this.blockHeight+100<l)return!1}return await i.isValidRootForHeight(r,this.blockHeight)}combine(e){if(this.blockHeight!==e.blockHeight)throw new Error("You cannot combine paths which do not have the same block height.");const i=this.computeRoot(),r=e.computeRoot();if(i!==r)throw new Error("You cannot combine paths which do not have the same root.");const l=[];for(let c=0;c<this.path.length;c++){l.push([]);for(let u=0;u<this.path[c].length;u++)l[c].push(this.path[c][u]);for(let u=0;u<e.path[c].length;u++)if(l[c].find(h=>h.offset===e.path[c][u].offset)===void 0)l[c].push(e.path[c][u]);else if(e.path[c][u]?.txid!==void 0&&e.path[c][u]?.txid!==null){const h=l[c].find(m=>m.offset===e.path[c][u].offset);h!=null&&(h.txid=!0)}}this.path=l,this.trim()}trim(){const e=(u,h)=>{(h.length===0||h.slice(-1)[0]!==u)&&h.push(u)},i=(u,h)=>{for(let m=u.length;m>=0;m--){const p=this.path[h].findIndex(y=>y.offset===u[m]);p>=0&&this.path[h].splice(p,1)}},r=u=>{const h=[];for(const m of u)e(m>>1,h);return h};let l=[],c=[];for(let u=0;u<this.path.length;u++)this.path[u].sort((h,m)=>h.offset-m.offset);for(let u=0;u<this.path[0].length;u++){const h=this.path[0][u];if(h.txid===!0)e(h.offset>>1,l);else{const m=h.offset%2===1,p=this.path[0][u+(m?-1:1)];(p.txid===void 0||p.txid===null||!p.txid)&&e(p.offset,c)}}i(c,0);for(let u=1;u<this.path.length;u++)c=l,l=r(l),i(c,u)}}class Nn{_bumpIndex;_tx;_rawTx;_txid;inputTxids=[];isValid=void 0;get bumpIndex(){return this._bumpIndex}set bumpIndex(e){this._bumpIndex=e,this.updateInputTxids()}get hasProof(){return this._bumpIndex!==void 0}get isTxidOnly(){return this._txid!==void 0&&this._txid!==null&&this._rawTx==null&&this._tx==null}get txid(){if(this._txid!==void 0&&this._txid!==null&&this._txid!=="")return this._txid;if(this._tx!=null)return this._txid=this._tx.id("hex"),this._txid;if(this._rawTx!=null)return this._txid=ht(yn(this._rawTx)),this._txid;throw new Error("Internal")}get tx(){if(this._tx!=null)return this._tx;if(this._rawTx!=null)return this._tx=Ge.fromBinary(this._rawTx),this._tx}get rawTx(){if(this._rawTx!=null)return this._rawTx;if(this._tx!=null)return this._rawTx=this._tx.toBinary(),this._rawTx}constructor(e,i){typeof e=="string"?this._txid=e:Array.isArray(e)?this._rawTx=e:this._tx=e,this.bumpIndex=i,this.updateInputTxids()}static fromTx(e,i){return new Nn(e,i)}static fromRawTx(e,i){return new Nn(e,i)}static fromTxid(e,i){return new Nn(e,i)}updateInputTxids(){if(this.hasProof||this.tx==null)this.inputTxids=[];else{const e={};for(const i of this.tx.inputs)i.sourceTXID!==void 0&&i.sourceTXID!==null&&i.sourceTXID!==""&&(e[i.sourceTXID]=!0);this.inputTxids=Object.keys(e)}}toWriter(e,i){const r=h=>{e.writeUInt8(h)},l=()=>{if(this._txid==null)throw new Error("Transaction ID (_txid) is undefined");e.writeReverse(F(this._txid,"hex"))},c=()=>{if(this._rawTx!=null)e.write(this._rawTx);else if(this._tx!=null)e.write(this._tx.toUint8Array());else throw new Error("a valid serialized Transaction is expected")},u=()=>{this.bumpIndex===void 0?r(fi.RAWTX):(r(fi.RAWTX_AND_BUMP_INDEX),e.writeVarIntNum(this.bumpIndex))};i===xr?this.isTxidOnly?(r(fi.TXID_ONLY),l()):this.bumpIndex!==void 0?(r(fi.RAWTX_AND_BUMP_INDEX),e.writeVarIntNum(this.bumpIndex),c()):(r(fi.RAWTX),c()):(c(),u())}static fromReader(e,i){let r,l,c;if(i===xr){const u=e.readUInt8();u===fi.TXID_ONLY?c=Nn.fromTxid(ht(e.readReverse(32))):(u===fi.RAWTX_AND_BUMP_INDEX&&(l=e.readVarIntNum()),r=Ge.fromReader(e),c=Nn.fromTx(r,l))}else r=Ge.fromReader(e),l=e.readUInt8()!==0?e.readVarIntNum():void 0,c=Nn.fromTx(r,l);return c}}const up=typeof globalThis<"u"?globalThis.Buffer:void 0,yf=4022206465,xr=4022206466,fp=16843009;var fi;(function(o){o[o.RAWTX=0]="RAWTX",o[o.RAWTX_AND_BUMP_INDEX=1]="RAWTX_AND_BUMP_INDEX",o[o.TXID_ONLY=2]="TXID_ONLY"})(fi||(fi={}));class Xi{bumps=[];txs=[];version=xr;atomicTxid=void 0;txidIndex=void 0;rawBytesCache;hexCache;needsSort=!0;constructor(e=xr){this.version=e}invalidateSerializationCaches(){this.rawBytesCache=void 0,this.hexCache=void 0}markMutated(e=!0){this.invalidateSerializationCaches(),e&&(this.needsSort=!0)}ensureSerializableState(){for(const e of this.txs)e.txid}ensureSortedForSerialization(){this.needsSort&&this.sortTxs()}getSerializedBytes(){if(this.ensureSerializableState(),this.rawBytesCache==null){this.ensureSortedForSerialization();const e=new At;this.toWriter(e),this.rawBytesCache=e.toUint8Array()}return this.rawBytesCache}findTxid(e){return this.ensureTxidIndex().get(e)}ensureTxidIndex(){if(this.txidIndex==null){this.txidIndex=new Map;for(const e of this.txs)this.txidIndex.set(e.txid,e)}return this.txidIndex}deleteFromIndex(e){this.txidIndex?.delete(e)}addToIndex(e){this.txidIndex?.set(e.txid,e)}makeTxidOnly(e){const i=this.txs.findIndex(l=>l.txid===e);if(i===-1)return;let r=this.txs[i];return r.isTxidOnly||(this.deleteFromIndex(e),this.txs.splice(i,1),this.markMutated(!0),r=this.mergeTxidOnly(e)),r}findBump(e){return this.bumps.find(i=>i.path[0].some(r=>r.hash===e))}findTransactionForSigning(e){const i=this.findTxid(e);if(!(i==null||i.tx==null)){for(const r of i.tx.inputs)if(r.sourceTransaction==null){const l=this.findTxid(_r(r.sourceTXID,"sourceTXID must be valid"));l!=null&&(r.sourceTransaction=l.tx)}return i.tx}}findAtomicTransaction(e){const i=this.findTxid(e);if(i==null||i.tx==null)return;const r=(l,c)=>{const u=l.findBump(c.id("hex"));if(u!=null)c.merklePath=u;else for(const h of c.inputs){if(h.sourceTransaction==null){const m=l.findTxid(_r(h.sourceTXID,"sourceTXID must be valid"));m!=null&&(h.sourceTransaction=m.tx)}if(h.sourceTransaction!=null){const m=l.findBump(h.sourceTransaction.id("hex"));m!=null?h.sourceTransaction.merklePath=m:r(l,h.sourceTransaction)}}};return r(this,i.tx),i.tx}mergeBump(e){this.markMutated(!1);let i;for(let l=0;l<this.bumps.length;l++){const c=this.bumps[l];if(c===e)return l;if(c.blockHeight===e.blockHeight){const u=c.computeRoot(),h=e.computeRoot();if(u===h){c.combine(e),i=l;break}}}i===void 0&&(i=this.bumps.length,this.bumps.push(e));const r=this.bumps[i];for(const l of this.txs){const c=l.txid;if(l.bumpIndex==null){for(const u of r.path[0])if(u.hash===c){l.bumpIndex=i,u.txid=!0;break}}}return i}mergeRawTx(e,i){this.markMutated(!0);const r=new Nn(e,i);return this.removeExistingTxid(r.txid),this.txs.push(r),this.addToIndex(r),this.tryToValidateBumpIndex(r),r}mergeTransaction(e){this.markMutated(!0);const i=e.id("hex");this.removeExistingTxid(i);let r;e.merklePath!=null&&(r=this.mergeBump(e.merklePath));const l=new Nn(e,r);if(this.txs.push(l),this.addToIndex(l),this.tryToValidateBumpIndex(l),r=l.bumpIndex,r===void 0)for(const c of e.inputs)c.sourceTransaction!=null&&this.mergeTransaction(c.sourceTransaction);return l}removeExistingTxid(e){const i=this.txs.findIndex(r=>r.txid===e);i>=0&&(this.deleteFromIndex(e),this.txs.splice(i,1),this.markMutated(!0))}mergeTxidOnly(e){let i=this.findTxid(e);return i==null&&(i=new Nn(e),this.txs.push(i),this.addToIndex(i),this.tryToValidateBumpIndex(i),this.markMutated(!0)),i}mergeBeefTx(e){let i=this.findTxid(e.txid);if(e.isTxidOnly&&i==null?i=this.mergeTxidOnly(e.txid):e._tx!=null&&(i==null||i.isTxidOnly)?i=this.mergeTransaction(e._tx):e._rawTx!=null&&(i==null||i.isTxidOnly)&&(i=this.mergeRawTx(e._rawTx)),i==null)throw new Error(`Failed to merge BeefTx for txid: ${e.txid}`);return i}mergeBeef(e){const i=Array.isArray(e)?Xi.fromBinary(e):e;for(const r of i.bumps)this.mergeBump(r);for(const r of i.txs)this.mergeBeefTx(r)}isValid(e){return this.verifyValid(e).valid}async verify(e,i){const r=this.verifyValid(i);if(!r.valid)return!1;for(const l of Object.keys(r.roots))if(!await e.isValidRootForHeight(r.roots[l],Number(l)))return!1;return!0}verifyValid(e){const i={valid:!1,roots:{}},r=this.sortTxs();if(r.missingInputs.length>0||r.notValid.length>0||r.txidOnly.length>0&&e!==!0||r.withMissingInputs.length>0)return i;const l={};for(const u of this.txs)if(u.isTxidOnly){if(e!==!0)return i;l[u.txid]=!0}const c=(u,h)=>{const m=u.computeRoot(h);return(i.roots[u.blockHeight]===void 0||i.roots[u.blockHeight]==="")&&(i.roots[u.blockHeight]=m),i.roots[u.blockHeight]===m};for(const u of this.bumps)for(const h of u.path[0])if(h.txid===!0&&typeof h.hash=="string"&&h.hash.length>0&&(l[h.hash]=!0,!c(u,h.hash)))return i;for(const u of this.txs)if(u.bumpIndex!==void 0&&this.bumps[u.bumpIndex].path[0].find(m=>m.hash===u.txid)==null)return i;for(const u of this.txs){for(const h of u.inputTxids)if(!l[h])return i;l[u.txid]=!0}return i.valid=!0,i}toWriter(e){e.writeUInt32LE(this.version),e.writeVarIntNum(this.bumps.length);for(const i of this.bumps)e.write(i.toBinary());e.writeVarIntNum(this.txs.length);for(const i of this.txs)i.toWriter(e,this.version)}toBinary(){return Array.from(this.getSerializedBytes())}toUint8Array(){return this.getSerializedBytes()}toBinaryAtomic(e){this.needsSort&&this.sortTxs();const i=this.findTxid(e);if(i==null)throw new Error(`${e} does not exist in this Beef`);const r=this.txs[this.txs.length-1]===i?this:this.clone();if(r!==this){const c=this.txs.findIndex(u=>u.txid===e);r.txs.splice(c+1)}const l=new At;return l.writeUInt32LE(fp),l.writeReverse(F(e,"hex")),r.toWriter(l),l.toArray()}toHex(){if(this.hexCache!=null)return this.hexCache;const e=this.getSerializedBytes(),i=up!=null?up.from(e).toString("hex"):ht(Array.from(e));return this.hexCache=i,i}static fromReader(e){let i=e.readUInt32LE(),r;if(i===fp&&(r=ht(e.readReverse(32)),i=e.readUInt32LE()),i!==yf&&i!==xr)throw new Error(`Serialized BEEF must start with ${yf} or ${xr} but starts with ${i}`);const l=new Xi(i),c=e.readVarIntNum();for(let h=0;h<c;h++){const m=vr.fromReader(e,!1);l.bumps.push(m)}const u=e.readVarIntNum();for(let h=0;h<u;h++){const m=Nn.fromReader(e,i);l.txs.push(m)}return l.atomicTxid=r,l}static fromBinary(e){const i=new fe(e);return Xi.fromReader(i)}static fromString(e,i="hex"){const r=F(e,i),l=new fe(r);return Xi.fromReader(l)}tryToValidateBumpIndex(e){if(e.bumpIndex!==void 0)return!0;const i=e.txid;for(let r=0;r<this.bumps.length;r++){const l=this.bumps[r].path[0].findIndex(c=>c.hash===i);if(l>=0)return e.bumpIndex=r,this.bumps[r].path[0][l].txid=!0,!0}return!1}sortTxs(){const e={},i={};let r=[];const l=[],c=[];for(const y of this.txs)i[y.txid]=y,y.isValid=y.hasProof,y.isValid?(e[y.txid]=!0,l.push(y)):y.isTxidOnly&&y.inputTxids.length===0?(e[y.txid]=!0,c.push(y)):r.push(y);const u={},h=[],m=r;r=[];for(const y of m){let b=!1;for(const x of y.inputTxids)i[x]===void 0&&(u[x]=!0,b=!0);b?h.push(y):r.push(y)}for(;r.length>0;){const y=r;r=[];for(const b of y)b.inputTxids.every(x=>e[x])?(e[b.txid]=!0,l.push(b)):r.push(b);if(y.length===r.length)break}const p=r;return this.txs=h.concat(p).concat(c).concat(l),this.needsSort=!1,this.invalidateSerializationCaches(),{missingInputs:Object.keys(u),notValid:p.map(y=>y.txid),valid:Object.keys(e),withMissingInputs:h.map(y=>y.txid),txidOnly:c.map(y=>y.txid)}}clone(){const e=new Xi;return e.version=this.version,e.bumps=Array.from(this.bumps),e.txs=Array.from(this.txs),e.txidIndex=void 0,e.needsSort=this.needsSort,e}trimKnownTxids(e){let i=!1;for(let r=0;r<this.txs.length;){const l=this.txs[r];l.isTxidOnly&&e.includes(l.txid)?(this.deleteFromIndex(l.txid),this.txs.splice(r,1),i=!0):r++}i&&this.markMutated(!0)}getValidTxids(){return this.sortTxs().valid}toLogString(){let e="";e+=`BEEF with ${this.bumps.length} BUMPS and ${this.txs.length} Transactions, isValid ${this.isValid().toString()}
`;let i=-1;for(const r of this.bumps)i++,e+=`  BUMP ${i}
    block: ${r.blockHeight}
    txids: [
${r.path[0].filter(l=>l.txid===!0).map(l=>`      '${l.hash??""}'`).join(`,
`)}
    ]
`;i=-1;for(const r of this.txs)i++,e+=`  TX ${i}
    txid: ${r.txid}
`,r.bumpIndex!==void 0&&(e+=`    bumpIndex: ${r.bumpIndex}
`),r.isTxidOnly?e+=`    txidOnly
`:e+=`    rawTx length=${r.rawTx?.length??0}
`,r.inputTxids.length>0&&(e+=`    inputs: [
${r.inputTxids.map(l=>`      '${l}'`).join(`,
`)}
    ]
`);return e}addComputedLeaves(){const e=i=>ht(yn(F(i,"hex").reverse()).reverse());for(const i of this.bumps)for(let r=1;r<i.path.length;r++)for(const l of i.path[r-1])if(typeof l.hash=="string"&&(l.offset&1)===0){const c=i.path[r-1].find(h=>h.offset===l.offset+1),u=l.offset>>1;c!==void 0&&typeof c.hash=="string"&&i.path[r].every(h=>h.offset!==u)&&i.path[r].push({offset:u,hash:e(c.hash+l.hash)})}}}const fl=typeof globalThis<"u"?globalThis.Buffer:void 0;class Ge{version;inputs;outputs;lockTime;metadata;merklePath;cachedHash;rawBytesCache;hexCache;static addPathOrInputs(e,i,r){if(typeof e.pathIndex=="number"){const l=r[e.pathIndex];if(typeof l!="object")throw new Error("Invalid merkle path index found in BEEF!");e.tx.merklePath=l}else for(const l of e.tx.inputs){if(l.sourceTXID===void 0)throw new Error("Input sourceTXID is undefined");const c=i[l.sourceTXID];if(typeof c!="object")throw new Error(`Reference to unknown TXID in BEEF: ${l.sourceTXID??"undefined"}`);l.sourceTransaction=c.tx,this.addPathOrInputs(c,i,r)}}static fromBEEF(e,i){const{tx:r}=Ge.fromAnyBeef(e,i);return r}static fromAtomicBEEF(e){const{tx:i,txid:r,beef:l}=Ge.fromAnyBeef(e);if(r!==l.atomicTxid)throw l.atomicTxid!=null?new Error(`Transaction with TXID ${l.atomicTxid} not found in BEEF data.`):new Error("beef must conform to BRC-95 and must contain the subject txid.");return i}static fromAnyBeef(e,i){const r=Xi.fromBinary(e);if(r.txs.length<1)throw new Error("beef must include at least one transaction.");const l=i??r.atomicTxid??r.txs.slice(-1)[0].txid,c=r.findAtomicTransaction(l);if(c==null)throw i!=null?new Error(`Transaction with TXID ${l} not found in BEEF data.`):new Error("beef does not contain transaction for atomic txid.");return{tx:c,beef:r,txid:l}}static fromEF(e){const i=new fe(e),r=i.readUInt32LE();if(ht(i.read(6))!=="0000000000ef")throw new Error("Invalid EF marker");const l=i.readVarIntNum(),c=[];for(let p=0;p<l;p++){const y=ht(i.readReverse(32)),b=i.readUInt32LE(),x=i.readVarIntNum(),w=i.read(x),S=Il.fromBinary(w),k=i.readUInt32LE(),C=i.readUInt64LEBn().toNumber(),D=i.readVarIntNum(),Y=i.read(D),q=Sr.fromBinary(Y),W=new Ge(void 0,[],[],void 0);W.outputs=Array(b+1).fill(null),W.outputs[b]={satoshis:C,lockingScript:q},c.push({sourceTransaction:W,sourceTXID:y,sourceOutputIndex:b,unlockingScript:S,sequence:k})}const u=i.readVarIntNum(),h=[];for(let p=0;p<u;p++){const y=i.readUInt64LEBn().toNumber(),b=i.readVarIntNum(),x=i.read(b),w=Sr.fromBinary(x);h.push({satoshis:y,lockingScript:w})}const m=i.readUInt32LE();return new Ge(r,c,h,m)}static parseScriptOffsets(e){const i=new fe(e),r=[],l=[];i.pos+=4;const c=i.readVarIntNum();for(let h=0;h<c;h++){i.pos+=36;const m=i.readVarIntNum();r.push({vin:h,offset:i.pos,length:m}),i.pos+=m+4}const u=i.readVarIntNum();for(let h=0;h<u;h++){i.pos+=8;const m=i.readVarIntNum();l.push({vout:h,offset:i.pos,length:m}),i.pos+=m}return{inputs:r,outputs:l}}static fromReader(e){const i=e.readUInt32LE(),r=e.readVarIntNum(),l=[];for(let m=0;m<r;m++){const p=ht(e.readReverse(32)),y=e.readUInt32LE(),b=e.readVarIntNum(),x=e.read(b),w=Il.fromBinary(x),S=e.readUInt32LE();l.push({sourceTXID:p,sourceOutputIndex:y,unlockingScript:w,sequence:S})}const c=e.readVarIntNum(),u=[];for(let m=0;m<c;m++){const p=e.readUInt64LEBn().toNumber(),y=e.readVarIntNum(),b=e.read(y),x=Sr.fromBinary(b);u.push({satoshis:p,lockingScript:x})}const h=e.readUInt32LE();return new Ge(i,l,u,h)}static fromBinary(e){const i=e.slice(),r=Uint8Array.from(i),l=new fe(i),c=Ge.fromReader(l);return c.rawBytesCache=r,c}static fromHex(e){const i=F(e,"hex"),r=Uint8Array.from(i),l=new fe(i),c=Ge.fromReader(l);return c.rawBytesCache=r,c.hexCache=fl!=null?fl.from(r).toString("hex"):ht(i),c}static fromHexEF(e){return Ge.fromEF(F(e,"hex"))}static fromHexBEEF(e,i){return Ge.fromBEEF(F(e,"hex"),i)}constructor(e=1,i=[],r=[],l=0,c=new Map,u){this.version=e,this.inputs=i,this.outputs=r,this.lockTime=l,this.metadata=c,this.merklePath=u}invalidateSerializationCaches(){this.cachedHash=void 0,this.rawBytesCache=void 0,this.hexCache=void 0}addInput(e){if(typeof e.sourceTXID>"u"&&typeof e.sourceTransaction>"u")throw new Error("A reference to an an input transaction is required. If the input transaction itself cannot be referenced, its TXID must still be provided.");typeof e.sequence>"u"&&(e.sequence=4294967295),this.invalidateSerializationCaches(),this.inputs.push(e)}addOutput(e){if(this.cachedHash=void 0,e.change!==!0){if(typeof e.satoshis>"u")throw new Error("either satoshis must be defined or change must be set to true");if(e.satoshis<0)throw new Error("satoshis must be a positive integer or zero")}if(e.lockingScript==null)throw new Error("lockingScript must be defined");this.outputs.push(e)}addP2PKHOutput(e,i){const r=new K2().lock(e);if(typeof i>"u")return this.addOutput({lockingScript:r,change:!0});this.addOutput({lockingScript:r,satoshis:i})}updateMetadata(e){this.metadata={...this.metadata,...e}}async fee(e=va.getInstance(),i="equal"){if(this.invalidateSerializationCaches(),typeof e=="number"){const c=e;e={computeFee:async()=>c}}const r=await e.computeFee(this),l=this.calculateChange(r);if(l<=0){this.outputs=this.outputs.filter(c=>c.change!==!0);return}this.distributeChange(l,i)}calculateChange(e){let i=0;for(const r of this.inputs){if(typeof r.sourceTransaction!="object")throw new Error("Source transactions are required for all inputs during fee computation");i+=r.sourceTransaction.outputs[r.sourceOutputIndex].satoshis??0}i-=e;for(const r of this.outputs)r.change!==!0&&r.satoshis!==void 0&&(i-=r.satoshis);return i}distributeChange(e,i){let r=0;const l=this.outputs.filter(c=>c.change);if(i==="random"?r=this.distributeRandomChange(e,l):i==="equal"&&(r=this.distributeEqualChange(e,l)),r<e){const c=this.outputs[this.outputs.length-1];c.satoshis!==void 0?c.satoshis+=e-r:c.satoshis=e-r}}distributeRandomChange(e,i){let r=0,l=e;const c=Array(i.length).fill(1);l-=i.length,r+=i.length;for(let u=0;u<i.length-1;u++){const h=this.benfordNumber(0,l);c[u]=c[u]+h,r+=h,l-=h}for(const u of this.outputs)u.change===!0&&(u.satoshis=c.shift());return r}distributeEqualChange(e,i){let r=0;const l=Math.floor(e/i.length);for(const c of i)r+=l,c.satoshis=l;return r}benfordNumber(e,i){const r=Math.floor(Math.random()*9)+1;return Math.floor(e+(i-e)*Math.log10(1+1/r)/Math.log10(10))}getFee(){let e=0;for(const r of this.inputs){if(typeof r.sourceTransaction!="object")throw new Error("Source transactions or sourceSatoshis are required for all inputs to calculate fee");e+=r.sourceTransaction.outputs[r.sourceOutputIndex].satoshis??0}let i=0;for(const r of this.outputs)i+=r.satoshis??0;return e-i}async sign(){this.invalidateSerializationCaches();for(const i of this.outputs)if(typeof i.satoshis>"u")throw i.change===!0?new Error("There are still change outputs with uncomputed amounts. Use the fee() method to compute the change amounts and transaction fees prior to signing."):new Error("One or more transaction outputs is missing an amount. Ensure all output amounts are provided before signing.");const e=await Promise.all(this.inputs.map(async(i,r)=>typeof this.inputs[r].unlockingScriptTemplate=="object"?await this.inputs[r]?.unlockingScriptTemplate?.sign(this,r):await Promise.resolve(void 0)));for(let i=0,r=this.inputs.length;i<r;i++)typeof this.inputs[i].unlockingScriptTemplate=="object"&&(this.inputs[i].unlockingScript=e[i])}async broadcast(e=Q2()){return await e.broadcast(this)}writeTransactionBody(e){e.writeUInt32LE(this.version),e.writeVarIntNum(this.inputs.length);for(const i of this.inputs){if(typeof i.sourceTXID>"u")if(i.sourceTransaction!=null)e.write(i.sourceTransaction.hash());else throw new Error("sourceTransaction is undefined");else e.writeReverse(F(i.sourceTXID,"hex"));if(e.writeUInt32LE(i.sourceOutputIndex),i.unlockingScript==null)throw new Error("unlockingScript is undefined");const r=i.unlockingScript.toUint8Array();e.writeVarIntNum(r.length),e.write(r),e.writeUInt32LE(i.sequence??4294967295)}e.writeVarIntNum(this.outputs.length);for(const i of this.outputs){e.writeUInt64LE(i.satoshis??0);const r=i.lockingScript.toUint8Array();e.writeVarIntNum(r.length),e.write(r)}e.writeUInt32LE(this.lockTime)}buildSerializedBytes(){const e=new At;return this.writeTransactionBody(e),e.toUint8Array()}getSerializedBytes(){return this.rawBytesCache==null&&(this.rawBytesCache=this.buildSerializedBytes()),this.rawBytesCache}toBinary(){return Array.from(this.getSerializedBytes())}toUint8Array(){return this.getSerializedBytes()}toEF(){const e=new At;e.writeUInt32LE(this.version),e.write([0,0,0,0,0,239]),e.writeVarIntNum(this.inputs.length);for(const i of this.inputs){if(typeof i.sourceTransaction>"u")throw new Error("All inputs must have source transactions when serializing to EF format");if(typeof i.sourceTXID>"u"?e.write(i.sourceTransaction.hash()):e.write(F(i.sourceTXID,"hex").reverse()),e.writeUInt32LE(i.sourceOutputIndex),i.unlockingScript==null)throw new Error("unlockingScript is undefined");const r=i.unlockingScript.toBinary();e.writeVarIntNum(r.length),e.write(r),e.writeUInt32LE(i.sequence??4294967295),e.writeUInt64LE(i.sourceTransaction.outputs[i.sourceOutputIndex].satoshis??0);const l=i.sourceTransaction.outputs[i.sourceOutputIndex].lockingScript.toBinary();e.writeVarIntNum(l.length),e.write(l)}e.writeVarIntNum(this.outputs.length);for(const i of this.outputs){e.writeUInt64LE(i.satoshis??0);const r=i.lockingScript.toBinary();e.writeVarIntNum(r.length),e.write(r)}return e.writeUInt32LE(this.lockTime),e.toArray()}toHexEF(){return ht(this.toEF())}toHex(){if(this.hexCache!=null)return this.hexCache;const e=this.getSerializedBytes(),i=fl!=null?fl.from(e).toString("hex"):ht(Array.from(e));return this.hexCache=i,i}toHexBEEF(){return ht(this.toBEEF())}toHexAtomicBEEF(){return ht(this.toAtomicBEEF())}hash(e){return this.cachedHash==null&&(this.cachedHash=yn(this.getSerializedBytes())),e==="hex"?ht(this.cachedHash):this.cachedHash}id(e){const i=[...this.hash()];return i.reverse(),e==="hex"?ht(i):i}async verify(e=J2(),i,r){const l=new Set,c=[this];for(;c.length>0;){const u=c.shift(),h=u?.id("hex")??"";if(h!=null&&h!==""&&l.has(h))continue;if(typeof u?.merklePath=="object")if(e==="scripts only"){h!=null&&l.add(h);continue}else if(await u.merklePath.verify(h,e)){l.add(h);continue}else throw new Error(`Invalid merkle path for transaction ${h}`);if(typeof i<"u"){if(u===void 0)throw new Error("Transaction is undefined");const y=Ge.fromEF(u.toEF());if(delete y.outputs[0].satoshis,y.outputs[0].change=!0,await y.fee(i),u.getFee()<y.getFee())throw new Error(`Verification failed because the transaction ${h} has an insufficient fee and has not been mined.`)}let m=0;if(u===void 0)throw new Error("Transaction is undefined");for(let y=0;y<u.inputs.length;y++){const b=u.inputs[y];if(typeof b.sourceTransaction!="object")throw new Error(`Verification failed because the input at index ${y} of transaction ${h} is missing an associated source transaction. This source transaction is required for transaction verification because there is no merkle proof for the transaction spending a UTXO it contains.`);if(typeof b.unlockingScript!="object")throw new Error(`Verification failed because the input at index ${y} of transaction ${h} is missing an associated unlocking script. This script is required for transaction verification because there is no merkle proof for the transaction spending the UTXO.`);const x=b.sourceTransaction.outputs[b.sourceOutputIndex];m+=x.satoshis??0;const w=b.sourceTransaction.id("hex");l.has(w)||c.push(b.sourceTransaction);const S=u.inputs.filter((D,Y)=>Y!==y);if(typeof b.sourceTXID>"u"&&(b.sourceTXID=w),!new q2({sourceTXID:b.sourceTXID,sourceOutputIndex:b.sourceOutputIndex,lockingScript:x.lockingScript,sourceSatoshis:x.satoshis??0,transactionVersion:u.version,otherInputs:S,unlockingScript:b.unlockingScript,inputSequence:b.sequence??4294967295,inputIndex:y,outputs:u.outputs,lockTime:u.lockTime,memoryLimit:r}).validate())return!1}let p=0;for(const y of u.outputs){if(typeof y.satoshis!="number")throw new Error("Every output must have a defined amount during transaction verification.");p+=y.satoshis}if(p>m)return!1;l.add(h)}return!0}toBEEF(e){const i=new At;i.writeUInt32LE(yf);const r=[],l=new Map,c=new Map,u=[],h=new Set,m=y=>{const b=l.get(y);if(b!==void 0)return b;const x=`${y.blockHeight}:${y.computeRoot()}`,w=c.get(x);if(w!==void 0)return r[w].combine(y),l.set(y,w),w;const S=r.length;return r.push(y),l.set(y,S),c.set(x,S),S},p=y=>{const b=y.id("hex");if(h.has(b))return;const x={tx:y},w=y.merklePath,S=typeof w=="object";if(S&&w!=null&&(x.pathIndex=m(w)),!S)for(let k=y.inputs.length-1;k>=0;k--){const C=y.inputs[k];if(typeof C.sourceTransaction=="object")p(C.sourceTransaction);else if(e===!1)throw new Error("A required source transaction is missing!")}h.add(b),u.push(x)};p(this),i.writeVarIntNum(r.length);for(const y of r)i.write(y.toBinary());i.writeVarIntNum(u.length);for(const y of u)i.write(y.tx.toBinary()),typeof y.pathIndex=="number"?(i.writeUInt8(1),i.writeVarIntNum(y.pathIndex)):i.writeUInt8(0);return i.toArray()}toAtomicBEEF(e){const i=[1,1,1,1],r=this.hash(),l=this.toBEEF(e);return i.concat(r,l)}}var vf;(function(o){o[o.Silent=0]="Silent",o[o.App=1]="App",o[o.Counterparty=2]="Counterparty"})(vf||(vf={}));class $2{cacheSharedSecret;retrieveCachedSharedSecret;rootKey;identityKey;anyone;constructor(e,i,r){this.cacheSharedSecret=i,this.retrieveCachedSharedSecret=r,this.anyone=new Xe(1).toPublicKey(),e==="anyone"?this.rootKey=new Xe(1):this.rootKey=e,this.identityKey=this.rootKey.toPublicKey().toString()}derivePublicKey(e,i,r,l=!1){return r=this.normalizeCounterparty(r),l?this.rootKey.deriveChild(r,this.computeInvoiceNumber(e,i),this.cacheSharedSecret,this.retrieveCachedSharedSecret).toPublicKey():r.deriveChild(this.rootKey,this.computeInvoiceNumber(e,i),this.cacheSharedSecret,this.retrieveCachedSharedSecret)}derivePrivateKey(e,i,r){return r=this.normalizeCounterparty(r),this.rootKey.deriveChild(r,this.computeInvoiceNumber(e,i),this.cacheSharedSecret,this.retrieveCachedSharedSecret)}deriveSymmetricKey(e,i,r){r==="anyone"?r=this.anyone:r=this.normalizeCounterparty(r);const l=this.derivePublicKey(e,i,r),c=this.derivePrivateKey(e,i,r);return new Bf(c.deriveSharedSecret(l)?.x?.toArray()??[])}revealCounterpartySecret(e){if(e==="self")throw new Error("Counterparty secrets cannot be revealed for counterparty=self.");e=this.normalizeCounterparty(e);const i=this.rootKey.toPublicKey(),r=this.rootKey.deriveChild(i,"test").toHex(),l=this.rootKey.deriveChild(e,"test").toHex();if(r===l)throw new Error("Counterparty secrets cannot be revealed for counterparty=self.");return this.rootKey.deriveSharedSecret(e).encode(!0)}revealSpecificSecret(e,i,r){e=this.normalizeCounterparty(e);const l=this.rootKey.deriveSharedSecret(e),c=F(this.computeInvoiceNumber(i,r),"utf8");return Ls(l.encode(!0),c)}normalizeCounterparty(e){if(e==null)throw new Error("counterparty must be self, anyone or a public key!");return e==="self"?this.rootKey.toPublicKey():e==="anyone"?new Xe(1).toPublicKey():typeof e=="string"?Fe.fromString(e):e}computeInvoiceNumber(e,i){const r=e[0];if(!Number.isInteger(r)||r<0||r>2)throw new Error("Protocol security level must be 0, 1, or 2");const l=e[1].toLowerCase().trim();if(i.length>800)throw new Error("Key IDs must be 800 characters or less");if(i.length<1)throw new Error("Key IDs must be 1 character or more");if(l.length>400)if(l.startsWith("specific linkage revelation ")){if(l.length>430)throw new Error("Specific linkage revelation protocol names must be 430 characters or less")}else throw new Error("Protocol names must be 400 characters or less");if(l.length<5)throw new Error("Protocol names must be 5 characters or more");if(l.includes("  "))throw new Error('Protocol names cannot contain multiple consecutive spaces ("  ")');if(!/^[a-z0-9 ]+$/g.test(l))throw new Error("Protocol names can only contain letters, numbers and spaces");if(l.endsWith(" protocol"))throw new Error('No need to end your protocol name with " protocol"');return`${r}-${l}-${i}`}}class t3{keyDeriver;cache;maxCacheSize;rootKey;identityKey;constructor(e,i){e==="anyone"?this.rootKey=new Xe(1):this.rootKey=e,this.keyDeriver=new $2(this.rootKey,(l,c,u)=>{this.cacheSet(`${l.toString()}-${c.toString()}`,u)},(l,c)=>this.cacheGet(`${l.toString()}-${c.toString()}`)),this.identityKey=this.rootKey.toPublicKey().toString(),this.cache=new Map;const r=i?.maxCacheSize;this.maxCacheSize=r!=null&&!isNaN(r)&&r>0?r:1e3}derivePublicKey(e,i,r,l=!1){const c=this.generateCacheKey("derivePublicKey",e,i,r,l);if(this.cache.has(c)){const u=this.cacheGet(c);if(u===void 0)throw new Error("Cached value is undefined");return u}else{const u=this.keyDeriver.derivePublicKey(e,i,r,l);return this.cacheSet(c,u),u}}derivePrivateKey(e,i,r){const l=this.generateCacheKey("derivePrivateKey",e,i,r);if(this.cache.has(l)){const c=this.cacheGet(l);if(c===void 0)throw new Error("Cached value is undefined");return c}else{const c=this.keyDeriver.derivePrivateKey(e,i,r);return this.cacheSet(l,c),c}}deriveSymmetricKey(e,i,r){const l=this.generateCacheKey("deriveSymmetricKey",e,i,r);if(this.cache.has(l)){const c=this.cacheGet(l);if(c===void 0)throw new Error("Cached value is undefined");return c}else{const c=this.keyDeriver.deriveSymmetricKey(e,i,r);return this.cacheSet(l,c),c}}revealCounterpartySecret(e){const i=this.generateCacheKey("revealCounterpartySecret",e);if(this.cache.has(i)){const r=this.cacheGet(i);if(r===void 0)throw new Error("Cached value is undefined");return r}else{const r=this.keyDeriver.revealCounterpartySecret(e);return this.cacheSet(i,r),r}}revealSpecificSecret(e,i,r){const l=this.generateCacheKey("revealSpecificSecret",e,i,r);if(this.cache.has(l)){const c=this.cacheGet(l);if(c===void 0)throw new Error("Cached value is undefined");return c}else{const c=this.keyDeriver.revealSpecificSecret(e,i,r);return this.cacheSet(l,c),c}}generateCacheKey(e,...i){const r=i.map(l=>this.serializeArgument(l)).join("|");return`${e}|${r}`}serializeArgument(e){return e instanceof Fe||e instanceof Xe?e.toString():Array.isArray(e)?e.map(i=>this.serializeArgument(i)).join(","):typeof e=="object"&&e!==null?JSON.stringify(e):String(e)}cacheGet(e){const i=this.cache.get(e);return this.cache.delete(e),i!==void 0&&this.cache.set(e,i),i}cacheSet(e,i){if(this.cache.size>=this.maxCacheSize){const r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,i)}}class e3{keyDeriver;constructor(e){typeof e.identityKey!="string"&&(e=new t3(e)),this.keyDeriver=e}async getPublicKey(e){if(e.identityKey){if(this.keyDeriver==null)throw new Error("keyDeriver is undefined");return{publicKey:this.keyDeriver.rootKey.toPublicKey().toString()}}else{if(e.protocolID==null||e.keyID==null||e.keyID==="")throw new Error("protocolID and keyID are required if identityKey is false or undefined.");return{publicKey:(this.keyDeriver??(()=>{throw new Error("keyDeriver is undefined")})()).derivePublicKey(e.protocolID,e.keyID,e.counterparty??"self",e.forSelf).toString()}}}async revealCounterpartyKeyLinkage(e){const{publicKey:i}=await this.getPublicKey({identityKey:!0});if(this.keyDeriver==null)throw new Error("keyDeriver is undefined");const r=this.keyDeriver.revealCounterpartySecret(e.counterparty),l=new M2().generateProof(this.keyDeriver.rootKey,this.keyDeriver.rootKey.toPublicKey(),Fe.fromString(e.counterparty),jt.fromDER(r)),c=[...l.R.encode(!0),...l.SPrime.encode(!0),...l.z.toArray()],u=new Date().toISOString(),{ciphertext:h}=await this.encrypt({plaintext:r,protocolID:[2,"counterparty linkage revelation"],keyID:u,counterparty:e.verifier}),{ciphertext:m}=await this.encrypt({plaintext:c,protocolID:[2,"counterparty linkage revelation"],keyID:u,counterparty:e.verifier});return{prover:i,verifier:e.verifier,counterparty:e.counterparty,revelationTime:u,encryptedLinkage:h,encryptedLinkageProof:m}}async revealSpecificKeyLinkage(e){const{publicKey:i}=await this.getPublicKey({identityKey:!0});if(this.keyDeriver==null)throw new Error("keyDeriver is undefined");const r=this.keyDeriver.revealSpecificSecret(e.counterparty,e.protocolID,e.keyID),{ciphertext:l}=await this.encrypt({plaintext:r,protocolID:[2,`specific linkage revelation ${e.protocolID[0]} ${e.protocolID[1]}`],keyID:e.keyID,counterparty:e.verifier}),{ciphertext:c}=await this.encrypt({plaintext:[0],protocolID:[2,`specific linkage revelation ${e.protocolID[0]} ${e.protocolID[1]}`],keyID:e.keyID,counterparty:e.verifier});return{prover:i,verifier:e.verifier,counterparty:e.counterparty,protocolID:e.protocolID,keyID:e.keyID,encryptedLinkage:l,encryptedLinkageProof:c,proofType:0}}async encrypt(e){if(this.keyDeriver==null)throw new Error("keyDeriver is undefined");return{ciphertext:this.keyDeriver.deriveSymmetricKey(e.protocolID,e.keyID,e.counterparty??"self").encrypt(e.plaintext)}}async decrypt(e,i){if(this.keyDeriver==null)throw new Error("keyDeriver is undefined");return{plaintext:this.keyDeriver.deriveSymmetricKey(e.protocolID,e.keyID,e.counterparty??"self").decrypt(e.ciphertext)}}async createHmac(e){if(this.keyDeriver==null)throw new Error("keyDeriver is undefined");const i=this.keyDeriver.deriveSymmetricKey(e.protocolID,e.keyID,e.counterparty??"self");return{hmac:Ls(i.toArray(),e.data)}}async verifyHmac(e){if(this.keyDeriver==null)throw new Error("keyDeriver is undefined");const i=this.keyDeriver.deriveSymmetricKey(e.protocolID,e.keyID,e.counterparty??"self"),r=Ls(i.toArray(),e.data).toString()===e.hmac.toString();if(!r){const l=new Error("HMAC is not valid");throw l.code="ERR_INVALID_HMAC",l}return{valid:r}}async createSignature(e){if(e.hashToDirectlySign==null&&e.data==null)throw new Error("args.data or args.hashToDirectlySign must be valid");const i=e.hashToDirectlySign??jn(e.data??[]),l=(this.keyDeriver??(()=>{throw new Error("keyDeriver is undefined")})()).derivePrivateKey(e.protocolID,e.keyID,e.counterparty??"anyone");return{signature:r1(new _(i),l,!0).toDER()}}async verifySignature(e){if(e.hashToDirectlyVerify==null&&e.data==null)throw new Error("args.data or args.hashToDirectlyVerify must be valid");const i=e.hashToDirectlyVerify??jn(e.data??[]),l=(this.keyDeriver??(()=>{throw new Error("keyDeriver is undefined")})()).derivePublicKey(e.protocolID,e.keyID,e.counterparty??"self",e.forSelf),c=Ps(new _(i),qn.fromDER(e.signature),l);if(!c){const u=new Error("Signature is not valid");throw u.code="ERR_INVALID_SIGNATURE",u}return{valid:c}}}class dp{CWI;constructor(){if(typeof window!="object")throw new Error("The window.CWI substrate requires a global window object.");if(typeof window.CWI!="object")throw new Error("The window.CWI interface does not appear to be bound to the window object.");this.CWI=window.CWI}async createAction(e,i){return await this.CWI.createAction(e,i)}async signAction(e,i){return await this.CWI.signAction(e,i)}async abortAction(e,i){return await this.CWI.abortAction(e,i)}async listActions(e,i){return await this.CWI.listActions(e,i)}async internalizeAction(e,i){return await this.CWI.internalizeAction(e,i)}async listOutputs(e,i){return await this.CWI.listOutputs(e,i)}async relinquishOutput(e,i){return await this.CWI.relinquishOutput(e,i)}async getPublicKey(e,i){return await this.CWI.getPublicKey(e,i)}async revealCounterpartyKeyLinkage(e,i){return await this.CWI.revealCounterpartyKeyLinkage(e,i)}async revealSpecificKeyLinkage(e,i){return await this.CWI.revealSpecificKeyLinkage(e,i)}async encrypt(e,i){return await this.CWI.encrypt(e,i)}async decrypt(e,i){return await this.CWI.decrypt(e,i)}async createHmac(e,i){return await this.CWI.createHmac(e,i)}async verifyHmac(e,i){return await this.CWI.verifyHmac(e,i)}async createSignature(e,i){return await this.CWI.createSignature(e,i)}async verifySignature(e,i){return await this.CWI.verifySignature(e,i)}async acquireCertificate(e,i){return await this.CWI.acquireCertificate(e,i)}async listCertificates(e,i){return await this.CWI.listCertificates(e,i)}async proveCertificate(e,i){return await this.CWI.proveCertificate(e,i)}async relinquishCertificate(e,i){return await this.CWI.relinquishCertificate(e,i)}async discoverByIdentityKey(e,i){return await this.CWI.discoverByIdentityKey(e,i)}async discoverByAttributes(e,i){return await this.CWI.discoverByAttributes(e,i)}async isAuthenticated(e,i){return await this.CWI.isAuthenticated(e,i)}async waitForAuthentication(e,i){return await this.CWI.waitForAuthentication(e,i)}async getHeight(e,i){return await this.CWI.getHeight(e,i)}async getHeaderForHeight(e,i){return await this.CWI.getHeaderForHeight(e,i)}async getNetwork(e,i){return await this.CWI.getNetwork(e,i)}async getVersion(e,i){return await this.CWI.getVersion(e,i)}}class zf extends Error{code;isError=!0;constructor(e,i=1,r){super(e),this.code=i,this.name=this.constructor.name,r!=null&&r!==""?this.stack=r:Error.captureStackTrace(this,this.constructor)}static unknownToJson(e){let i;return e.isError===!0&&String(e.name).startsWith("WERR_")?(i={name:e.name,message:e.message,isError:!0},i.name==="WERR_REVIEW_ACTIONS"?(i.reviewActionResults=e.reviewActionResults,i.sendWithResults=e.sendWithResults,i.txid=e.txid,i.tx=e.tx,i.noSendChange=e.noSendChange,i.code=5):i.name==="WERR_INVALID_PARAMETER"?(i.parameter=e.parameter,i.code=6):i.name==="WERR_INSUFFICIENT_FUNDS"&&(i.totalSatoshisNeeded=e.totalSatoshisNeeded,i.moreSatoshisNeeded=e.moreSatoshisNeeded,i.code=7)):e instanceof Error?i={name:e.constructor.name,message:e.message,isError:!0}:i={name:"WERR_UNKNOWN",message:String(e),isError:!0},JSON.stringify(i)}}var hp;(function(o){o[o.unknownError=1]="unknownError",o[o.unsupportedAction=2]="unsupportedAction",o[o.invalidHmac=3]="invalidHmac",o[o.invalidSignature=4]="invalidSignature",o[o.reviewActions=5]="reviewActions",o[o.invalidParameter=6]="invalidParameter",o[o.insufficientFunds=7]="insufficientFunds"})(hp||(hp={}));class mp{domain;constructor(e="*"){if(typeof window!="object")throw new Error("The XDM substrate requires a global window object.");if(typeof window.postMessage!="function")throw new Error("The window object does not seem to support postMessage calls.");this.domain=e}async invoke(e,i){return await new Promise((r,l)=>{const c=Tn(kn(12)),u=h=>{if(!(h.data.type!=="CWI"||!h.isTrusted||h.data.id!==c||h.data.isInvocation===!0))if(typeof window.removeEventListener=="function"&&window.removeEventListener("message",u),h.data.status==="error"){const m=new zf(h.data.description,h.data.code);l(m)}else r(h.data.result)};window.addEventListener("message",u),window.parent.postMessage({type:"CWI",isInvocation:!0,id:c,call:e,args:i},this.domain)})}async createAction(e){return await this.invoke("createAction",e)}async signAction(e){return await this.invoke("signAction",e)}async abortAction(e){return await this.invoke("abortAction",e)}async listActions(e){return await this.invoke("listActions",e)}async internalizeAction(e){return await this.invoke("internalizeAction",e)}async listOutputs(e){return await this.invoke("listOutputs",e)}async relinquishOutput(e){return await this.invoke("relinquishOutput",e)}async getPublicKey(e){return await this.invoke("getPublicKey",e)}async revealCounterpartyKeyLinkage(e){return await this.invoke("revealCounterpartyKeyLinkage",e)}async revealSpecificKeyLinkage(e){return await this.invoke("revealSpecificKeyLinkage",e)}async encrypt(e){return await this.invoke("encrypt",e)}async decrypt(e){return await this.invoke("decrypt",e)}async createHmac(e){return await this.invoke("createHmac",e)}async verifyHmac(e){return await this.invoke("verifyHmac",e)}async createSignature(e){return await this.invoke("createSignature",e)}async verifySignature(e){return await this.invoke("verifySignature",e)}async acquireCertificate(e){return await this.invoke("acquireCertificate",e)}async listCertificates(e){return await this.invoke("listCertificates",e)}async proveCertificate(e){return await this.invoke("proveCertificate",e)}async relinquishCertificate(e){return await this.invoke("relinquishCertificate",e)}async discoverByIdentityKey(e){return await this.invoke("discoverByIdentityKey",e)}async discoverByAttributes(e){return await this.invoke("discoverByAttributes",e)}async isAuthenticated(e){return await this.invoke("isAuthenticated",e)}async waitForAuthentication(e){return await this.invoke("waitForAuthentication",e)}async getHeight(e){return await this.invoke("getHeight",e)}async getHeaderForHeight(e){return await this.invoke("getHeaderForHeight",e)}async getNetwork(e){return await this.invoke("getNetwork",e)}async getVersion(e){return await this.invoke("getVersion",e)}}class Er{type;serialNumber;subject;certifier;revocationOutpoint;fields;signature;constructor(e,i,r,l,c,u,h){this.type=e,this.serialNumber=i,this.subject=r,this.certifier=l,this.revocationOutpoint=c,this.fields=u,this.signature=h}toBinary(e=!0){const i=new At,r=F(this.type,"base64");i.write(r);const l=F(this.serialNumber,"base64");i.write(l);const c=F(this.subject,"hex");i.write(c);const u=F(this.certifier,"hex");i.write(u);const[h,m]=this.revocationOutpoint.split("."),p=F(h,"hex");i.write(p),i.writeVarIntNum(Number(m));const y=Object.keys(this.fields).sort();i.writeVarIntNum(y.length);for(const b of y){const x=this.fields[b],w=F(b,"utf8");i.writeVarIntNum(w.length),i.write(w);const S=F(x,"utf8");i.writeVarIntNum(S.length),i.write(S)}if(e&&(this.signature??"").length>0){const b=F(this.signature,"hex");i.write(b)}return i.toArray()}static fromBinary(e){const i=new fe(e),r=i.read(32),l=Tn(r),c=i.read(32),u=Tn(c),h=i.read(33),m=ht(h),p=i.read(33),y=ht(p),b=i.read(32),x=ht(b),w=i.readVarIntNum(),S=`${x}.${w}`,k=i.readVarIntNum(),C={};for(let Y=0;Y<k;Y++){const q=i.readVarIntNum(),W=i.read(q),$=Pt(W),st=i.readVarIntNum(),et=i.read(st),Q=Pt(et);C[$]=Q}let D;if(!i.eof()){const Y=i.read();D=qn.fromDER(Y).toString("hex")}return new Er(l,u,m,y,S,C,D)}async verify(){const e=new e3("anyone"),i=this.toBinary(!1),r=this.signature??"",{valid:l}=await e.verifySignature({signature:F(r,"hex"),data:i,protocolID:[2,"certificate signature"],keyID:`${this.type} ${this.serialNumber}`,counterparty:this.certifier});return l}async sign(e){if(this.signature!=null&&this.signature.length>0)throw new Error(`Certificate has already been signed! Signature present: ${this.signature}`);this.certifier=(await e.getPublicKey({identityKey:!0})).publicKey;const i=this.toBinary(!1),{signature:r}=await e.createSignature({data:i,protocolID:[2,"certificate signature"],keyID:`${this.type} ${this.serialNumber}`});this.signature=ht(r)}static getCertificateFieldEncryptionDetails(e,i){return{protocolID:[2,"certificate field encryption"],keyID:i?`${i} ${e}`:e}}static fromObject(e){return new Er(e.type,e.serialNumber,e.subject,e.certifier,e.revocationOutpoint,e.fields,e.signature)}}var xf;(function(o){o[o.createAction=1]="createAction",o[o.signAction=2]="signAction",o[o.abortAction=3]="abortAction",o[o.listActions=4]="listActions",o[o.internalizeAction=5]="internalizeAction",o[o.listOutputs=6]="listOutputs",o[o.relinquishOutput=7]="relinquishOutput",o[o.getPublicKey=8]="getPublicKey",o[o.revealCounterpartyKeyLinkage=9]="revealCounterpartyKeyLinkage",o[o.revealSpecificKeyLinkage=10]="revealSpecificKeyLinkage",o[o.encrypt=11]="encrypt",o[o.decrypt=12]="decrypt",o[o.createHmac=13]="createHmac",o[o.verifyHmac=14]="verifyHmac",o[o.createSignature=15]="createSignature",o[o.verifySignature=16]="verifySignature",o[o.acquireCertificate=17]="acquireCertificate",o[o.listCertificates=18]="listCertificates",o[o.proveCertificate=19]="proveCertificate",o[o.relinquishCertificate=20]="relinquishCertificate",o[o.discoverByIdentityKey=21]="discoverByIdentityKey",o[o.discoverByAttributes=22]="discoverByAttributes",o[o.isAuthenticated=23]="isAuthenticated",o[o.waitForAuthentication=24]="waitForAuthentication",o[o.getHeight=25]="getHeight",o[o.getHeaderForHeight=26]="getHeaderForHeight",o[o.getNetwork=27]="getNetwork",o[o.getVersion=28]="getVersion"})(xf||(xf={}));const l1=xf;class pp{wire;constructor(e){this.wire=e}async transmit(e,i="",r=[]){const l=new At;l.writeUInt8(l1[e]);const c=F(i,"utf8");l.writeUInt8(c.length),l.write(c),r.length>0&&l.write(r);const u=l.toArray(),h=await this.wire.transmitToWallet(u),m=new fe(h),p=m.readUInt8();if(p===0)return m.read();{const y=m.readVarIntNum(),b=m.read(y),x=Pt(b),w=m.readVarIntNum(),S=m.read(w),k=Pt(S);throw new zf(x,p,k)}}async createAction(e,i){const r=new At,l=F(e.description,"utf8");if(r.writeVarIntNum(l.length),r.write(l),e.inputBEEF!=null?(r.writeVarIntNum(e.inputBEEF.length),r.write(e.inputBEEF)):r.writeVarIntNum(-1),e.inputs!=null){r.writeVarIntNum(e.inputs.length);for(const w of e.inputs){if(r.write(this.encodeOutpoint(w.outpoint)),w.unlockingScript!=null&&w.unlockingScript!==""){const k=F(w.unlockingScript,"hex");r.writeVarIntNum(k.length),r.write(k)}else r.writeVarIntNum(-1),r.writeVarIntNum(w.unlockingScriptLength??0);const S=F(w.inputDescription,"utf8");r.writeVarIntNum(S.length),r.write(S),typeof w.sequenceNumber=="number"?r.writeVarIntNum(w.sequenceNumber):r.writeVarIntNum(-1)}}else r.writeVarIntNum(-1);if(e.outputs!=null){r.writeVarIntNum(e.outputs.length);for(const w of e.outputs){const S=F(w.lockingScript,"hex");r.writeVarIntNum(S.length),r.write(S),r.writeVarIntNum(w.satoshis);const k=F(w.outputDescription,"utf8");if(r.writeVarIntNum(k.length),r.write(k),w.basket!=null&&w.basket!==""){const C=F(w.basket,"utf8");r.writeVarIntNum(C.length),r.write(C)}else r.writeVarIntNum(-1);if(w.customInstructions!=null&&w.customInstructions!==""){const C=F(w.customInstructions,"utf8");r.writeVarIntNum(C.length),r.write(C)}else r.writeVarIntNum(-1);if(w.tags!=null){r.writeVarIntNum(w.tags.length);for(const C of w.tags){const D=F(C,"utf8");r.writeVarIntNum(D.length),r.write(D)}}else r.writeVarIntNum(-1)}}else r.writeVarIntNum(-1);if(typeof e.lockTime=="number"?r.writeVarIntNum(e.lockTime):r.writeVarIntNum(-1),typeof e.version=="number"?r.writeVarIntNum(e.version):r.writeVarIntNum(-1),e.labels!=null){r.writeVarIntNum(e.labels.length);for(const w of e.labels){const S=F(w,"utf8");r.writeVarIntNum(S.length),r.write(S)}}else r.writeVarIntNum(-1);if(e.options!=null){if(r.writeInt8(1),typeof e.options.signAndProcess=="boolean"?r.writeInt8(e.options.signAndProcess?1:0):r.writeInt8(-1),typeof e.options.acceptDelayedBroadcast=="boolean"?r.writeInt8(e.options.acceptDelayedBroadcast?1:0):r.writeInt8(-1),e.options.trustSelf==="known"?r.writeInt8(1):r.writeInt8(-1),e.options.knownTxids!=null){r.writeVarIntNum(e.options.knownTxids.length);for(const w of e.options.knownTxids){const S=F(w,"hex");r.write(S)}}else r.writeVarIntNum(-1);if(typeof e.options.returnTXIDOnly=="boolean"?r.writeInt8(e.options.returnTXIDOnly?1:0):r.writeInt8(-1),typeof e.options.noSend=="boolean"?r.writeInt8(e.options.noSend?1:0):r.writeInt8(-1),e.options.noSendChange!=null){r.writeVarIntNum(e.options.noSendChange.length);for(const w of e.options.noSendChange)r.write(this.encodeOutpoint(w))}else r.writeVarIntNum(-1);if(e.options.sendWith!=null){r.writeVarIntNum(e.options.sendWith.length);for(const w of e.options.sendWith){const S=F(w,"hex");r.write(S)}}else r.writeVarIntNum(-1);typeof e.options.randomizeOutputs=="boolean"?r.writeInt8(e.options.randomizeOutputs?1:0):r.writeInt8(-1)}else r.writeInt8(0);const c=await this.transmit("createAction",i,r.toArray()),u=new fe(c),h={};if(u.readInt8()===1){const w=u.read(32);h.txid=ht(w)}if(u.readInt8()===1){const w=u.readVarIntNum();h.tx=u.read(w)}const y=u.readVarIntNum();if(y>=0){h.noSendChange=[];for(let w=0;w<y;w++){const S=this.readOutpoint(u);h.noSendChange.push(S)}}const b=u.readVarIntNum();if(b>=0){h.sendWithResults=[];for(let w=0;w<b;w++){const S=u.read(32),k=ht(S),C=u.readInt8();let D="unproven";C===1?D="unproven":C===2?D="sending":C===3&&(D="failed"),h.sendWithResults.push({txid:k,status:D})}}if(u.readInt8()===1){const w=u.readVarIntNum(),S=u.read(w),k=u.readVarIntNum(),C=u.read(k);h.signableTransaction={tx:S,reference:Tn(C)}}return h}async signAction(e,i){const r=new At,l=Object.keys(e.spends);r.writeVarIntNum(l.length);for(const x of l){r.writeVarIntNum(Number(x));const w=e.spends[Number(x)],S=F(w.unlockingScript,"hex");r.writeVarIntNum(S.length),r.write(S),typeof w.sequenceNumber=="number"?r.writeVarIntNum(w.sequenceNumber):r.writeVarIntNum(-1)}const c=F(e.reference,"base64");if(r.writeVarIntNum(c.length),r.write(c),e.options!=null)if(r.writeInt8(1),typeof e.options.acceptDelayedBroadcast=="boolean"?r.writeInt8(e.options.acceptDelayedBroadcast?1:0):r.writeInt8(-1),typeof e.options.returnTXIDOnly=="boolean"?r.writeInt8(e.options.returnTXIDOnly?1:0):r.writeInt8(-1),typeof e.options.noSend=="boolean"?r.writeInt8(e.options.noSend?1:0):r.writeInt8(-1),e.options.sendWith!=null){r.writeVarIntNum(e.options.sendWith.length);for(const x of e.options.sendWith){const w=F(x,"hex");r.write(w)}}else r.writeVarIntNum(-1);else r.writeInt8(0);const u=await this.transmit("signAction",i,r.toArray()),h=new fe(u),m={};if(h.readInt8()===1){const x=h.read(32);m.txid=ht(x)}if(h.readInt8()===1){const x=h.readVarIntNum();m.tx=h.read(x)}const b=h.readVarIntNum();if(b>=0){m.sendWithResults=[];for(let x=0;x<b;x++){const w=h.read(32),S=ht(w),k=h.readInt8();let C="unproven";k===1?C="unproven":k===2?C="sending":k===3&&(C="failed"),m.sendWithResults.push({txid:S,status:C})}}return m}async abortAction(e,i){return await this.transmit("abortAction",i,F(e.reference,"base64")),{aborted:!0}}async listActions(e,i){const r=new At;r.writeVarIntNum(e.labels.length);for(const p of e.labels){const y=F(p,"utf8");r.writeVarIntNum(y.length),r.write(y)}e.labelQueryMode==="any"?r.writeInt8(1):e.labelQueryMode==="all"?r.writeInt8(2):r.writeInt8(-1);const l=[e.includeLabels,e.includeInputs,e.includeInputSourceLockingScripts,e.includeInputUnlockingScripts,e.includeOutputs,e.includeOutputLockingScripts];for(const p of l)typeof p=="boolean"?r.writeInt8(p?1:0):r.writeInt8(-1);typeof e.limit=="number"?r.writeVarIntNum(e.limit):r.writeVarIntNum(-1),typeof e.offset=="number"?r.writeVarIntNum(e.offset):r.writeVarIntNum(-1),r.writeInt8(typeof e.seekPermission=="boolean"?e.seekPermission?1:0:-1);const c=await this.transmit("listActions",i,r.toArray()),u=new fe(c),h=u.readVarIntNum(),m=[];for(let p=0;p<h;p++){const y=u.read(32),b=ht(y),x=u.readVarIntNum(),w=u.readInt8();let S;switch(w){case 1:S="completed";break;case 2:S="unprocessed";break;case 3:S="sending";break;case 4:S="unproven";break;case 5:S="unsigned";break;case 6:S="nosend";break;case 7:S="nonfinal";break;case 8:S="failed";break;default:throw new Error(`Unknown status code: ${w}`)}const k=u.readInt8()===1,C=u.readVarIntNum(),D=u.read(C),Y=Pt(D),q={txid:b,satoshis:x,status:S,isOutgoing:k,description:Y,version:0,lockTime:0},W=u.readVarIntNum();if(W>=0){q.labels=[];for(let et=0;et<W;et++){const Q=u.readVarIntNum(),ut=u.read(Q);q.labels.push(Pt(ut))}}q.version=u.readVarIntNum(),q.lockTime=u.readVarIntNum();const $=u.readVarIntNum();if($>=0){q.inputs=[];for(let et=0;et<$;et++){const Q=this.readOutpoint(u),ut=u.readVarIntNum(),Bt=u.readVarIntNum();let kt;if(Bt>=0){const K=u.read(Bt);kt=ht(K)}const yt=u.readVarIntNum();let Ot;if(yt>=0){const K=u.read(yt);Ot=ht(K)}const Ht=u.readVarIntNum(),tt=u.read(Ht),A=Pt(tt),L=u.readVarIntNum();q.inputs.push({sourceOutpoint:Q,sourceSatoshis:ut,sourceLockingScript:kt,unlockingScript:Ot,inputDescription:A,sequenceNumber:L})}}const st=u.readVarIntNum();if(st>=0){q.outputs=[];for(let et=0;et<st;et++){const Q=u.readVarIntNum(),ut=u.readVarIntNum(),Bt=u.readVarIntNum();let kt;if(Bt>=0){const H=u.read(Bt);kt=ht(H)}const yt=u.readInt8()===1,Ot=u.readVarIntNum(),Ht=u.read(Ot),tt=Pt(Ht),A=u.readVarIntNum();let L;if(A>=0){const H=u.read(A);L=Pt(H)}const K=u.readVarIntNum(),dt=[];if(K>=0)for(let H=0;H<K;H++){const V=u.readVarIntNum(),Z=u.read(V);dt.push(Pt(Z))}const bt=u.readVarIntNum();let N;if(bt>=0){const H=u.read(bt);N=Pt(H)}q.outputs.push({outputIndex:Q,satoshis:ut,lockingScript:kt,spendable:yt,outputDescription:tt,basket:L,tags:dt,customInstructions:N})}}m.push(q)}return{totalActions:h,actions:m}}async internalizeAction(e,i){const r=new At;r.writeVarIntNum(e.tx.length),r.write(e.tx),r.writeVarIntNum(e.outputs.length);for(const c of e.outputs)if(r.writeVarIntNum(c.outputIndex),c.protocol==="wallet payment"){if(c.paymentRemittance==null)throw new Error("Payment remittance is required for wallet payment");r.writeUInt8(1),r.write(F(c.paymentRemittance.senderIdentityKey,"hex"));const u=F(c.paymentRemittance.derivationPrefix,"base64");r.writeVarIntNum(u.length),r.write(u);const h=F(c.paymentRemittance.derivationSuffix,"base64");r.writeVarIntNum(h.length),r.write(h)}else{r.writeUInt8(2);const u=F(c.insertionRemittance?.basket,"utf8");if(r.writeVarIntNum(u.length),r.write(u),typeof c.insertionRemittance?.customInstructions=="string"&&c.insertionRemittance.customInstructions!==""){const h=F(c.insertionRemittance.customInstructions,"utf8");r.writeVarIntNum(h.length),r.write(h)}else r.writeVarIntNum(-1);if(typeof c.insertionRemittance?.tags=="object"){r.writeVarIntNum(c.insertionRemittance.tags.length);for(const h of c.insertionRemittance.tags){const m=F(h,"utf8");r.writeVarIntNum(m.length),r.write(m)}}else r.writeVarIntNum(0)}if(typeof e.labels=="object"){r.writeVarIntNum(e.labels.length);for(const c of e.labels){const u=F(c,"utf8");r.writeVarIntNum(u.length),r.write(u)}}else r.writeVarIntNum(-1);const l=F(e.description);return r.writeVarIntNum(l.length),r.write(l),r.writeInt8(typeof e.seekPermission=="boolean"?e.seekPermission?1:0:-1),await this.transmit("internalizeAction",i,r.toArray()),{accepted:!0}}async listOutputs(e,i){const r=new At,l=F(e.basket,"utf8");if(r.writeVarIntNum(l.length),r.write(l),typeof e.tags=="object"){r.writeVarIntNum(e.tags.length);for(const b of e.tags){const x=F(b,"utf8");r.writeVarIntNum(x.length),r.write(x)}}else r.writeVarIntNum(0);e.tagQueryMode==="all"?r.writeInt8(1):e.tagQueryMode==="any"?r.writeInt8(2):r.writeInt8(-1),e.include==="locking scripts"?r.writeInt8(1):e.include==="entire transactions"?r.writeInt8(2):r.writeInt8(-1),typeof e.includeCustomInstructions=="boolean"?r.writeInt8(e.includeCustomInstructions?1:0):r.writeInt8(-1),typeof e.includeTags=="boolean"?r.writeInt8(e.includeTags?1:0):r.writeInt8(-1),typeof e.includeLabels=="boolean"?r.writeInt8(e.includeLabels?1:0):r.writeInt8(-1),typeof e.limit=="number"?r.writeVarIntNum(e.limit):r.writeVarIntNum(-1),typeof e.offset=="number"?r.writeVarIntNum(e.offset):r.writeVarIntNum(-1),r.writeInt8(typeof e.seekPermission=="boolean"?e.seekPermission?1:0:-1);const c=await this.transmit("listOutputs",i,r.toArray()),u=new fe(c),h=u.readVarIntNum(),m=u.readVarIntNum();let p;m>=0&&(p=u.read(m));const y=[];for(let b=0;b<h;b++){const x=this.readOutpoint(u),w=u.readVarIntNum(),S={spendable:!0,outpoint:x,satoshis:w},k=u.readVarIntNum();k>=0&&(S.lockingScript=ht(u.read(k)));const C=u.readVarIntNum();C>=0&&(S.customInstructions=Pt(u.read(C)));const D=u.readVarIntNum();if(D!==-1){const q=[];for(let W=0;W<D;W++){const $=u.readVarIntNum();q.push(Pt(u.read($)))}S.tags=q}const Y=u.readVarIntNum();if(Y!==-1){const q=[];for(let W=0;W<Y;W++){const $=u.readVarIntNum();q.push(Pt(u.read($)))}S.labels=q}y.push(S)}return{totalOutputs:h,BEEF:p,outputs:y}}async relinquishOutput(e,i){const r=new At,l=F(e.basket,"utf8");return r.writeVarIntNum(l.length),r.write(l),r.write(this.encodeOutpoint(e.output)),await this.transmit("relinquishOutput",i,r.toArray()),{relinquished:!0}}encodeOutpoint(e){const i=new At,[r,l]=e.split(".");return i.write(F(r,"hex")),i.writeVarIntNum(Number(l)),i.toArray()}readOutpoint(e){const i=ht(e.read(32)),r=e.readVarIntNum();return`${i}.${r}`}async getPublicKey(e,i){const r=new At;r.writeUInt8(e.identityKey?1:0),e.identityKey?r.write(this.encodePrivilegedParams(e.privileged,e.privilegedReason)):(r.write(this.encodeKeyRelatedParams(e.protocolID??=[vf.Silent,"default"],e.keyID??="",e.counterparty,e.privileged,e.privilegedReason)),typeof e.forSelf=="boolean"?r.writeInt8(e.forSelf?1:0):r.writeInt8(-1)),r.writeInt8(typeof e.seekPermission=="boolean"?e.seekPermission?1:0:-1);const l=await this.transmit("getPublicKey",i,r.toArray());return{publicKey:ht(l)}}async revealCounterpartyKeyLinkage(e,i){const r=new At;r.write(this.encodePrivilegedParams(e.privileged,e.privilegedReason)),r.write(F(e.counterparty,"hex")),r.write(F(e.verifier,"hex"));const l=await this.transmit("revealCounterpartyKeyLinkage",i,r.toArray()),c=new fe(l),u=ht(c.read(33)),h=ht(c.read(33)),m=ht(c.read(33)),p=c.readVarIntNum(),y=Pt(c.read(p)),b=c.readVarIntNum(),x=c.read(b),w=c.readVarIntNum(),S=c.read(w);return{prover:u,verifier:h,counterparty:m,revelationTime:y,encryptedLinkage:x,encryptedLinkageProof:S}}async revealSpecificKeyLinkage(e,i){const r=new At;r.write(this.encodeKeyRelatedParams(e.protocolID,e.keyID,e.counterparty,e.privileged,e.privilegedReason)),r.write(F(e.verifier,"hex"));const l=await this.transmit("revealSpecificKeyLinkage",i,r.toArray()),c=new fe(l),u=ht(c.read(33)),h=ht(c.read(33)),m=ht(c.read(33)),p=c.readUInt8(),y=c.readVarIntNum(),b=Pt(c.read(y)),x=c.readVarIntNum(),w=Pt(c.read(x)),S=c.readVarIntNum(),k=c.read(S),C=c.readVarIntNum(),D=c.read(C),Y=c.readUInt8();return{prover:u,verifier:h,counterparty:m,protocolID:[p,b],keyID:w,encryptedLinkage:k,encryptedLinkageProof:D,proofType:Y}}async encrypt(e,i){const r=new At;return r.write(this.encodeKeyRelatedParams(e.protocolID,e.keyID,e.counterparty,e.privileged,e.privilegedReason)),r.writeVarIntNum(e.plaintext.length),r.write(e.plaintext),r.writeInt8(typeof e.seekPermission=="boolean"?e.seekPermission?1:0:-1),{ciphertext:await this.transmit("encrypt",i,r.toArray())}}async decrypt(e,i){const r=new At;return r.write(this.encodeKeyRelatedParams(e.protocolID,e.keyID,e.counterparty,e.privileged,e.privilegedReason)),r.writeVarIntNum(e.ciphertext.length),r.write(e.ciphertext),r.writeInt8(typeof e.seekPermission=="boolean"?e.seekPermission?1:0:-1),{plaintext:await this.transmit("decrypt",i,r.toArray())}}async createHmac(e,i){const r=new At;return r.write(this.encodeKeyRelatedParams(e.protocolID,e.keyID,e.counterparty,e.privileged,e.privilegedReason)),r.writeVarIntNum(e.data.length),r.write(e.data),r.writeInt8(typeof e.seekPermission=="boolean"?e.seekPermission?1:0:-1),{hmac:await this.transmit("createHmac",i,r.toArray())}}async verifyHmac(e,i){const r=new At;return r.write(this.encodeKeyRelatedParams(e.protocolID,e.keyID,e.counterparty,e.privileged,e.privilegedReason)),r.write(e.hmac),r.writeVarIntNum(e.data.length),r.write(e.data),r.writeInt8(typeof e.seekPermission=="boolean"?e.seekPermission?1:0:-1),await this.transmit("verifyHmac",i,r.toArray()),{valid:!0}}async createSignature(e,i){const r=new At;return r.write(this.encodeKeyRelatedParams(e.protocolID,e.keyID,e.counterparty,e.privileged,e.privilegedReason)),typeof e.data=="object"?(r.writeUInt8(1),r.writeVarIntNum(e.data.length),r.write(e.data)):(r.writeUInt8(2),r.write(e.hashToDirectlySign??=[])),r.writeInt8(typeof e.seekPermission=="boolean"?e.seekPermission?1:0:-1),{signature:await this.transmit("createSignature",i,r.toArray())}}async verifySignature(e,i){const r=new At;return r.write(this.encodeKeyRelatedParams(e.protocolID,e.keyID,e.counterparty,e.privileged,e.privilegedReason)),typeof e.forSelf=="boolean"?r.writeInt8(e.forSelf?1:0):r.writeInt8(-1),r.writeVarIntNum(e.signature.length),r.write(e.signature),typeof e.data=="object"?(r.writeUInt8(1),r.writeVarIntNum(e.data.length),r.write(e.data)):(r.writeUInt8(2),r.write(e.hashToDirectlyVerify??[])),r.writeInt8(typeof e.seekPermission=="boolean"?e.seekPermission?1:0:-1),await this.transmit("verifySignature",i,r.toArray()),{valid:!0}}encodeKeyRelatedParams(e,i,r,l,c){const u=new At;u.writeUInt8(e[0]);const h=F(e[1],"utf8");u.writeVarIntNum(h.length),u.write(h);const m=F(i,"utf8");return u.writeVarIntNum(m.length),u.write(m),typeof r!="string"?u.writeUInt8(0):r==="self"?u.writeUInt8(11):r==="anyone"?u.writeUInt8(12):u.write(F(r,"hex")),u.write(this.encodePrivilegedParams(l,c)),u.toArray()}async acquireCertificate(e,i){const r=new At;r.write(F(e.type,"base64")),r.write(F(e.certifier,"hex"));const l=Object.entries(e.fields);r.writeVarIntNum(l.length);for(const[h,m]of l){const p=F(h,"utf8"),y=F(m,"utf8");r.writeVarIntNum(p.length),r.write(p),r.writeVarIntNum(y.length),r.write(y)}if(r.write(this.encodePrivilegedParams(e.privileged,e.privilegedReason)),r.writeUInt8(e.acquisitionProtocol==="direct"?1:2),e.acquisitionProtocol==="direct"){r.write(F(e.serialNumber,"base64")),r.write(this.encodeOutpoint(e.revocationOutpoint??""));const h=F(e.signature,"hex");r.writeVarIntNum(h.length),r.write(h);const m=e.keyringRevealer!=="certifier"?F(e.keyringRevealer,"hex"):[11];r.write(m);const p=Object.keys(e.keyringForSubject??{});r.writeVarIntNum(p.length);for(let y=0;y<p.length;y++){const b=F(p[y],"utf8");r.writeVarIntNum(b.length),r.write(b);const x=F(e.keyringForSubject?.[p[y]],"base64");r.writeVarIntNum(x.length),r.write(x)}}else{const h=F(e.certifierUrl,"utf8");r.writeVarIntNum(h.length),r.write(h)}const c=await this.transmit("acquireCertificate",i,r.toArray()),u=Er.fromBinary(c);return{...u,signature:u.signature}}encodePrivilegedParams(e,i){const r=new At;if(typeof e=="boolean"?r.writeInt8(e?1:0):r.writeInt8(-1),typeof i=="string"){const l=F(i,"utf8");r.writeInt8(l.length),r.write(l)}else r.writeInt8(-1);return r.toArray()}async listCertificates(e,i){const r=new At;r.writeVarIntNum(e.certifiers.length);for(let m=0;m<e.certifiers.length;m++)r.write(F(e.certifiers[m],"hex"));r.writeVarIntNum(e.types.length);for(let m=0;m<e.types.length;m++)r.write(F(e.types[m],"base64"));typeof e.limit=="number"?r.writeVarIntNum(e.limit):r.writeVarIntNum(-1),typeof e.offset=="number"?r.writeVarIntNum(e.offset):r.writeVarIntNum(-1),r.write(this.encodePrivilegedParams(e.privileged,e.privilegedReason));const l=await this.transmit("listCertificates",i,r.toArray()),c=new fe(l),u=c.readVarIntNum(),h=[];for(let m=0;m<u;m++){const p=c.readVarIntNum(),y=c.read(p),b=Er.fromBinary(y),x={};if(c.readInt8()===1){const k=c.readVarIntNum();for(let C=0;C<k;C++){const D=c.readVarIntNum(),Y=Pt(c.read(D)),q=c.readVarIntNum();x[Y]=Tn(c.read(q))}}const w=c.readVarIntNum();let S;w>0&&(S=Pt(c.read(w))),h.push({...b,signature:b.signature,keyring:x,verifier:S})}return{totalCertificates:u,certificates:h}}async proveCertificate(e,i){const r=new At,l=F(e.certificate.type,"base64");r.write(l);const c=F(e.certificate.subject,"hex");r.write(c);const u=F(e.certificate.serialNumber,"base64");r.write(u);const h=F(e.certificate.certifier,"hex");r.write(h);const m=this.encodeOutpoint(e.certificate.revocationOutpoint??"");r.write(m);const p=F(e.certificate.signature,"hex");r.writeVarIntNum(p.length),r.write(p);const y=Object.entries(e.certificate.fields??{});r.writeVarIntNum(y.length);for(const[k,C]of y){const D=F(k,"utf8"),Y=F(C,"utf8");r.writeVarIntNum(D.length),r.write(D),r.writeVarIntNum(Y.length),r.write(Y)}r.writeVarIntNum(e.fieldsToReveal.length);for(const k of e.fieldsToReveal){const C=F(k,"utf8");r.writeVarIntNum(C.length),r.write(C)}r.write(F(e.verifier,"hex")),r.write(this.encodePrivilegedParams(e.privileged,e.privilegedReason));const b=await this.transmit("proveCertificate",i,r.toArray()),x=new fe(b),w=x.readVarIntNum(),S={};for(let k=0;k<w;k++){const C=x.readVarIntNum(),D=Pt(x.read(C)),Y=x.readVarIntNum();S[D]=Tn(x.read(Y))}return{keyringForVerifier:S}}async relinquishCertificate(e,i){const r=new At,l=F(e.type,"base64");r.write(l);const c=F(e.serialNumber,"base64");r.write(c);const u=F(e.certifier,"hex");return r.write(u),await this.transmit("relinquishCertificate",i,r.toArray()),{relinquished:!0}}parseDiscoveryResult(e){const i=new fe(e),r=i.readVarIntNum(),l=[];for(let c=0;c<r;c++){const u=i.readVarIntNum(),h=i.read(u),m=Er.fromBinary(h),p=i.readVarIntNum(),y=Pt(i.read(p)),b=i.readVarIntNum(),x=Pt(i.read(b)),w=i.readVarIntNum(),S=Pt(i.read(w)),k=i.readUInt8(),C={},D=i.readVarIntNum();for(let W=0;W<D;W++){const $=i.readVarIntNum(),st=Pt(i.read($)),et=i.readVarIntNum();C[st]=i.read(et)}const Y={},q=i.readVarIntNum();for(let W=0;W<q;W++){const $=i.readVarIntNum(),st=Pt(i.read($)),et=i.readVarIntNum();Y[st]=Pt(i.read(et))}l.push({...m,signature:m.signature,certifierInfo:{iconUrl:x,name:y,description:S,trust:k},publiclyRevealedKeyring:C,decryptedFields:Y})}return{totalCertificates:r,certificates:l}}async discoverByIdentityKey(e,i){const r=new At;r.write(F(e.identityKey,"hex")),typeof e.limit=="number"?r.writeVarIntNum(e.limit):r.writeVarIntNum(-1),typeof e.offset=="number"?r.writeVarIntNum(e.offset):r.writeVarIntNum(-1),r.writeInt8(typeof e.seekPermission=="boolean"?e.seekPermission?1:0:-1);const l=await this.transmit("discoverByIdentityKey",i,r.toArray());return this.parseDiscoveryResult(l)}async discoverByAttributes(e,i){const r=new At,l=Object.keys(e.attributes);r.writeVarIntNum(l.length);for(let u=0;u<l.length;u++)r.writeVarIntNum(l[u].length),r.write(F(l[u],"utf8")),r.writeVarIntNum(e.attributes[l[u]].length),r.write(F(e.attributes[l[u]],"utf8"));typeof e.limit=="number"?r.writeVarIntNum(e.limit):r.writeVarIntNum(-1),typeof e.offset=="number"?r.writeVarIntNum(e.offset):r.writeVarIntNum(-1),r.writeInt8(typeof e.seekPermission=="boolean"?e.seekPermission?1:0:-1);const c=await this.transmit("discoverByAttributes",i,r.toArray());return this.parseDiscoveryResult(c)}async isAuthenticated(e,i){return{authenticated:(await this.transmit("isAuthenticated",i))[0]===1}}async waitForAuthentication(e,i){return await this.transmit("waitForAuthentication",i),{authenticated:!0}}async getHeight(e,i){const r=await this.transmit("getHeight",i);return{height:new fe(r).readVarIntNum()}}async getHeaderForHeight(e,i){const r=new At;r.writeVarIntNum(e.height);const l=await this.transmit("getHeaderForHeight",i,r.toArray());return{header:ht(l)}}async getNetwork(e,i){return{network:(await this.transmit("getNetwork",i))[0]===0?"mainnet":"testnet"}}async getVersion(e,i){const r=await this.transmit("getVersion",i);return{version:Pt(r)}}}class bp{baseUrl;httpClient;originator;constructor(e,i="http://localhost:3301",r=fetch){this.baseUrl=i,this.httpClient=r,this.originator=e}async transmitToWallet(e){const i=new fe(e),r=i.readUInt8(),l=l1[r];if(l===void 0||l==="")throw new Error(`Invalid call code: ${r}`);const c=i.readUInt8();let u;if(c>0){const y=i.read(c);u=Pt(y)}const h=i.read(),p=await(await fetch(`${this.baseUrl}/${l}`,{method:"POST",headers:{"Content-Type":"application/octet-stream",Origin:u??""},body:new Uint8Array(h)})).arrayBuffer();return Array.from(new Uint8Array(p))}}class n3 extends Error{reviewActionResults;sendWithResults;txid;tx;noSendChange;code;isError=!0;constructor(e,i,r,l,c){super("Undelayed createAction or signAction results require review."),this.reviewActionResults=e,this.sendWithResults=i,this.txid=r,this.tx=l,this.noSendChange=c,this.code=5,this.name=this.constructor.name}}class xt extends Error{parameter;code;isError=!0;constructor(e,i){super(`The ${e} parameter must be ${i??"valid."}`),this.parameter=e,this.code=6,this.name=this.constructor.name}}function i3(o,e="http"){if(/^[a-z][a-z0-9+.-]*:\/\//i.test(o))try{return new URL(o).origin}catch{}try{return new URL(`${e}://${o}`).origin}catch{throw new Error(`Invalid originator value: ${o}`)}}class a3 extends Error{totalSatoshisNeeded;moreSatoshisNeeded;code;isError=!0;constructor(e,i){super(`Insufficient funds in the available inputs to cover the cost of the required outputs and the transaction fee (${i} more satoshis are needed, for a total of ${e}), plus whatever would be required in order to pay the fee to unlock and spend the outputs used to provide the additional satoshis.`),this.totalSatoshisNeeded=e,this.moreSatoshisNeeded=i,this.code=7,this.name=this.constructor.name}}class dl{baseUrl;httpClient;originator;api;constructor(e,i="http://localhost:3321",r=fetch){this.baseUrl=i,this.originator=e,this.httpClient=r;const l=typeof window<"u"&&typeof document<"u"&&window?.origin!=="file://";this.api=async(c,u)=>{const h=!l&&this.originator?i3(this.originator,"http"):void 0;!l&&h===void 0&&console.error("Originator is required in Node.js environments");const m=await await r(`${this.baseUrl}/${c}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...h?{Origin:h}:{},...h?{Originator:h}:{}},body:JSON.stringify(u)}),p=await m.json();if(!m.ok){if(m.status===400&&p.isError){let b;switch(p.code){case 5:b=new n3(p.reviewActionResults,p.sendWithResults,p.txid,p.tx,p.noSendChange);break;case 6:b=new xt(p.parameter),b.message=p.message;break;case 7:b=new a3(p.totalSatoshisNeeded,p.moreSatoshisNeeded);break}if(b)throw b}const y={call:c,args:u,message:p.message??`HTTP Client error ${m.status}`};throw new Error(JSON.stringify(y))}return p}}async createAction(e){return await this.api("createAction",e)}async signAction(e){return await this.api("signAction",e)}async abortAction(e){return await this.api("abortAction",e)}async listActions(e){return await this.api("listActions",e)}async internalizeAction(e){return await this.api("internalizeAction",e)}async listOutputs(e){return await this.api("listOutputs",e)}async relinquishOutput(e){return await this.api("relinquishOutput",e)}async getPublicKey(e){return await this.api("getPublicKey",e)}async revealCounterpartyKeyLinkage(e){return await this.api("revealCounterpartyKeyLinkage",e)}async revealSpecificKeyLinkage(e){return await this.api("revealSpecificKeyLinkage",e)}async encrypt(e){return await this.api("encrypt",e)}async decrypt(e){return await this.api("decrypt",e)}async createHmac(e){return await this.api("createHmac",e)}async verifyHmac(e){return await this.api("verifyHmac",e)}async createSignature(e){return await this.api("createSignature",e)}async verifySignature(e){return await this.api("verifySignature",e)}async acquireCertificate(e){return await this.api("acquireCertificate",e)}async listCertificates(e){return await this.api("listCertificates",e)}async proveCertificate(e){return await this.api("proveCertificate",e)}async relinquishCertificate(e){return await this.api("relinquishCertificate",e)}async discoverByIdentityKey(e){return await this.api("discoverByIdentityKey",e)}async discoverByAttributes(e){return await this.api("discoverByAttributes",e)}async isAuthenticated(e){return await this.api("isAuthenticated",e)}async waitForAuthentication(e){return await this.api("waitForAuthentication",e)}async getHeight(e){return await this.api("getHeight",e)}async getHeaderForHeight(e){return await this.api("getHeaderForHeight",e)}async getNetwork(e){return await this.api("getNetwork",e)}async getVersion(e){return await this.api("getVersion",e)}}class gp{domain;constructor(e="*"){if(typeof window!="object")throw new Error("The XDM substrate requires a global window object.");if(!window.hasOwnProperty("ReactNativeWebView"))throw new Error("The window object does not have a ReactNativeWebView property.");if(typeof window.ReactNativeWebView.postMessage!="function")throw new Error("The window.ReactNativeWebView property does not seem to support postMessage calls.");this.domain=e}async invoke(e,i){return await new Promise((r,l)=>{const c=Tn(kn(12)),u=h=>{const m=JSON.parse(h.data);if(!(m.type!=="CWI"||m.id!==c||m.isInvocation===!0))if(typeof window.removeEventListener=="function"&&window.removeEventListener("message",u),m.status==="error"){const p=new zf(m.description,m.code);l(p)}else r(m.result)};window.addEventListener("message",u),window.ReactNativeWebView.postMessage(JSON.stringify({type:"CWI",isInvocation:!0,id:c,call:e,args:i}))})}async createAction(e){return await this.invoke("createAction",e)}async signAction(e){return await this.invoke("signAction",e)}async abortAction(e){return await this.invoke("abortAction",e)}async listActions(e){return await this.invoke("listActions",e)}async internalizeAction(e){return await this.invoke("internalizeAction",e)}async listOutputs(e){return await this.invoke("listOutputs",e)}async relinquishOutput(e){return await this.invoke("relinquishOutput",e)}async getPublicKey(e){return await this.invoke("getPublicKey",e)}async revealCounterpartyKeyLinkage(e){return await this.invoke("revealCounterpartyKeyLinkage",e)}async revealSpecificKeyLinkage(e){return await this.invoke("revealSpecificKeyLinkage",e)}async encrypt(e){return await this.invoke("encrypt",e)}async decrypt(e){return await this.invoke("decrypt",e)}async createHmac(e){return await this.invoke("createHmac",e)}async verifyHmac(e){return await this.invoke("verifyHmac",e)}async createSignature(e){return await this.invoke("createSignature",e)}async verifySignature(e){return await this.invoke("verifySignature",e)}async acquireCertificate(e){return await this.invoke("acquireCertificate",e)}async listCertificates(e){return await this.invoke("listCertificates",e)}async proveCertificate(e){return await this.invoke("proveCertificate",e)}async relinquishCertificate(e){return await this.invoke("relinquishCertificate",e)}async discoverByIdentityKey(e){return await this.invoke("discoverByIdentityKey",e)}async discoverByAttributes(e){return await this.invoke("discoverByAttributes",e)}async isAuthenticated(e){return await this.invoke("isAuthenticated",e)}async waitForAuthentication(e){return await this.invoke("waitForAuthentication",e)}async getHeight(e){return await this.invoke("getHeight",e)}async getHeaderForHeight(e){return await this.invoke("getHeaderForHeight",e)}async getNetwork(e){return await this.invoke("getNetwork",e)}async getVersion(e){return await this.invoke("getVersion",e)}}function c1(o){const[e,i]=o.split(".");return{txid:e,vout:Number(i)}}function wa(o){return o??!0}function me(o){return o??!1}function zl(o){return o??0}function r3(o){return o??4294967295}function s3(o){return o??1}function vn(o){return o??[]}function js(o,e,i,r){if(o!==void 0)return In(o,e,i,r)}function o3(o,e,i){if(o===void 0||!Number.isInteger(o)||o<0||o>21e14)throw new xt(e,"a valid number of satoshis");return o}function Fi(o,e,i,r,l){if(o===void 0){if(i!==void 0)return i;throw new xt(e,"a valid integer")}if(!Number.isInteger(o))throw new xt(e,"an integer");if(o=Number(o),r!==void 0&&o<r)throw new xt(e,`at least ${r} length.`);if(l!==void 0&&o>l)throw new xt(e,`no more than ${l} length.`);return o}function qs(o,e){return Fi(o,e,0,0)}function In(o,e,i,r){const l=F(o,"utf8").length;if(i!==void 0&&l<i)throw new xt(e,`at least ${i} length.`);if(r!==void 0&&l>r)throw new xt(e,`no more than ${r} length.`);return o}function l3(o){if(o!==void 0)return Uf(o)}function Uf(o){return Lf(o,"basket",1,300)}function Hf(o){return Lf(o,"label",1,300)}function u1(o){return Lf(o,"tag",1,300)}function Lf(o,e,i,r){o=o.trim().toLowerCase();const l=F(o,"utf8").length;if(l<i)throw new xt(e,`at least ${i} length.`);if(l>r)throw new xt(e,`no more than ${r} length.`);return o}function yp(o,e,i,r){if(o!==void 0)return Cn(o,e)}function Cn(o,e,i,r){if(o=o.trim(),o.length===0)throw new xt(e,"valid base64 string");let l=0;for(let u=0;u<o.length;u++){const h=o.charCodeAt(u);if(!(h>=65&&h<=90)&&!(h>=97&&h<=122)&&!(h>=48&&h<=57)&&h!==43&&h!==47){if(h===61){if(u<o.length-2)throw new xt(e,"valid base64 string");l++;continue}throw new xt(e,"valid base64 string")}}if(l>2)throw new xt(e,"valid base64 string");if(l>0&&o.length%4!==0)throw new xt(e,"valid base64 string");const c=o.length%4;if(c!==0&&c!==4-l)throw new xt(e,"valid base64 string");return o.length-l,o}function gl(o,e,i,r){if(o!==void 0)return xn(o,e,i,r)}function xn(o,e,i,r){if(o=o.trim().toLowerCase(),o.length%2===1)throw new xt(e,`even length, not ${o.length}.`);if(!/^[0-9A-Fa-f]+$/.test(o))throw new xt(e,"hexadecimal string.");if(i!==void 0&&o.length<i)throw new xt(e,`at least ${i} length.`);if(r!==void 0&&o.length>r)throw new xt(e,`no more than ${r} length.`);return o}function c3(o){if(o.unlockingScript===void 0&&o.unlockingScriptLength===void 0)throw new xt("unlockingScript, unlockingScriptLength","at least one valid value.");const e=gl(o.unlockingScript,"unlockingScript"),i=o.unlockingScriptLength??(e!=null?e.length/2:0);if(e&&i!==e.length/2)throw new xt("unlockingScriptLength","length unlockingScript if both valid.");return{outpoint:c1(o.outpoint),inputDescription:In(o.inputDescription,"inputDescription",5,2e3),unlockingScript:e,unlockingScriptLength:i,sequenceNumber:r3(o.sequenceNumber)}}function u3(o){return{lockingScript:xn(o.lockingScript,"lockingScript"),satoshis:o3(o.satoshis,"satoshis"),outputDescription:In(o.outputDescription,"outputDescription",5,2e3),basket:l3(o.basket),customInstructions:o.customInstructions,tags:vn(o.tags).map(i=>u1(i))}}function f3(o){const e=o??{};return{signAndProcess:wa(e.signAndProcess),acceptDelayedBroadcast:wa(e.acceptDelayedBroadcast),knownTxids:vn(e.knownTxids),returnTXIDOnly:me(e.returnTXIDOnly),noSend:me(e.noSend),noSendChange:vn(e.noSendChange).map(r=>c1(r)),sendWith:vn(e.sendWith),randomizeOutputs:wa(e.randomizeOutputs)}}function d3(o,e){const i={description:In(o.description,"description",5,2e3),inputBEEF:o.inputBEEF,inputs:vn(o.inputs).map(r=>c3(r)),outputs:vn(o.outputs).map(r=>u3(r)),lockTime:zl(o.lockTime),version:s3(o.version),labels:vn(o.labels?.map(r=>Hf(r))),options:f3(o.options),logger:e,isSendWith:!1,isDelayed:!1,isNoSend:!1,isNewTx:!1,isRemixChange:!1,isSignAction:!1,randomVals:void 0,includeAllSourceTransactions:!1,isTestWerrReviewActions:!1};return i.isTestWerrReviewActions=i.labels.includes(B3),i.isSendWith=i.options.sendWith.length>0,i.isRemixChange=!i.isSendWith&&i.inputs.length===0&&i.outputs.length===0,i.isNewTx=i.isRemixChange||i.inputs.length>0||i.outputs.length>0,i.isSignAction=i.isNewTx&&(!i.options.signAndProcess||i.inputs.some(r=>r.unlockingScript===void 0)),i.isDelayed=i.options.acceptDelayedBroadcast,i.isNoSend=i.options.noSend,i}function h3(o){const e=o??{};return{acceptDelayedBroadcast:wa(e.acceptDelayedBroadcast),returnTXIDOnly:me(e.returnTXIDOnly),noSend:me(e.noSend),sendWith:vn(e.sendWith)}}function m3(o){const e={spends:o.spends,reference:o.reference,options:h3(o.options),isSendWith:!1,isDelayed:!1,isNoSend:!1,isNewTx:!0,isRemixChange:!1,isTestWerrReviewActions:!1};return e.isSendWith=e.options.sendWith.length>0,e.isDelayed=e.options.acceptDelayedBroadcast,e.isNoSend=e.options.noSend,e}function p3(o){return{reference:Cn(o.reference,"reference")}}function b3(o){return o===void 0?void 0:{derivationPrefix:Cn(o.derivationPrefix,"derivationPrefix"),derivationSuffix:Cn(o.derivationSuffix,"derivationSuffix"),senderIdentityKey:xn(o.senderIdentityKey,"senderIdentityKey")}}function g3(o){return o===void 0?void 0:{basket:Uf(o.basket),customInstructions:js(o.customInstructions,"customInstructions",0,1e3),tags:vn(o.tags).map(i=>u1(i))}}function y3(o){if(o.protocol!=="basket insertion"&&o.protocol!=="wallet payment")throw new xt("protocol","'basket insertion' or 'wallet payment'");return{outputIndex:qs(o.outputIndex,"outputIndex"),protocol:o.protocol,paymentRemittance:b3(o.paymentRemittance),insertionRemittance:g3(o.insertionRemittance)}}function v3(o){const e={tx:o.tx,outputs:o.outputs.map(i=>y3(i)),description:In(o.description,"description",5,2e3),labels:(o.labels!=null?o.labels:[]).map(i=>Hf(i)),seekPermission:wa(o.seekPermission)};try{if(Xi.fromBinary(e.tx).txs.length<1)throw new xt("tx","at least one transaction to internalize an output from")}catch{throw new xt("tx","valid with at least one transaction to internalize an output from")}if(e.outputs.length<1)throw new xt("outputs","at least one output to internalize from the transaction");return e}function x3(o,e){if(o!==void 0)return Vf(o,e)}function Vf(o,e){const i=o.split(".");if(i.length!==2||!Number.isInteger(Number(i[1])))throw new xt(e,"txid as hex string and numeric output index joined with '.'");const r=xn(i[0],`${e} txid`,void 0,64),l=qs(Number(i[1]),`${e} vout`);return`${r}.${l}`}function w3(o){return{basket:Uf(o.basket),output:Vf(o.output,"output")}}function S3(o){return{type:Cn(o.type,"type"),serialNumber:Cn(o.serialNumber,"serialNumber"),certifier:xn(o.certifier,"certifier")}}function E3(o){return{certifiers:vn(o.certifiers.map(i=>xn(i.trim(),"certifiers"))),types:vn(o.types.map(i=>Cn(i.trim(),"types"))),limit:Fi(o.limit,"limit",10,1,1e4),offset:qs(zl(o.offset),"offset"),privileged:me(o.privileged),privilegedReason:js(o.privilegedReason,"privilegedReason",5,50),partial:void 0}}function f1(o){for(const e of Object.keys(o))In(e,"field name",1,50);return o}function A3(o,e){return o==="certifier"?o:xn(o,e)}function O3(o,e){for(const i of Object.keys(o))In(i,`${e} field name`,1,50),Cn(o[i],`${e} field value`);return o}function _3(o){if(o.acquisitionProtocol!=="issuance")throw new Error("Only acquire certificate via issuance requests allowed here.");if(o.serialNumber)throw new xt("serialNumber",'valid when acquisitionProtocol is "direct"');if(o.signature)throw new xt("signature",'valid when acquisitionProtocol is "direct"');if(o.revocationOutpoint)throw new xt("revocationOutpoint",'valid when acquisitionProtocol is "direct"');if(o.keyringRevealer)throw new xt("keyringRevealer",'valid when acquisitionProtocol is "direct"');if(o.keyringForSubject!=null)throw new xt("keyringForSubject",'valid when acquisitionProtocol is "direct"');if(!o.certifierUrl)throw new xt("certifierUrl",'valid when acquisitionProtocol is "issuance"');if(o.privileged&&!o.privilegedReason)throw new xt("privilegedReason","valid when 'privileged' is true ");return{type:Cn(o.type,"type"),certifier:xn(o.certifier,"certifier"),certifierUrl:o.certifierUrl,fields:f1(o.fields),privileged:me(o.privileged),privilegedReason:js(o.privilegedReason,"privilegedReason",5,50),subject:""}}function N3(o){if(o.acquisitionProtocol!=="direct")throw new Error("Only acquire direct certificate requests allowed here.");if(!o.serialNumber)throw new xt("serialNumber",'valid when acquisitionProtocol is "direct"');if(!o.signature)throw new xt("signature",'valid when acquisitionProtocol is "direct"');if(!o.revocationOutpoint)throw new xt("revocationOutpoint",'valid when acquisitionProtocol is "direct"');if(!o.keyringRevealer)throw new xt("keyringRevealer",'valid when acquisitionProtocol is "direct"');if(o.keyringForSubject==null)throw new xt("keyringForSubject",'valid when acquisitionProtocol is "direct"');if(o.privileged&&!o.privilegedReason)throw new xt("privilegedReason","valid when 'privileged' is true ");return{type:Cn(o.type,"type"),serialNumber:Cn(o.serialNumber,"serialNumber"),certifier:xn(o.certifier,"certifier"),revocationOutpoint:Vf(o.revocationOutpoint,"revocationOutpoint"),fields:f1(o.fields),signature:xn(o.signature,"signature"),keyringRevealer:A3(o.keyringRevealer,"keyringRevealer"),keyringForSubject:O3(o.keyringForSubject,"keyringForSubject"),privileged:me(o.privileged),privilegedReason:js(o.privilegedReason,"privilegedReason",5,50),subject:""}}function T3(o){if(o.privileged&&!o.privilegedReason)throw new xt("privilegedReason","valid when 'privileged' is true ");return{type:yp(o.certificate.type,"certificate.type"),serialNumber:yp(o.certificate.serialNumber,"certificate.serialNumber"),certifier:gl(o.certificate.certifier,"certificate.certifier"),subject:gl(o.certificate.subject,"certificate.subject"),revocationOutpoint:x3(o.certificate.revocationOutpoint,"certificate.revocationOutpoint"),signature:gl(o.certificate.signature,"certificate.signature"),fieldsToReveal:vn(o.fieldsToReveal).map(i=>In(i,`fieldsToReveal ${i}`,1,50)),verifier:xn(o.verifier,"verifier"),privileged:me(o.privileged),privilegedReason:js(o.privilegedReason,"privilegedReason",5,50)}}function k3(o){return{identityKey:xn(o.identityKey,"identityKey",66,66),limit:Fi(o.limit,"limit",10,1,1e4),offset:qs(zl(o.offset),"offset"),seekPermission:me(o.seekPermission)}}function I3(o){for(const e of Object.keys(o))In(e,`field name ${e}`,1,50);return o}function C3(o){return{attributes:I3(o.attributes),limit:Fi(o.limit,"limit",10,1,1e4),offset:qs(zl(o.offset),"offset"),seekPermission:me(o.seekPermission)}}function R3(o){let e;if(o.tagQueryMode===void 0||o.tagQueryMode==="any")e="any";else if(o.tagQueryMode==="all")e="all";else throw new xt("tagQueryMode","undefined, 'any', or 'all'");return{basket:In(o.basket,"basket",1,300),tags:(o.tags!=null?o.tags:[]).map(r=>In(r,"tag",1,300)),tagQueryMode:e,includeLockingScripts:o.include==="locking scripts",includeTransactions:o.include==="entire transactions",includeCustomInstructions:me(o.includeCustomInstructions),includeTags:me(o.includeTags),includeLabels:me(o.includeLabels),limit:Fi(o.limit,"limit",10,1,1e4),offset:Fi(o.offset,"offset",0,void 0,void 0),seekPermission:wa(o.seekPermission),knownTxids:[]}}function M3(o){let e;if(o.labelQueryMode===void 0||o.labelQueryMode==="any")e="any";else if(o.labelQueryMode==="all")e="all";else throw new xt("labelQueryMode","undefined, 'any', or 'all'");return{labels:(o.labels!=null?o.labels:[]).map(r=>Hf(r)),labelQueryMode:e,includeLabels:me(o.includeLabels),includeInputs:me(o.includeInputs),includeInputSourceLockingScripts:me(o.includeInputSourceLockingScripts),includeInputUnlockingScripts:me(o.includeInputUnlockingScripts),includeOutputs:me(o.includeOutputs),includeOutputLockingScripts:me(o.includeOutputLockingScripts),limit:Fi(o.limit,"limit",10,1,1e4),offset:Fi(o.offset,"offset",0,0),seekPermission:wa(o.seekPermission)}}const B3="a496e747fc3ad5fabdd4ae8f91184e71f87539bd3d962aa2548942faaaf0047a",D3=200;class z3{substrate;originator;constructor(e="auto",i){e==="Cicada"&&(e=new pp(new bp(i))),e==="window.CWI"&&(e=new dp),e==="XDM"&&(e=new mp),e==="json-api"&&(e=new dl(i)),e==="react-native"&&(e=new gp(i)),e==="secure-json-api"&&(e=new dl(i,"https://localhost:2121")),this.substrate=e,this.originator=i}async connectToSubstrate(){if(typeof this.substrate=="object")return;const e=async(u,h)=>{try{const m=u();let p;return typeof h=="number"?p=await Promise.race([m.getVersion({}),new Promise((y,b)=>setTimeout(()=>b(new Error("Timed out.")),h))]):p=await m.getVersion({}),typeof p!="object"||typeof p.version!="string"?{success:!1}:{success:!0,sub:m}}catch{return{success:!1}}},i=[e(()=>new dp),e(()=>new dl(this.originator,"https://localhost:2121")),e(()=>new dl(this.originator)),e(()=>new gp(this.originator)),e(()=>new pp(new bp(this.originator)))],l=(await Promise.allSettled(i)).filter(u=>u.status==="fulfilled"&&u.value.success&&u.value.sub!==void 0).map(u=>u.value.sub);if(l.length>0){this.substrate=l[0];return}const c=await e(()=>new mp,D3);if(c.success&&c.sub!==void 0)this.substrate=c.sub;else throw new Error("No wallet available over any communication substrate. Install a BSV wallet today!")}async createAction(e){return d3(e),await this.connectToSubstrate(),await this.substrate.createAction(e,this.originator)}async signAction(e){return m3(e),await this.connectToSubstrate(),await this.substrate.signAction(e,this.originator)}async abortAction(e){return p3(e),await this.connectToSubstrate(),await this.substrate.abortAction(e,this.originator)}async listActions(e){return M3(e),await this.connectToSubstrate(),await this.substrate.listActions(e,this.originator)}async internalizeAction(e){return v3(e),await this.connectToSubstrate(),await this.substrate.internalizeAction(e,this.originator)}async listOutputs(e){return R3(e),await this.connectToSubstrate(),await this.substrate.listOutputs(e,this.originator)}async relinquishOutput(e){return w3(e),await this.connectToSubstrate(),await this.substrate.relinquishOutput(e,this.originator)}async getPublicKey(e){return await this.connectToSubstrate(),await this.substrate.getPublicKey(e,this.originator)}async revealCounterpartyKeyLinkage(e){return await this.connectToSubstrate(),await this.substrate.revealCounterpartyKeyLinkage(e,this.originator)}async revealSpecificKeyLinkage(e){return await this.connectToSubstrate(),await this.substrate.revealSpecificKeyLinkage(e,this.originator)}async encrypt(e){return await this.connectToSubstrate(),await this.substrate.encrypt(e,this.originator)}async decrypt(e){return await this.connectToSubstrate(),await this.substrate.decrypt(e,this.originator)}async createHmac(e){return await this.connectToSubstrate(),await this.substrate.createHmac(e,this.originator)}async verifyHmac(e){return await this.connectToSubstrate(),await this.substrate.verifyHmac(e,this.originator)}async createSignature(e){return await this.connectToSubstrate(),await this.substrate.createSignature(e,this.originator)}async verifySignature(e){return await this.connectToSubstrate(),await this.substrate.verifySignature(e,this.originator)}async acquireCertificate(e){if(e.acquisitionProtocol==="direct")N3(e);else if(e.acquisitionProtocol==="issuance")_3(e);else throw new xt("acquisitionProtocol",`valid. ${String(e.acquisitionProtocol)} is unrecognized.`);return await this.connectToSubstrate(),await this.substrate.acquireCertificate(e,this.originator)}async listCertificates(e){return E3(e),await this.connectToSubstrate(),await this.substrate.listCertificates(e,this.originator)}async proveCertificate(e){return T3(e),await this.connectToSubstrate(),await this.substrate.proveCertificate(e,this.originator)}async relinquishCertificate(e){return S3(e),await this.connectToSubstrate(),await this.substrate.relinquishCertificate(e,this.originator)}async discoverByIdentityKey(e){return k3(e),await this.connectToSubstrate(),await this.substrate.discoverByIdentityKey(e,this.originator)}async discoverByAttributes(e){return C3(e),await this.connectToSubstrate(),await this.substrate.discoverByAttributes(e,this.originator)}async isAuthenticated(e={}){return await this.connectToSubstrate(),await this.substrate.isAuthenticated(e,this.originator)}async waitForAuthentication(e={}){return await this.connectToSubstrate(),await this.substrate.waitForAuthentication(e,this.originator)}async getHeight(e={}){return await this.connectToSubstrate(),await this.substrate.getHeight(e,this.originator)}async getHeaderForHeight(e){return await this.connectToSubstrate(),await this.substrate.getHeaderForHeight(e,this.originator)}async getNetwork(e={}){return await this.connectToSubstrate(),await this.substrate.getNetwork(e,this.originator)}async getVersion(e={}){return await this.connectToSubstrate(),await this.substrate.getVersion(e,this.originator)}}typeof globalThis<"u"&&typeof globalThis.fetch=="function"&&globalThis.fetch.bind(globalThis);const vp=1500,xp=.25,U3=1e3,H3=6e4,L3=400,V3=30,lf=2,wp="bsvsdk_overlay_host_reputation_v1";class P3{stats;store;constructor(e){this.stats=new Map,this.store=e??this.getLocalStorageAdapter(),this.loadFromStorage()}reset(){this.stats.clear()}recordSuccess(e,i){const r=this.getOrCreate(e),l=Date.now(),c=Number.isFinite(i)&&i>=0?i:vp;r.avgLatencyMs===null?r.avgLatencyMs=c:r.avgLatencyMs=(1-xp)*r.avgLatencyMs+xp*c,r.lastLatencyMs=c,r.totalSuccesses+=1,r.consecutiveFailures=0,r.backoffUntil=0,r.lastUpdatedAt=l,r.lastError=void 0,this.saveToStorage()}recordFailure(e,i){const r=this.getOrCreate(e),l=Date.now();r.totalFailures+=1,r.consecutiveFailures+=1;const c=typeof i=="string"?i:i instanceof Error?i.message:void 0;typeof c=="string"&&(c.includes("ERR_NAME_NOT_RESOLVED")||c.includes("ENOTFOUND")||c.includes("getaddrinfo")||c.includes("Failed to fetch"))&&r.consecutiveFailures<lf+1&&(r.consecutiveFailures=lf+1);const h=Math.max(r.consecutiveFailures-lf,0);if(h===0)r.backoffUntil=0;else{const m=Math.min(H3,U3*Math.pow(2,h-1));r.backoffUntil=l+m}r.lastUpdatedAt=l,r.lastError=typeof i=="string"?i:i instanceof Error?i.message:void 0,this.saveToStorage()}rankHosts(e,i=Date.now()){const r=new Map;e.forEach((u,h)=>{typeof u!="string"||u.length===0||r.has(u)||r.set(u,h)});const c=Array.from(r.keys()).map(u=>{const h=this.getOrCreate(u);return{...h,score:this.computeScore(h,i),originalOrder:r.get(u)??0}});return c.sort((u,h)=>{const m=u.backoffUntil>i,p=h.backoffUntil>i;return m!==p?m?1:-1:u.score!==h.score?u.score-h.score:u.totalSuccesses!==h.totalSuccesses?h.totalSuccesses-u.totalSuccesses:u.originalOrder-h.originalOrder}),c.map(({originalOrder:u,...h})=>h)}snapshot(e){const i=this.stats.get(e);return i!=null?{...i}:void 0}getStorage(){try{const e=typeof globalThis=="object"?globalThis:void 0;return e==null||e.localStorage==null?void 0:e.localStorage}catch{return}}getLocalStorageAdapter(){const e=this.getStorage();if(e!=null)return{get:i=>{try{return e.getItem(i)}catch{return null}},set:(i,r)=>{try{e.setItem(i,r)}catch{}}}}loadFromStorage(){const e=this.store;if(e!=null)try{const i=e.get(wp);if(typeof i!="string"||i.length===0)return;const r=JSON.parse(i);if(typeof r!="object"||r===null)return;this.stats.clear();for(const l of Object.keys(r)){const c=r[l];if(c!=null&&typeof c=="object"){const u={host:String(c.host??l),totalSuccesses:Number(c.totalSuccesses??0),totalFailures:Number(c.totalFailures??0),consecutiveFailures:Number(c.consecutiveFailures??0),avgLatencyMs:c.avgLatencyMs==null?null:Number(c.avgLatencyMs),lastLatencyMs:c.lastLatencyMs==null?null:Number(c.lastLatencyMs),backoffUntil:Number(c.backoffUntil??0),lastUpdatedAt:Number(c.lastUpdatedAt??0),lastError:typeof c.lastError=="string"?c.lastError:void 0};this.stats.set(u.host,u)}}}catch{}}saveToStorage(){const e=this.store;if(e!=null)try{const i={};for(const[r,l]of this.stats.entries())i[r]=l;e.set(wp,JSON.stringify(i))}catch{}}computeScore(e,i){const r=e.avgLatencyMs??vp,l=e.consecutiveFailures*L3,c=Math.min(e.totalSuccesses*V3,r/2),u=e.backoffUntil>i?e.backoffUntil-i:0;return r+l+u-c}getOrCreate(e){let i=this.stats.get(e);return i==null&&(i={host:e,totalSuccesses:0,totalFailures:0,consecutiveFailures:0,avgLatencyMs:null,lastLatencyMs:null,backoffUntil:0,lastUpdatedAt:0},this.stats.set(e,i)),i}}new P3;typeof globalThis<"u"&&typeof globalThis.fetch=="function"&&globalThis.fetch.bind(globalThis);const d1=j.createContext(void 0),j3=({children:o})=>{const[e,i]=j.useState(null),[r,l]=j.useState(!1),[c,u]=j.useState(null);return j.useEffect(()=>{(async()=>{try{const m=new z3;i(m),l(!0)}catch(m){console.error("Failed to initialize wallet:",m),u("Failed to initialize wallet. Please ensure Panda Wallet or a compatible wallet is installed."),l(!1)}})()},[]),I.jsx(d1.Provider,{value:{wallet:e,isInitialized:r,error:c},children:o})},q3=()=>{const o=j.useContext(d1);if(o===void 0)throw new Error("useWallet must be used within a WalletProvider");return o};function di(o,e,{checkForDefaultPrevented:i=!0}={}){return function(l){if(o?.(l),i===!1||!l.defaultPrevented)return e?.(l)}}function Pf(o,e=[]){let i=[];function r(c,u){const h=j.createContext(u),m=i.length;i=[...i,u];const p=b=>{const{scope:x,children:w,...S}=b,k=x?.[o]?.[m]||h,C=j.useMemo(()=>S,Object.values(S));return I.jsx(k.Provider,{value:C,children:w})};p.displayName=c+"Provider";function y(b,x){const w=x?.[o]?.[m]||h,S=j.useContext(w);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${c}\``)}return[p,y]}const l=()=>{const c=i.map(u=>j.createContext(u));return function(h){const m=h?.[o]||c;return j.useMemo(()=>({[`__scope${o}`]:{...h,[o]:m}}),[h,m])}};return l.scopeName=o,[r,K3(l,...e)]}function K3(...o){const e=o[0];if(o.length===1)return e;const i=()=>{const r=o.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const u=r.reduce((h,{useScope:m,scopeName:p})=>{const b=m(c)[`__scope${p}`];return{...h,...b}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return i.scopeName=e.scopeName,i}function Sp(o,e){if(typeof o=="function")return o(e);o!=null&&(o.current=e)}function Ul(...o){return e=>{let i=!1;const r=o.map(l=>{const c=Sp(l,e);return!i&&typeof c=="function"&&(i=!0),c});if(i)return()=>{for(let l=0;l<r.length;l++){const c=r[l];typeof c=="function"?c():Sp(o[l],null)}}}}function Cl(...o){return j.useCallback(Ul(...o),o)}function Ep(o){const e=G3(o),i=j.forwardRef((r,l)=>{const{children:c,...u}=r,h=j.Children.toArray(c),m=h.find(X3);if(m){const p=m.props.children,y=h.map(b=>b===m?j.Children.count(p)>1?j.Children.only(null):j.isValidElement(p)?p.props.children:null:b);return I.jsx(e,{...u,ref:l,children:j.isValidElement(p)?j.cloneElement(p,void 0,y):null})}return I.jsx(e,{...u,ref:l,children:c})});return i.displayName=`${o}.Slot`,i}function G3(o){const e=j.forwardRef((i,r)=>{const{children:l,...c}=i;if(j.isValidElement(l)){const u=Z3(l),h=F3(c,l.props);return l.type!==j.Fragment&&(h.ref=r?Ul(r,u):u),j.cloneElement(l,h)}return j.Children.count(l)>1?j.Children.only(null):null});return e.displayName=`${o}.SlotClone`,e}var Y3=Symbol("radix.slottable");function X3(o){return j.isValidElement(o)&&typeof o.type=="function"&&"__radixId"in o.type&&o.type.__radixId===Y3}function F3(o,e){const i={...e};for(const r in e){const l=o[r],c=e[r];/^on[A-Z]/.test(r)?l&&c?i[r]=(...h)=>{const m=c(...h);return l(...h),m}:l&&(i[r]=l):r==="style"?i[r]={...l,...c}:r==="className"&&(i[r]=[l,c].filter(Boolean).join(" "))}return{...o,...i}}function Z3(o){let e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning;return i?o.ref:(e=Object.getOwnPropertyDescriptor(o,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning,i?o.props.ref:o.props.ref||o.ref)}function Q3(o){const e=o+"CollectionProvider",[i,r]=Pf(e),[l,c]=i(e,{collectionRef:{current:null},itemMap:new Map}),u=k=>{const{scope:C,children:D}=k,Y=J.useRef(null),q=J.useRef(new Map).current;return I.jsx(l,{scope:C,itemMap:q,collectionRef:Y,children:D})};u.displayName=e;const h=o+"CollectionSlot",m=Ep(h),p=J.forwardRef((k,C)=>{const{scope:D,children:Y}=k,q=c(h,D),W=Cl(C,q.collectionRef);return I.jsx(m,{ref:W,children:Y})});p.displayName=h;const y=o+"CollectionItemSlot",b="data-radix-collection-item",x=Ep(y),w=J.forwardRef((k,C)=>{const{scope:D,children:Y,...q}=k,W=J.useRef(null),$=Cl(C,W),st=c(y,D);return J.useEffect(()=>(st.itemMap.set(W,{ref:W,...q}),()=>void st.itemMap.delete(W))),I.jsx(x,{[b]:"",ref:$,children:Y})});w.displayName=y;function S(k){const C=c(o+"CollectionConsumer",k);return J.useCallback(()=>{const Y=C.collectionRef.current;if(!Y)return[];const q=Array.from(Y.querySelectorAll(`[${b}]`));return Array.from(C.itemMap.values()).sort((st,et)=>q.indexOf(st.ref.current)-q.indexOf(et.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:u,Slot:p,ItemSlot:w},S,r]}var Rl=globalThis?.document?j.useLayoutEffect:()=>{},W3=Of[" useId ".trim().toString()]||(()=>{}),J3=0;function h1(o){const[e,i]=j.useState(W3());return Rl(()=>{i(r=>r??String(J3++))},[o]),o||(e?`radix-${e}`:"")}var $3=Bp();const tv=Mp($3);function ev(o){const e=nv(o),i=j.forwardRef((r,l)=>{const{children:c,...u}=r,h=j.Children.toArray(c),m=h.find(av);if(m){const p=m.props.children,y=h.map(b=>b===m?j.Children.count(p)>1?j.Children.only(null):j.isValidElement(p)?p.props.children:null:b);return I.jsx(e,{...u,ref:l,children:j.isValidElement(p)?j.cloneElement(p,void 0,y):null})}return I.jsx(e,{...u,ref:l,children:c})});return i.displayName=`${o}.Slot`,i}function nv(o){const e=j.forwardRef((i,r)=>{const{children:l,...c}=i;if(j.isValidElement(l)){const u=sv(l),h=rv(c,l.props);return l.type!==j.Fragment&&(h.ref=r?Ul(r,u):u),j.cloneElement(l,h)}return j.Children.count(l)>1?j.Children.only(null):null});return e.displayName=`${o}.SlotClone`,e}var iv=Symbol("radix.slottable");function av(o){return j.isValidElement(o)&&typeof o.type=="function"&&"__radixId"in o.type&&o.type.__radixId===iv}function rv(o,e){const i={...e};for(const r in e){const l=o[r],c=e[r];/^on[A-Z]/.test(r)?l&&c?i[r]=(...h)=>{const m=c(...h);return l(...h),m}:l&&(i[r]=l):r==="style"?i[r]={...l,...c}:r==="className"&&(i[r]=[l,c].filter(Boolean).join(" "))}return{...o,...i}}function sv(o){let e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning;return i?o.ref:(e=Object.getOwnPropertyDescriptor(o,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning,i?o.props.ref:o.props.ref||o.ref)}var ov=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ir=ov.reduce((o,e)=>{const i=ev(`Primitive.${e}`),r=j.forwardRef((l,c)=>{const{asChild:u,...h}=l,m=u?i:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),I.jsx(m,{...h,ref:c})});return r.displayName=`Primitive.${e}`,{...o,[e]:r}},{});function lv(o){const e=j.useRef(o);return j.useEffect(()=>{e.current=o}),j.useMemo(()=>(...i)=>e.current?.(...i),[])}var cv=Of[" useInsertionEffect ".trim().toString()]||Rl;function m1({prop:o,defaultProp:e,onChange:i=()=>{},caller:r}){const[l,c,u]=uv({defaultProp:e,onChange:i}),h=o!==void 0,m=h?o:l;{const y=j.useRef(o!==void 0);j.useEffect(()=>{const b=y.current;b!==h&&console.warn(`${r} is changing from ${b?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=h},[h,r])}const p=j.useCallback(y=>{if(h){const b=fv(y)?y(o):y;b!==o&&u.current?.(b)}else c(y)},[h,o,c,u]);return[m,p]}function uv({defaultProp:o,onChange:e}){const[i,r]=j.useState(o),l=j.useRef(i),c=j.useRef(e);return cv(()=>{c.current=e},[e]),j.useEffect(()=>{l.current!==i&&(c.current?.(i),l.current=i)},[i,l]),[i,r,c]}function fv(o){return typeof o=="function"}var dv=j.createContext(void 0);function p1(o){const e=j.useContext(dv);return o||e||"ltr"}var cf="rovingFocusGroup.onEntryFocus",hv={bubbles:!1,cancelable:!0},Ks="RovingFocusGroup",[wf,b1,mv]=Q3(Ks),[pv,g1]=Pf(Ks,[mv]),[bv,gv]=pv(Ks),y1=j.forwardRef((o,e)=>I.jsx(wf.Provider,{scope:o.__scopeRovingFocusGroup,children:I.jsx(wf.Slot,{scope:o.__scopeRovingFocusGroup,children:I.jsx(yv,{...o,ref:e})})}));y1.displayName=Ks;var yv=j.forwardRef((o,e)=>{const{__scopeRovingFocusGroup:i,orientation:r,loop:l=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:m,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,...b}=o,x=j.useRef(null),w=Cl(e,x),S=p1(c),[k,C]=m1({prop:u,defaultProp:h??null,onChange:m,caller:Ks}),[D,Y]=j.useState(!1),q=lv(p),W=b1(i),$=j.useRef(!1),[st,et]=j.useState(0);return j.useEffect(()=>{const Q=x.current;if(Q)return Q.addEventListener(cf,q),()=>Q.removeEventListener(cf,q)},[q]),I.jsx(bv,{scope:i,orientation:r,dir:S,loop:l,currentTabStopId:k,onItemFocus:j.useCallback(Q=>C(Q),[C]),onItemShiftTab:j.useCallback(()=>Y(!0),[]),onFocusableItemAdd:j.useCallback(()=>et(Q=>Q+1),[]),onFocusableItemRemove:j.useCallback(()=>et(Q=>Q-1),[]),children:I.jsx(Ir.div,{tabIndex:D||st===0?-1:0,"data-orientation":r,...b,ref:w,style:{outline:"none",...o.style},onMouseDown:di(o.onMouseDown,()=>{$.current=!0}),onFocus:di(o.onFocus,Q=>{const ut=!$.current;if(Q.target===Q.currentTarget&&ut&&!D){const Bt=new CustomEvent(cf,hv);if(Q.currentTarget.dispatchEvent(Bt),!Bt.defaultPrevented){const kt=W().filter(A=>A.focusable),yt=kt.find(A=>A.active),Ot=kt.find(A=>A.id===k),tt=[yt,Ot,...kt].filter(Boolean).map(A=>A.ref.current);w1(tt,y)}}$.current=!1}),onBlur:di(o.onBlur,()=>Y(!1))})})}),v1="RovingFocusGroupItem",x1=j.forwardRef((o,e)=>{const{__scopeRovingFocusGroup:i,focusable:r=!0,active:l=!1,tabStopId:c,children:u,...h}=o,m=h1(),p=c||m,y=gv(v1,i),b=y.currentTabStopId===p,x=b1(i),{onFocusableItemAdd:w,onFocusableItemRemove:S,currentTabStopId:k}=y;return j.useEffect(()=>{if(r)return w(),()=>S()},[r,w,S]),I.jsx(wf.ItemSlot,{scope:i,id:p,focusable:r,active:l,children:I.jsx(Ir.span,{tabIndex:b?0:-1,"data-orientation":y.orientation,...h,ref:e,onMouseDown:di(o.onMouseDown,C=>{r?y.onItemFocus(p):C.preventDefault()}),onFocus:di(o.onFocus,()=>y.onItemFocus(p)),onKeyDown:di(o.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){y.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const D=wv(C,y.orientation,y.dir);if(D!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let q=x().filter(W=>W.focusable).map(W=>W.ref.current);if(D==="last")q.reverse();else if(D==="prev"||D==="next"){D==="prev"&&q.reverse();const W=q.indexOf(C.currentTarget);q=y.loop?Sv(q,W+1):q.slice(W+1)}setTimeout(()=>w1(q))}}),children:typeof u=="function"?u({isCurrentTabStop:b,hasTabStop:k!=null}):u})})});x1.displayName=v1;var vv={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xv(o,e){return e!=="rtl"?o:o==="ArrowLeft"?"ArrowRight":o==="ArrowRight"?"ArrowLeft":o}function wv(o,e,i){const r=xv(o.key,i);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return vv[r]}function w1(o,e=!1){const i=document.activeElement;for(const r of o)if(r===i||(r.focus({preventScroll:e}),document.activeElement!==i))return}function Sv(o,e){return o.map((i,r)=>o[(e+r)%o.length])}var Ev=y1,Av=x1;function Ov(o,e){return j.useReducer((i,r)=>e[i][r]??i,o)}var S1=o=>{const{present:e,children:i}=o,r=_v(e),l=typeof i=="function"?i({present:r.isPresent}):j.Children.only(i),c=Cl(r.ref,Nv(l));return typeof i=="function"||r.isPresent?j.cloneElement(l,{ref:c}):null};S1.displayName="Presence";function _v(o){const[e,i]=j.useState(),r=j.useRef(null),l=j.useRef(o),c=j.useRef("none"),u=o?"mounted":"unmounted",[h,m]=Ov(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const p=hl(r.current);c.current=h==="mounted"?p:"none"},[h]),Rl(()=>{const p=r.current,y=l.current;if(y!==o){const x=c.current,w=hl(p);o?m("MOUNT"):w==="none"||p?.display==="none"?m("UNMOUNT"):m(y&&x!==w?"ANIMATION_OUT":"UNMOUNT"),l.current=o}},[o,m]),Rl(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,b=w=>{const k=hl(r.current).includes(CSS.escape(w.animationName));if(w.target===e&&k&&(m("ANIMATION_END"),!l.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},x=w=>{w.target===e&&(c.current=hl(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",b),e.addEventListener("animationend",b),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",b),e.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:j.useCallback(p=>{r.current=p?getComputedStyle(p):null,i(p)},[])}}function hl(o){return o?.animationName||"none"}function Nv(o){let e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning;return i?o.ref:(e=Object.getOwnPropertyDescriptor(o,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning,i?o.props.ref:o.props.ref||o.ref)}var Hl="Tabs",[Tv]=Pf(Hl,[g1]),E1=g1(),[kv,jf]=Tv(Hl),A1=j.forwardRef((o,e)=>{const{__scopeTabs:i,value:r,onValueChange:l,defaultValue:c,orientation:u="horizontal",dir:h,activationMode:m="automatic",...p}=o,y=p1(h),[b,x]=m1({prop:r,onChange:l,defaultProp:c??"",caller:Hl});return I.jsx(kv,{scope:i,baseId:h1(),value:b,onValueChange:x,orientation:u,dir:y,activationMode:m,children:I.jsx(Ir.div,{dir:y,"data-orientation":u,...p,ref:e})})});A1.displayName=Hl;var O1="TabsList",_1=j.forwardRef((o,e)=>{const{__scopeTabs:i,loop:r=!0,...l}=o,c=jf(O1,i),u=E1(i);return I.jsx(Ev,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:r,children:I.jsx(Ir.div,{role:"tablist","aria-orientation":c.orientation,...l,ref:e})})});_1.displayName=O1;var N1="TabsTrigger",Ds=j.forwardRef((o,e)=>{const{__scopeTabs:i,value:r,disabled:l=!1,...c}=o,u=jf(N1,i),h=E1(i),m=k1(u.baseId,r),p=I1(u.baseId,r),y=r===u.value;return I.jsx(Av,{asChild:!0,...h,focusable:!l,active:y,children:I.jsx(Ir.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":p,"data-state":y?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:m,...c,ref:e,onMouseDown:di(o.onMouseDown,b=>{!l&&b.button===0&&b.ctrlKey===!1?u.onValueChange(r):b.preventDefault()}),onKeyDown:di(o.onKeyDown,b=>{[" ","Enter"].includes(b.key)&&u.onValueChange(r)}),onFocus:di(o.onFocus,()=>{const b=u.activationMode!=="manual";!y&&!l&&b&&u.onValueChange(r)})})})});Ds.displayName=N1;var T1="TabsContent",zs=j.forwardRef((o,e)=>{const{__scopeTabs:i,value:r,forceMount:l,children:c,...u}=o,h=jf(T1,i),m=k1(h.baseId,r),p=I1(h.baseId,r),y=r===h.value,b=j.useRef(y);return j.useEffect(()=>{const x=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(x)},[]),I.jsx(S1,{present:l||y,children:({present:x})=>I.jsx(Ir.div,{"data-state":y?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":m,hidden:!x,id:p,tabIndex:0,...u,ref:e,style:{...o.style,animationDuration:b.current?"0s":void 0},children:x&&c})})});zs.displayName=T1;function k1(o,e){return`${o}-trigger-${e}`}function I1(o,e){return`${o}-content-${e}`}function C1(o){var e,i,r="";if(typeof o=="string"||typeof o=="number")r+=o;else if(typeof o=="object")if(Array.isArray(o)){var l=o.length;for(e=0;e<l;e++)o[e]&&(i=C1(o[e]))&&(r&&(r+=" "),r+=i)}else for(i in o)o[i]&&(r&&(r+=" "),r+=i);return r}function R1(){for(var o,e,i=0,r="",l=arguments.length;i<l;i++)(o=arguments[i])&&(e=C1(o))&&(r&&(r+=" "),r+=e);return r}const Iv=(o,e)=>{const i=new Array(o.length+e.length);for(let r=0;r<o.length;r++)i[r]=o[r];for(let r=0;r<e.length;r++)i[o.length+r]=e[r];return i},Cv=(o,e)=>({classGroupId:o,validator:e}),M1=(o=new Map,e=null,i)=>({nextPart:o,validators:e,classGroupId:i}),Ml="-",Ap=[],Rv="arbitrary..",Mv=o=>{const e=Dv(o),{conflictingClassGroups:i,conflictingClassGroupModifiers:r}=o;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return Bv(u);const h=u.split(Ml),m=h[0]===""&&h.length>1?1:0;return B1(h,m,e)},getConflictingClassGroupIds:(u,h)=>{if(h){const m=r[u],p=i[u];return m?p?Iv(p,m):m:p||Ap}return i[u]||Ap}}},B1=(o,e,i)=>{if(o.length-e===0)return i.classGroupId;const l=o[e],c=i.nextPart.get(l);if(c){const p=B1(o,e+1,c);if(p)return p}const u=i.validators;if(u===null)return;const h=e===0?o.join(Ml):o.slice(e).join(Ml),m=u.length;for(let p=0;p<m;p++){const y=u[p];if(y.validator(h))return y.classGroupId}},Bv=o=>o.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=o.slice(1,-1),i=e.indexOf(":"),r=e.slice(0,i);return r?Rv+r:void 0})(),Dv=o=>{const{theme:e,classGroups:i}=o;return zv(i,e)},zv=(o,e)=>{const i=M1();for(const r in o){const l=o[r];qf(l,i,r,e)}return i},qf=(o,e,i,r)=>{const l=o.length;for(let c=0;c<l;c++){const u=o[c];Uv(u,e,i,r)}},Uv=(o,e,i,r)=>{if(typeof o=="string"){Hv(o,e,i);return}if(typeof o=="function"){Lv(o,e,i,r);return}Vv(o,e,i,r)},Hv=(o,e,i)=>{const r=o===""?e:D1(e,o);r.classGroupId=i},Lv=(o,e,i,r)=>{if(Pv(o)){qf(o(r),e,i,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Cv(i,o))},Vv=(o,e,i,r)=>{const l=Object.entries(o),c=l.length;for(let u=0;u<c;u++){const[h,m]=l[u];qf(m,D1(e,h),i,r)}},D1=(o,e)=>{let i=o;const r=e.split(Ml),l=r.length;for(let c=0;c<l;c++){const u=r[c];let h=i.nextPart.get(u);h||(h=M1(),i.nextPart.set(u,h)),i=h}return i},Pv=o=>"isThemeGetter"in o&&o.isThemeGetter===!0,jv=o=>{if(o<1)return{get:()=>{},set:()=>{}};let e=0,i=Object.create(null),r=Object.create(null);const l=(c,u)=>{i[c]=u,e++,e>o&&(e=0,r=i,i=Object.create(null))};return{get(c){let u=i[c];if(u!==void 0)return u;if((u=r[c])!==void 0)return l(c,u),u},set(c,u){c in i?i[c]=u:l(c,u)}}},Sf="!",Op=":",qv=[],_p=(o,e,i,r,l)=>({modifiers:o,hasImportantModifier:e,baseClassName:i,maybePostfixModifierPosition:r,isExternal:l}),Kv=o=>{const{prefix:e,experimentalParseClassName:i}=o;let r=l=>{const c=[];let u=0,h=0,m=0,p;const y=l.length;for(let k=0;k<y;k++){const C=l[k];if(u===0&&h===0){if(C===Op){c.push(l.slice(m,k)),m=k+1;continue}if(C==="/"){p=k;continue}}C==="["?u++:C==="]"?u--:C==="("?h++:C===")"&&h--}const b=c.length===0?l:l.slice(m);let x=b,w=!1;b.endsWith(Sf)?(x=b.slice(0,-1),w=!0):b.startsWith(Sf)&&(x=b.slice(1),w=!0);const S=p&&p>m?p-m:void 0;return _p(c,w,x,S)};if(e){const l=e+Op,c=r;r=u=>u.startsWith(l)?c(u.slice(l.length)):_p(qv,!1,u,void 0,!0)}if(i){const l=r;r=c=>i({className:c,parseClassName:l})}return r},Gv=o=>{const e=new Map;return o.orderSensitiveModifiers.forEach((i,r)=>{e.set(i,1e6+r)}),i=>{const r=[];let l=[];for(let c=0;c<i.length;c++){const u=i[c],h=u[0]==="[",m=e.has(u);h||m?(l.length>0&&(l.sort(),r.push(...l),l=[]),r.push(u)):l.push(u)}return l.length>0&&(l.sort(),r.push(...l)),r}},Yv=o=>({cache:jv(o.cacheSize),parseClassName:Kv(o),sortModifiers:Gv(o),...Mv(o)}),Xv=/\s+/,Fv=(o,e)=>{const{parseClassName:i,getClassGroupId:r,getConflictingClassGroupIds:l,sortModifiers:c}=e,u=[],h=o.trim().split(Xv);let m="";for(let p=h.length-1;p>=0;p-=1){const y=h[p],{isExternal:b,modifiers:x,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:k}=i(y);if(b){m=y+(m.length>0?" "+m:m);continue}let C=!!k,D=r(C?S.substring(0,k):S);if(!D){if(!C){m=y+(m.length>0?" "+m:m);continue}if(D=r(S),!D){m=y+(m.length>0?" "+m:m);continue}C=!1}const Y=x.length===0?"":x.length===1?x[0]:c(x).join(":"),q=w?Y+Sf:Y,W=q+D;if(u.indexOf(W)>-1)continue;u.push(W);const $=l(D,C);for(let st=0;st<$.length;++st){const et=$[st];u.push(q+et)}m=y+(m.length>0?" "+m:m)}return m},Zv=(...o)=>{let e=0,i,r,l="";for(;e<o.length;)(i=o[e++])&&(r=z1(i))&&(l&&(l+=" "),l+=r);return l},z1=o=>{if(typeof o=="string")return o;let e,i="";for(let r=0;r<o.length;r++)o[r]&&(e=z1(o[r]))&&(i&&(i+=" "),i+=e);return i},Qv=(o,...e)=>{let i,r,l,c;const u=m=>{const p=e.reduce((y,b)=>b(y),o());return i=Yv(p),r=i.cache.get,l=i.cache.set,c=h,h(m)},h=m=>{const p=r(m);if(p)return p;const y=Fv(m,i);return l(m,y),y};return c=u,(...m)=>c(Zv(...m))},Wv=[],he=o=>{const e=i=>i[o]||Wv;return e.isThemeGetter=!0,e},U1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,H1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Jv=/^\d+\/\d+$/,$v=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,t6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,e6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,n6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,i6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yr=o=>Jv.test(o),_t=o=>!!o&&!Number.isNaN(Number(o)),Yi=o=>!!o&&Number.isInteger(Number(o)),uf=o=>o.endsWith("%")&&_t(o.slice(0,-1)),ui=o=>$v.test(o),a6=()=>!0,r6=o=>t6.test(o)&&!e6.test(o),L1=()=>!1,s6=o=>n6.test(o),o6=o=>i6.test(o),l6=o=>!at(o)&&!rt(o),c6=o=>Cr(o,j1,L1),at=o=>U1.test(o),ya=o=>Cr(o,q1,r6),ff=o=>Cr(o,m6,_t),Np=o=>Cr(o,V1,L1),u6=o=>Cr(o,P1,o6),ml=o=>Cr(o,K1,s6),rt=o=>H1.test(o),Cs=o=>Rr(o,q1),f6=o=>Rr(o,p6),Tp=o=>Rr(o,V1),d6=o=>Rr(o,j1),h6=o=>Rr(o,P1),pl=o=>Rr(o,K1,!0),Cr=(o,e,i)=>{const r=U1.exec(o);return r?r[1]?e(r[1]):i(r[2]):!1},Rr=(o,e,i=!1)=>{const r=H1.exec(o);return r?r[1]?e(r[1]):i:!1},V1=o=>o==="position"||o==="percentage",P1=o=>o==="image"||o==="url",j1=o=>o==="length"||o==="size"||o==="bg-size",q1=o=>o==="length",m6=o=>o==="number",p6=o=>o==="family-name",K1=o=>o==="shadow",b6=()=>{const o=he("color"),e=he("font"),i=he("text"),r=he("font-weight"),l=he("tracking"),c=he("leading"),u=he("breakpoint"),h=he("container"),m=he("spacing"),p=he("radius"),y=he("shadow"),b=he("inset-shadow"),x=he("text-shadow"),w=he("drop-shadow"),S=he("blur"),k=he("perspective"),C=he("aspect"),D=he("ease"),Y=he("animate"),q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...W(),rt,at],st=()=>["auto","hidden","clip","visible","scroll"],et=()=>["auto","contain","none"],Q=()=>[rt,at,m],ut=()=>[yr,"full","auto",...Q()],Bt=()=>[Yi,"none","subgrid",rt,at],kt=()=>["auto",{span:["full",Yi,rt,at]},Yi,rt,at],yt=()=>[Yi,"auto",rt,at],Ot=()=>["auto","min","max","fr",rt,at],Ht=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],tt=()=>["start","end","center","stretch","center-safe","end-safe"],A=()=>["auto",...Q()],L=()=>[yr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Q()],K=()=>[o,rt,at],dt=()=>[...W(),Tp,Np,{position:[rt,at]}],bt=()=>["no-repeat",{repeat:["","x","y","space","round"]}],N=()=>["auto","cover","contain",d6,c6,{size:[rt,at]}],H=()=>[uf,Cs,ya],V=()=>["","none","full",p,rt,at],Z=()=>["",_t,Cs,ya],nt=()=>["solid","dashed","dotted","double"],lt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ct=()=>[_t,uf,Tp,Np],wt=()=>["","none",S,rt,at],Mt=()=>["none",_t,rt,at],ke=()=>["none",_t,rt,at],Ze=()=>[_t,rt,at],Ie=()=>[yr,"full",...Q()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ui],breakpoint:[ui],color:[a6],container:[ui],"drop-shadow":[ui],ease:["in","out","in-out"],font:[l6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ui],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ui],shadow:[ui],spacing:["px",_t],text:[ui],"text-shadow":[ui],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",yr,at,rt,C]}],container:["container"],columns:[{columns:[_t,at,rt,h]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:st()}],"overflow-x":[{"overflow-x":st()}],"overflow-y":[{"overflow-y":st()}],overscroll:[{overscroll:et()}],"overscroll-x":[{"overscroll-x":et()}],"overscroll-y":[{"overscroll-y":et()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ut()}],"inset-x":[{"inset-x":ut()}],"inset-y":[{"inset-y":ut()}],start:[{start:ut()}],end:[{end:ut()}],top:[{top:ut()}],right:[{right:ut()}],bottom:[{bottom:ut()}],left:[{left:ut()}],visibility:["visible","invisible","collapse"],z:[{z:[Yi,"auto",rt,at]}],basis:[{basis:[yr,"full","auto",h,...Q()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_t,yr,"auto","initial","none",at]}],grow:[{grow:["",_t,rt,at]}],shrink:[{shrink:["",_t,rt,at]}],order:[{order:[Yi,"first","last","none",rt,at]}],"grid-cols":[{"grid-cols":Bt()}],"col-start-end":[{col:kt()}],"col-start":[{"col-start":yt()}],"col-end":[{"col-end":yt()}],"grid-rows":[{"grid-rows":Bt()}],"row-start-end":[{row:kt()}],"row-start":[{"row-start":yt()}],"row-end":[{"row-end":yt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ot()}],"auto-rows":[{"auto-rows":Ot()}],gap:[{gap:Q()}],"gap-x":[{"gap-x":Q()}],"gap-y":[{"gap-y":Q()}],"justify-content":[{justify:[...Ht(),"normal"]}],"justify-items":[{"justify-items":[...tt(),"normal"]}],"justify-self":[{"justify-self":["auto",...tt()]}],"align-content":[{content:["normal",...Ht()]}],"align-items":[{items:[...tt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...tt(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ht()}],"place-items":[{"place-items":[...tt(),"baseline"]}],"place-self":[{"place-self":["auto",...tt()]}],p:[{p:Q()}],px:[{px:Q()}],py:[{py:Q()}],ps:[{ps:Q()}],pe:[{pe:Q()}],pt:[{pt:Q()}],pr:[{pr:Q()}],pb:[{pb:Q()}],pl:[{pl:Q()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":Q()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Q()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[h,"screen",...L()]}],"min-w":[{"min-w":[h,"screen","none",...L()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...L()]}],h:[{h:["screen","lh",...L()]}],"min-h":[{"min-h":["screen","lh","none",...L()]}],"max-h":[{"max-h":["screen","lh",...L()]}],"font-size":[{text:["base",i,Cs,ya]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,rt,ff]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",uf,at]}],"font-family":[{font:[f6,at,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,rt,at]}],"line-clamp":[{"line-clamp":[_t,"none",rt,ff]}],leading:[{leading:[c,...Q()]}],"list-image":[{"list-image":["none",rt,at]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",rt,at]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...nt(),"wavy"]}],"text-decoration-thickness":[{decoration:[_t,"from-font","auto",rt,ya]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[_t,"auto",rt,at]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt,at]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt,at]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:dt()}],"bg-repeat":[{bg:bt()}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Yi,rt,at],radial:["",rt,at],conic:[Yi,rt,at]},h6,u6]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...nt(),"hidden","none"]}],"divide-style":[{divide:[...nt(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...nt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_t,rt,at]}],"outline-w":[{outline:["",_t,Cs,ya]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",y,pl,ml]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",b,pl,ml]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[_t,ya]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",x,pl,ml]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[_t,rt,at]}],"mix-blend":[{"mix-blend":[...lt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":lt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_t]}],"mask-image-linear-from-pos":[{"mask-linear-from":ct()}],"mask-image-linear-to-pos":[{"mask-linear-to":ct()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":ct()}],"mask-image-t-to-pos":[{"mask-t-to":ct()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":ct()}],"mask-image-r-to-pos":[{"mask-r-to":ct()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":ct()}],"mask-image-b-to-pos":[{"mask-b-to":ct()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":ct()}],"mask-image-l-to-pos":[{"mask-l-to":ct()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":ct()}],"mask-image-x-to-pos":[{"mask-x-to":ct()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":ct()}],"mask-image-y-to-pos":[{"mask-y-to":ct()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[rt,at]}],"mask-image-radial-from-pos":[{"mask-radial-from":ct()}],"mask-image-radial-to-pos":[{"mask-radial-to":ct()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":W()}],"mask-image-conic-pos":[{"mask-conic":[_t]}],"mask-image-conic-from-pos":[{"mask-conic-from":ct()}],"mask-image-conic-to-pos":[{"mask-conic-to":ct()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:dt()}],"mask-repeat":[{mask:bt()}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",rt,at]}],filter:[{filter:["","none",rt,at]}],blur:[{blur:wt()}],brightness:[{brightness:[_t,rt,at]}],contrast:[{contrast:[_t,rt,at]}],"drop-shadow":[{"drop-shadow":["","none",w,pl,ml]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",_t,rt,at]}],"hue-rotate":[{"hue-rotate":[_t,rt,at]}],invert:[{invert:["",_t,rt,at]}],saturate:[{saturate:[_t,rt,at]}],sepia:[{sepia:["",_t,rt,at]}],"backdrop-filter":[{"backdrop-filter":["","none",rt,at]}],"backdrop-blur":[{"backdrop-blur":wt()}],"backdrop-brightness":[{"backdrop-brightness":[_t,rt,at]}],"backdrop-contrast":[{"backdrop-contrast":[_t,rt,at]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_t,rt,at]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_t,rt,at]}],"backdrop-invert":[{"backdrop-invert":["",_t,rt,at]}],"backdrop-opacity":[{"backdrop-opacity":[_t,rt,at]}],"backdrop-saturate":[{"backdrop-saturate":[_t,rt,at]}],"backdrop-sepia":[{"backdrop-sepia":["",_t,rt,at]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Q()}],"border-spacing-x":[{"border-spacing-x":Q()}],"border-spacing-y":[{"border-spacing-y":Q()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",rt,at]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_t,"initial",rt,at]}],ease:[{ease:["linear","initial",D,rt,at]}],delay:[{delay:[_t,rt,at]}],animate:[{animate:["none",Y,rt,at]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,rt,at]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:Mt()}],"rotate-x":[{"rotate-x":Mt()}],"rotate-y":[{"rotate-y":Mt()}],"rotate-z":[{"rotate-z":Mt()}],scale:[{scale:ke()}],"scale-x":[{"scale-x":ke()}],"scale-y":[{"scale-y":ke()}],"scale-z":[{"scale-z":ke()}],"scale-3d":["scale-3d"],skew:[{skew:Ze()}],"skew-x":[{"skew-x":Ze()}],"skew-y":[{"skew-y":Ze()}],transform:[{transform:[rt,at,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ie()}],"translate-x":[{"translate-x":Ie()}],"translate-y":[{"translate-y":Ie()}],"translate-z":[{"translate-z":Ie()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt,at]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt,at]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[_t,Cs,ya,ff]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},g6=Qv(b6);function _a(...o){return g6(R1(o))}const mi=j.forwardRef(({className:o,...e},i)=>I.jsx("div",{ref:i,className:_a("rounded-lg border bg-card text-card-foreground shadow-sm",o),...e}));mi.displayName="Card";const Ea=j.forwardRef(({className:o,...e},i)=>I.jsx("div",{ref:i,className:_a("flex flex-col space-y-1.5 p-6",o),...e}));Ea.displayName="CardHeader";const Aa=j.forwardRef(({className:o,...e},i)=>I.jsx("div",{ref:i,className:_a("text-2xl font-semibold leading-none tracking-tight",o),...e}));Aa.displayName="CardTitle";const Gs=j.forwardRef(({className:o,...e},i)=>I.jsx("div",{ref:i,className:_a("text-sm text-muted-foreground",o),...e}));Gs.displayName="CardDescription";const Oa=j.forwardRef(({className:o,...e},i)=>I.jsx("div",{ref:i,className:_a("p-6 pt-0",o),...e}));Oa.displayName="CardContent";const y6=j.forwardRef(({className:o,...e},i)=>I.jsx("div",{ref:i,className:_a("flex items-center p-6 pt-0",o),...e}));y6.displayName="CardFooter";var v6=Symbol.for("react.lazy"),Bl=Of[" use ".trim().toString()];function x6(o){return typeof o=="object"&&o!==null&&"then"in o}function G1(o){return o!=null&&typeof o=="object"&&"$$typeof"in o&&o.$$typeof===v6&&"_payload"in o&&x6(o._payload)}function w6(o){const e=E6(o),i=j.forwardRef((r,l)=>{let{children:c,...u}=r;G1(c)&&typeof Bl=="function"&&(c=Bl(c._payload));const h=j.Children.toArray(c),m=h.find(O6);if(m){const p=m.props.children,y=h.map(b=>b===m?j.Children.count(p)>1?j.Children.only(null):j.isValidElement(p)?p.props.children:null:b);return I.jsx(e,{...u,ref:l,children:j.isValidElement(p)?j.cloneElement(p,void 0,y):null})}return I.jsx(e,{...u,ref:l,children:c})});return i.displayName=`${o}.Slot`,i}var S6=w6("Slot");function E6(o){const e=j.forwardRef((i,r)=>{let{children:l,...c}=i;if(G1(l)&&typeof Bl=="function"&&(l=Bl(l._payload)),j.isValidElement(l)){const u=N6(l),h=_6(c,l.props);return l.type!==j.Fragment&&(h.ref=r?Ul(r,u):u),j.cloneElement(l,h)}return j.Children.count(l)>1?j.Children.only(null):null});return e.displayName=`${o}.SlotClone`,e}var A6=Symbol("radix.slottable");function O6(o){return j.isValidElement(o)&&typeof o.type=="function"&&"__radixId"in o.type&&o.type.__radixId===A6}function _6(o,e){const i={...e};for(const r in e){const l=o[r],c=e[r];/^on[A-Z]/.test(r)?l&&c?i[r]=(...h)=>{const m=c(...h);return l(...h),m}:l&&(i[r]=l):r==="style"?i[r]={...l,...c}:r==="className"&&(i[r]=[l,c].filter(Boolean).join(" "))}return{...o,...i}}function N6(o){let e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning;return i?o.ref:(e=Object.getOwnPropertyDescriptor(o,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning,i?o.props.ref:o.props.ref||o.ref)}const kp=o=>typeof o=="boolean"?`${o}`:o===0?"0":o,Ip=R1,T6=(o,e)=>i=>{var r;if(e?.variants==null)return Ip(o,i?.class,i?.className);const{variants:l,defaultVariants:c}=e,u=Object.keys(l).map(p=>{const y=i?.[p],b=c?.[p];if(y===null)return null;const x=kp(y)||kp(b);return l[p][x]}),h=i&&Object.entries(i).reduce((p,y)=>{let[b,x]=y;return x===void 0||(p[b]=x),p},{}),m=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:b,className:x,...w}=y;return Object.entries(w).every(S=>{let[k,C]=S;return Array.isArray(C)?C.includes({...c,...h}[k]):{...c,...h}[k]===C})?[...p,b,x]:p},[]);return Ip(o,u,m,i?.class,i?.className)},k6=T6("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),hi=j.forwardRef(({className:o,variant:e,size:i,asChild:r=!1,...l},c)=>{const u=r?S6:"button";return I.jsx(u,{className:_a(k6({variant:e,size:i,className:o})),ref:c,...l})});hi.displayName="Button";function I6(o){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e.appendChild(i),i.styleSheet?i.styleSheet.cssText=o:i.appendChild(document.createTextNode(o))}const C6=o=>{switch(o){case"success":return B6;case"info":return z6;case"warning":return D6;case"error":return U6;default:return null}},R6=Array(12).fill(0),M6=({visible:o,className:e})=>J.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":o},J.createElement("div",{className:"sonner-spinner"},R6.map((i,r)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),B6=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),D6=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),z6=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),U6=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),H6=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),L6=()=>{const[o,e]=J.useState(document.hidden);return J.useEffect(()=>{const i=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",i),()=>window.removeEventListener("visibilitychange",i)},[]),o};let Ef=1;class V6{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const i=this.subscribers.indexOf(e);this.subscribers.splice(i,1)}),this.publish=e=>{this.subscribers.forEach(i=>i(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var i;const{message:r,...l}=e,c=typeof e?.id=="number"||((i=e.id)==null?void 0:i.length)>0?e.id:Ef++,u=this.toasts.find(m=>m.id===c),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),u?this.toasts=this.toasts.map(m=>m.id===c?(this.publish({...m,...e,id:c,title:r}),{...m,...e,id:c,dismissible:h,title:r}):m):this.addToast({title:r,...l,dismissible:h,id:c}),c},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(i=>i({id:e,dismiss:!0})))):this.toasts.forEach(i=>{this.subscribers.forEach(r=>r({id:i.id,dismiss:!0}))}),e),this.message=(e,i)=>this.create({...i,message:e}),this.error=(e,i)=>this.create({...i,message:e,type:"error"}),this.success=(e,i)=>this.create({...i,type:"success",message:e}),this.info=(e,i)=>this.create({...i,type:"info",message:e}),this.warning=(e,i)=>this.create({...i,type:"warning",message:e}),this.loading=(e,i)=>this.create({...i,type:"loading",message:e}),this.promise=(e,i)=>{if(!i)return;let r;i.loading!==void 0&&(r=this.create({...i,promise:e,type:"loading",message:i.loading,description:typeof i.description!="function"?i.description:void 0}));const l=Promise.resolve(e instanceof Function?e():e);let c=r!==void 0,u;const h=l.then(async p=>{if(u=["resolve",p],J.isValidElement(p))c=!1,this.create({id:r,type:"default",message:p});else if(j6(p)&&!p.ok){c=!1;const b=typeof i.error=="function"?await i.error(`HTTP error! status: ${p.status}`):i.error,x=typeof i.description=="function"?await i.description(`HTTP error! status: ${p.status}`):i.description,S=typeof b=="object"&&!J.isValidElement(b)?b:{message:b};this.create({id:r,type:"error",description:x,...S})}else if(p instanceof Error){c=!1;const b=typeof i.error=="function"?await i.error(p):i.error,x=typeof i.description=="function"?await i.description(p):i.description,S=typeof b=="object"&&!J.isValidElement(b)?b:{message:b};this.create({id:r,type:"error",description:x,...S})}else if(i.success!==void 0){c=!1;const b=typeof i.success=="function"?await i.success(p):i.success,x=typeof i.description=="function"?await i.description(p):i.description,S=typeof b=="object"&&!J.isValidElement(b)?b:{message:b};this.create({id:r,type:"success",description:x,...S})}}).catch(async p=>{if(u=["reject",p],i.error!==void 0){c=!1;const y=typeof i.error=="function"?await i.error(p):i.error,b=typeof i.description=="function"?await i.description(p):i.description,w=typeof y=="object"&&!J.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:b,...w})}}).finally(()=>{c&&(this.dismiss(r),r=void 0),i.finally==null||i.finally.call(i)}),m=()=>new Promise((p,y)=>h.then(()=>u[0]==="reject"?y(u[1]):p(u[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:m}:Object.assign(r,{unwrap:m})},this.custom=(e,i)=>{const r=i?.id||Ef++;return this.create({jsx:e(r),id:r,...i}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ye=new V6,P6=(o,e)=>{const i=e?.id||Ef++;return Ye.addToast({title:o,...e,id:i}),i},j6=o=>o&&typeof o=="object"&&"ok"in o&&typeof o.ok=="boolean"&&"status"in o&&typeof o.status=="number",q6=P6,K6=()=>Ye.toasts,G6=()=>Ye.getActiveToasts(),gn=Object.assign(q6,{success:Ye.success,info:Ye.info,warning:Ye.warning,error:Ye.error,custom:Ye.custom,message:Ye.message,promise:Ye.promise,dismiss:Ye.dismiss,loading:Ye.loading},{getHistory:K6,getToasts:G6});I6("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function bl(o){return o.label!==void 0}const Y6=3,X6="24px",F6="16px",Cp=4e3,Z6=356,Q6=14,W6=45,J6=200;function Hn(...o){return o.filter(Boolean).join(" ")}function $6(o){const[e,i]=o.split("-"),r=[];return e&&r.push(e),i&&r.push(i),r}const t4=o=>{var e,i,r,l,c,u,h,m,p;const{invert:y,toast:b,unstyled:x,interacting:w,setHeights:S,visibleToasts:k,heights:C,index:D,toasts:Y,expanded:q,removeToast:W,defaultRichColors:$,closeButton:st,style:et,cancelButtonStyle:Q,actionButtonStyle:ut,className:Bt="",descriptionClassName:kt="",duration:yt,position:Ot,gap:Ht,expandByDefault:tt,classNames:A,icons:L,closeButtonAriaLabel:K="Close toast"}=o,[dt,bt]=J.useState(null),[N,H]=J.useState(null),[V,Z]=J.useState(!1),[nt,lt]=J.useState(!1),[ct,wt]=J.useState(!1),[Mt,ke]=J.useState(!1),[Ze,Ie]=J.useState(!1),[Ys,wn]=J.useState(0),[Mr,Na]=J.useState(0),Zi=J.useRef(b.duration||yt||Cp),Br=J.useRef(null),Qe=J.useRef(null),Dr=D===0,zr=D+1<=k,Ce=b.type,pi=b.dismissible!==!1,Re=b.className||"",Ll=b.descriptionClassName||"",Qi=J.useMemo(()=>C.findIndex(gt=>gt.toastId===b.id)||0,[C,b.id]),Xs=J.useMemo(()=>{var gt;return(gt=b.closeButton)!=null?gt:st},[b.closeButton,st]),Wi=J.useMemo(()=>b.duration||yt||Cp,[b.duration,yt]),Ur=J.useRef(0),Kn=J.useRef(0),Fs=J.useRef(0),bi=J.useRef(null),[Ji,Me]=Ot.split("-"),Sn=J.useMemo(()=>C.reduce((gt,Wt,pe)=>pe>=Qi?gt:gt+Wt.height,0),[C,Qi]),Ae=L6(),Vl=b.invert||y,Hr=Ce==="loading";Kn.current=J.useMemo(()=>Qi*Ht+Sn,[Qi,Sn]),J.useEffect(()=>{Zi.current=Wi},[Wi]),J.useEffect(()=>{Z(!0)},[]),J.useEffect(()=>{const gt=Qe.current;if(gt){const Wt=gt.getBoundingClientRect().height;return Na(Wt),S(pe=>[{toastId:b.id,height:Wt,position:b.position},...pe]),()=>S(pe=>pe.filter(Oe=>Oe.toastId!==b.id))}},[S,b.id]),J.useLayoutEffect(()=>{if(!V)return;const gt=Qe.current,Wt=gt.style.height;gt.style.height="auto";const pe=gt.getBoundingClientRect().height;gt.style.height=Wt,Na(pe),S(Oe=>Oe.find($t=>$t.toastId===b.id)?Oe.map($t=>$t.toastId===b.id?{...$t,height:pe}:$t):[{toastId:b.id,height:pe,position:b.position},...Oe])},[V,b.title,b.description,S,b.id,b.jsx,b.action,b.cancel]);const Rn=J.useCallback(()=>{lt(!0),wn(Kn.current),S(gt=>gt.filter(Wt=>Wt.toastId!==b.id)),setTimeout(()=>{W(b)},J6)},[b,W,S,Kn]);J.useEffect(()=>{if(b.promise&&Ce==="loading"||b.duration===1/0||b.type==="loading")return;let gt;return q||w||Ae?(()=>{if(Fs.current<Ur.current){const Oe=new Date().getTime()-Ur.current;Zi.current=Zi.current-Oe}Fs.current=new Date().getTime()})():(()=>{Zi.current!==1/0&&(Ur.current=new Date().getTime(),gt=setTimeout(()=>{b.onAutoClose==null||b.onAutoClose.call(b,b),Rn()},Zi.current))})(),()=>clearTimeout(gt)},[q,w,b,Ce,Ae,Rn]),J.useEffect(()=>{b.delete&&(Rn(),b.onDismiss==null||b.onDismiss.call(b,b))},[Rn,b.delete]);function Ta(){var gt;if(L?.loading){var Wt;return J.createElement("div",{className:Hn(A?.loader,b==null||(Wt=b.classNames)==null?void 0:Wt.loader,"sonner-loader"),"data-visible":Ce==="loading"},L.loading)}return J.createElement(M6,{className:Hn(A?.loader,b==null||(gt=b.classNames)==null?void 0:gt.loader),visible:Ce==="loading"})}const ka=b.icon||L?.[Ce]||C6(Ce);var $i,Mn;return J.createElement("li",{tabIndex:0,ref:Qe,className:Hn(Bt,Re,A?.toast,b==null||(e=b.classNames)==null?void 0:e.toast,A?.default,A?.[Ce],b==null||(i=b.classNames)==null?void 0:i[Ce]),"data-sonner-toast":"","data-rich-colors":($i=b.richColors)!=null?$i:$,"data-styled":!(b.jsx||b.unstyled||x),"data-mounted":V,"data-promise":!!b.promise,"data-swiped":Ze,"data-removed":nt,"data-visible":zr,"data-y-position":Ji,"data-x-position":Me,"data-index":D,"data-front":Dr,"data-swiping":ct,"data-dismissible":pi,"data-type":Ce,"data-invert":Vl,"data-swipe-out":Mt,"data-swipe-direction":N,"data-expanded":!!(q||tt&&V),"data-testid":b.testId,style:{"--index":D,"--toasts-before":D,"--z-index":Y.length-D,"--offset":`${nt?Ys:Kn.current}px`,"--initial-height":tt?"auto":`${Mr}px`,...et,...b.style},onDragEnd:()=>{wt(!1),bt(null),bi.current=null},onPointerDown:gt=>{gt.button!==2&&(Hr||!pi||(Br.current=new Date,wn(Kn.current),gt.target.setPointerCapture(gt.pointerId),gt.target.tagName!=="BUTTON"&&(wt(!0),bi.current={x:gt.clientX,y:gt.clientY})))},onPointerUp:()=>{var gt,Wt,pe;if(Mt||!pi)return;bi.current=null;const Oe=Number(((gt=Qe.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gi=Number(((Wt=Qe.current)==null?void 0:Wt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$t=new Date().getTime()-((pe=Br.current)==null?void 0:pe.getTime()),De=dt==="x"?Oe:gi,ta=Math.abs(De)/$t;if(Math.abs(De)>=W6||ta>.11){wn(Kn.current),b.onDismiss==null||b.onDismiss.call(b,b),H(dt==="x"?Oe>0?"right":"left":gi>0?"down":"up"),Rn(),ke(!0);return}else{var ze,Ue;(ze=Qe.current)==null||ze.style.setProperty("--swipe-amount-x","0px"),(Ue=Qe.current)==null||Ue.style.setProperty("--swipe-amount-y","0px")}Ie(!1),wt(!1),bt(null)},onPointerMove:gt=>{var Wt,pe,Oe;if(!bi.current||!pi||((Wt=window.getSelection())==null?void 0:Wt.toString().length)>0)return;const $t=gt.clientY-bi.current.y,De=gt.clientX-bi.current.x;var ta;const ze=(ta=o.swipeDirections)!=null?ta:$6(Ot);!dt&&(Math.abs(De)>1||Math.abs($t)>1)&&bt(Math.abs(De)>Math.abs($t)?"x":"y");let Ue={x:0,y:0};const Ia=En=>1/(1.5+Math.abs(En)/20);if(dt==="y"){if(ze.includes("top")||ze.includes("bottom"))if(ze.includes("top")&&$t<0||ze.includes("bottom")&&$t>0)Ue.y=$t;else{const En=$t*Ia($t);Ue.y=Math.abs(En)<Math.abs($t)?En:$t}}else if(dt==="x"&&(ze.includes("left")||ze.includes("right")))if(ze.includes("left")&&De<0||ze.includes("right")&&De>0)Ue.x=De;else{const En=De*Ia(De);Ue.x=Math.abs(En)<Math.abs(De)?En:De}(Math.abs(Ue.x)>0||Math.abs(Ue.y)>0)&&Ie(!0),(pe=Qe.current)==null||pe.style.setProperty("--swipe-amount-x",`${Ue.x}px`),(Oe=Qe.current)==null||Oe.style.setProperty("--swipe-amount-y",`${Ue.y}px`)}},Xs&&!b.jsx&&Ce!=="loading"?J.createElement("button",{"aria-label":K,"data-disabled":Hr,"data-close-button":!0,onClick:Hr||!pi?()=>{}:()=>{Rn(),b.onDismiss==null||b.onDismiss.call(b,b)},className:Hn(A?.closeButton,b==null||(r=b.classNames)==null?void 0:r.closeButton)},(Mn=L?.close)!=null?Mn:H6):null,(Ce||b.icon||b.promise)&&b.icon!==null&&(L?.[Ce]!==null||b.icon)?J.createElement("div",{"data-icon":"",className:Hn(A?.icon,b==null||(l=b.classNames)==null?void 0:l.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||Ta():null,b.type!=="loading"?ka:null):null,J.createElement("div",{"data-content":"",className:Hn(A?.content,b==null||(c=b.classNames)==null?void 0:c.content)},J.createElement("div",{"data-title":"",className:Hn(A?.title,b==null||(u=b.classNames)==null?void 0:u.title)},b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title),b.description?J.createElement("div",{"data-description":"",className:Hn(kt,Ll,A?.description,b==null||(h=b.classNames)==null?void 0:h.description)},typeof b.description=="function"?b.description():b.description):null),J.isValidElement(b.cancel)?b.cancel:b.cancel&&bl(b.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||Q,onClick:gt=>{bl(b.cancel)&&pi&&(b.cancel.onClick==null||b.cancel.onClick.call(b.cancel,gt),Rn())},className:Hn(A?.cancelButton,b==null||(m=b.classNames)==null?void 0:m.cancelButton)},b.cancel.label):null,J.isValidElement(b.action)?b.action:b.action&&bl(b.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||ut,onClick:gt=>{bl(b.action)&&(b.action.onClick==null||b.action.onClick.call(b.action,gt),!gt.defaultPrevented&&Rn())},className:Hn(A?.actionButton,b==null||(p=b.classNames)==null?void 0:p.actionButton)},b.action.label):null)};function Rp(){if(typeof window>"u"||typeof document>"u")return"ltr";const o=document.documentElement.getAttribute("dir");return o==="auto"||!o?window.getComputedStyle(document.documentElement).direction:o}function e4(o,e){const i={};return[o,e].forEach((r,l)=>{const c=l===1,u=c?"--mobile-offset":"--offset",h=c?F6:X6;function m(p){["top","right","bottom","left"].forEach(y=>{i[`${u}-${y}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?m(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?i[`${u}-${p}`]=h:i[`${u}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):m(h)}),i}const n4=J.forwardRef(function(e,i){const{id:r,invert:l,position:c="bottom-right",hotkey:u=["altKey","KeyT"],expand:h,closeButton:m,className:p,offset:y,mobileOffset:b,theme:x="light",richColors:w,duration:S,style:k,visibleToasts:C=Y6,toastOptions:D,dir:Y=Rp(),gap:q=Q6,icons:W,containerAriaLabel:$="Notifications"}=e,[st,et]=J.useState([]),Q=J.useMemo(()=>r?st.filter(V=>V.toasterId===r):st.filter(V=>!V.toasterId),[st,r]),ut=J.useMemo(()=>Array.from(new Set([c].concat(Q.filter(V=>V.position).map(V=>V.position)))),[Q,c]),[Bt,kt]=J.useState([]),[yt,Ot]=J.useState(!1),[Ht,tt]=J.useState(!1),[A,L]=J.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=J.useRef(null),dt=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),bt=J.useRef(null),N=J.useRef(!1),H=J.useCallback(V=>{et(Z=>{var nt;return(nt=Z.find(lt=>lt.id===V.id))!=null&&nt.delete||Ye.dismiss(V.id),Z.filter(({id:lt})=>lt!==V.id)})},[]);return J.useEffect(()=>Ye.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{et(Z=>Z.map(nt=>nt.id===V.id?{...nt,delete:!0}:nt))});return}setTimeout(()=>{tv.flushSync(()=>{et(Z=>{const nt=Z.findIndex(lt=>lt.id===V.id);return nt!==-1?[...Z.slice(0,nt),{...Z[nt],...V},...Z.slice(nt+1)]:[V,...Z]})})})}),[st]),J.useEffect(()=>{if(x!=="system"){L(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:Z})=>{L(Z?"dark":"light")})}catch{V.addListener(({matches:nt})=>{try{L(nt?"dark":"light")}catch(lt){console.error(lt)}})}},[x]),J.useEffect(()=>{st.length<=1&&Ot(!1)},[st]),J.useEffect(()=>{const V=Z=>{var nt;if(u.every(wt=>Z[wt]||Z.code===wt)){var ct;Ot(!0),(ct=K.current)==null||ct.focus()}Z.code==="Escape"&&(document.activeElement===K.current||(nt=K.current)!=null&&nt.contains(document.activeElement))&&Ot(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[u]),J.useEffect(()=>{if(K.current)return()=>{bt.current&&(bt.current.focus({preventScroll:!0}),bt.current=null,N.current=!1)}},[K.current]),J.createElement("section",{ref:i,"aria-label":`${$} ${dt}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ut.map((V,Z)=>{var nt;const[lt,ct]=V.split("-");return Q.length?J.createElement("ol",{key:V,dir:Y==="auto"?Rp():Y,tabIndex:-1,ref:K,className:p,"data-sonner-toaster":!0,"data-sonner-theme":A,"data-y-position":lt,"data-x-position":ct,style:{"--front-toast-height":`${((nt=Bt[0])==null?void 0:nt.height)||0}px`,"--width":`${Z6}px`,"--gap":`${q}px`,...k,...e4(y,b)},onBlur:wt=>{N.current&&!wt.currentTarget.contains(wt.relatedTarget)&&(N.current=!1,bt.current&&(bt.current.focus({preventScroll:!0}),bt.current=null))},onFocus:wt=>{wt.target instanceof HTMLElement&&wt.target.dataset.dismissible==="false"||N.current||(N.current=!0,bt.current=wt.relatedTarget)},onMouseEnter:()=>Ot(!0),onMouseMove:()=>Ot(!0),onMouseLeave:()=>{Ht||Ot(!1)},onDragEnd:()=>Ot(!1),onPointerDown:wt=>{wt.target instanceof HTMLElement&&wt.target.dataset.dismissible==="false"||tt(!0)},onPointerUp:()=>tt(!1)},Q.filter(wt=>!wt.position&&Z===0||wt.position===V).map((wt,Mt)=>{var ke,Ze;return J.createElement(t4,{key:wt.id,icons:W,index:Mt,toast:wt,defaultRichColors:w,duration:(ke=D?.duration)!=null?ke:S,className:D?.className,descriptionClassName:D?.descriptionClassName,invert:l,visibleToasts:C,closeButton:(Ze=D?.closeButton)!=null?Ze:m,interacting:Ht,position:V,style:D?.style,unstyled:D?.unstyled,classNames:D?.classNames,cancelButtonStyle:D?.cancelButtonStyle,actionButtonStyle:D?.actionButtonStyle,closeButtonAriaLabel:D?.closeButtonAriaLabel,removeToast:H,toasts:Q.filter(Ie=>Ie.position==wt.position),heights:Bt.filter(Ie=>Ie.position==wt.position),setHeights:kt,expandByDefault:h,gap:q,expanded:yt,swipeDirections:e.swipeDirections})})):null}))});function i4({wallet:o}){const[e,i]=j.useState(""),[r,l]=j.useState(""),[c,u]=j.useState([]),[h,m]=j.useState(!1),p=()=>{u([...c,{id:crypto.randomUUID(),name:"",value:""}])},y=w=>{u(c.filter(S=>S.id!==w))},b=(w,S,k)=>{u(c.map(C=>C.id===w?{...C,[S]:k}:C))},x=async()=>{if(!e.trim()){gn.error("Please enter a token ID");return}if(!r||isNaN(Number(r))||Number(r)<=0){gn.error("Please enter a valid amount");return}m(!0);try{const w=new Df(o),S=[2,"tokendemo"],k=Tn(kn(8)),C="self",D=[],Y=Array.from(new TextEncoder().encode(e));D.push(Y);const q=Number(r),W=new Array(8);for(let $=0;$<8;$++)W[$]=q>>$*8&255;D.push(W),c.forEach($=>{$.name.trim()&&$.value.trim()&&D.push(Array.from(new TextEncoder().encode(`${$.name}:${$.value}`)))}),await w.lock(D,S,k,C,!0,!0),gn.success(`Successfully created ${r} ${e} tokens!`,{description:`Script created with ${D.length} fields`}),i(""),l(""),u([])}catch(w){console.error("Error creating tokens:",w),gn.error("Failed to create tokens",{description:w instanceof Error?w.message:"Unknown error"})}finally{m(!1)}};return I.jsxs(mi,{className:"max-w-2xl mx-auto",children:[I.jsxs(Ea,{children:[I.jsx(Aa,{children:"Create Simple Tokens"}),I.jsx(Gs,{children:"Create new fungible tokens by specifying a token ID and amount. You can also add custom fields to define additional properties."})]}),I.jsxs(Oa,{className:"space-y-6",children:[I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{htmlFor:"tokenId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Token ID *"}),I.jsx("input",{id:"tokenId",type:"text",value:e,onChange:w=>i(w.target.value),placeholder:"e.g., Local Store Credits",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount *"}),I.jsx("input",{id:"amount",type:"number",value:r,onChange:w=>l(w.target.value),placeholder:"e.g., 10000",min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),c.length>0&&I.jsxs("div",{className:"space-y-3",children:[I.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Custom Fields"}),c.map(w=>I.jsxs("div",{className:"flex gap-2",children:[I.jsx("input",{type:"text",value:w.name,onChange:S=>b(w.id,"name",S.target.value),placeholder:"Field name",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"}),I.jsx("input",{type:"text",value:w.value,onChange:S=>b(w.id,"value",S.target.value),placeholder:"Field value",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"}),I.jsx(hi,{onClick:()=>y(w.id),variant:"outline",className:"px-3",children:"Remove"})]},w.id))]}),I.jsx(hi,{onClick:p,variant:"outline",className:"w-full",children:"+ Add Custom Field"})]}),I.jsx(hi,{onClick:x,disabled:h,className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:h?"Creating...":"Create Tokens"}),I.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[I.jsx("p",{children:I.jsx("strong",{children:"Example:"})}),I.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[I.jsx("li",{children:'Token ID: "Local Store Credits"'}),I.jsx("li",{children:"Amount: 10000"}),I.jsx("li",{children:'Custom Field: issuer = "My Local Store"'})]})]})]})]})}function a4({wallet:o}){const[e,i]=j.useState([]),[r,l]=j.useState(!0);j.useEffect(()=>{c()},[o]);const c=async()=>{l(!0);try{const h=localStorage.getItem("tokenBalances");i(h?JSON.parse(h):[])}catch(h){console.error("Error loading balances:",h),i([])}finally{l(!1)}},u=()=>{c()};return r?I.jsxs(mi,{className:"max-w-4xl mx-auto",children:[I.jsx(Ea,{children:I.jsx(Aa,{children:"My Token Wallet"})}),I.jsx(Oa,{children:I.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading balances..."})})]}):I.jsxs(mi,{className:"max-w-4xl mx-auto",children:[I.jsx(Ea,{children:I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsxs("div",{children:[I.jsx(Aa,{children:"My Token Wallet"}),I.jsx(Gs,{children:"View your token balances and holdings"})]}),I.jsx(hi,{onClick:u,variant:"outline",children:"Refresh"})]})}),I.jsx(Oa,{children:e.length===0?I.jsxs("div",{className:"text-center py-12",children:[I.jsx("div",{className:"text-gray-400 mb-2",children:I.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),I.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No tokens yet"}),I.jsx("p",{className:"text-gray-600",children:"Create some tokens or receive tokens from others to see them here."})]}):I.jsx("div",{className:"space-y-4",children:e.map((h,m)=>I.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:I.jsx("div",{className:"flex justify-between items-start",children:I.jsxs("div",{className:"flex-1",children:[I.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:h.tokenId}),I.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-1",children:h.amount.toLocaleString()}),h.customFields&&Object.keys(h.customFields).length>0&&I.jsxs("div",{className:"mt-3 space-y-1",children:[I.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Properties:"}),I.jsx("div",{className:"space-y-1",children:Object.entries(h.customFields).map(([p,y])=>I.jsxs("div",{className:"text-sm text-gray-600 flex",children:[I.jsxs("span",{className:"font-medium min-w-[100px]",children:[p,":"]}),I.jsx("span",{children:y})]},p))})]})]})})},m))})})]})}function r4({wallet:o}){const[e,i]=j.useState(""),[r,l]=j.useState(""),[c,u]=j.useState(""),[h,m]=j.useState(!1),p=async()=>{if(!e.trim()){gn.error("Please enter a token ID");return}if(!r||isNaN(Number(r))||Number(r)<=0){gn.error("Please enter a valid amount");return}if(!c.trim()){gn.error("Please enter a recipient identity");return}m(!0);try{const y=new Df(o),b=[2,"tokendemo"],x=crypto.getRandomValues(new Uint8Array(8)),w=Tn(Array.from(x)),S=[],k=Array.from(new TextEncoder().encode(e));S.push(k);const C=Number(r),D=new Array(8);for(let Y=0;Y<8;Y++)D[Y]=C>>Y*8&255;S.push(D),await y.lock(S,b,w,c,!1,!0),gn.success(`Successfully sent ${r} ${e} tokens!`,{description:`To: ${c.slice(0,10)}...`}),i(""),l(""),u("")}catch(y){console.error("Error sending tokens:",y),gn.error("Failed to send tokens",{description:y instanceof Error?y.message:"Unknown error"})}finally{m(!1)}};return I.jsxs(mi,{className:"max-w-2xl mx-auto",children:[I.jsxs(Ea,{children:[I.jsx(Aa,{children:"Send Tokens"}),I.jsx(Gs,{children:"Transfer tokens to another user by specifying their identity key."})]}),I.jsxs(Oa,{className:"space-y-6",children:[I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{htmlFor:"sendTokenId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Token ID *"}),I.jsx("input",{id:"sendTokenId",type:"text",value:e,onChange:y=>i(y.target.value),placeholder:"e.g., Local Store Credits",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"sendAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount *"}),I.jsx("input",{id:"sendAmount",type:"number",value:r,onChange:y=>l(y.target.value),placeholder:"e.g., 100",min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"recipient",className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipient Identity Key *"}),I.jsx("input",{id:"recipient",type:"text",value:c,onChange:y=>u(y.target.value),placeholder:"Enter recipient's identity key or search",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"}),I.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can search for users using the identity search feature (coming soon)"})]})]}),I.jsx(hi,{onClick:p,disabled:h,className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:h?"Sending...":"Send Tokens"}),I.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[I.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"How it works"}),I.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[I.jsx("li",{children:"Enter the token ID and amount you want to send"}),I.jsx("li",{children:"Provide the recipient's identity key"}),I.jsx("li",{children:"The transaction will be sent to their message box"}),I.jsx("li",{children:'They can accept the tokens in the "Receive Tokens" tab'})]})]})]})]})}function s4({wallet:o}){const[e,i]=j.useState([]),[r,l]=j.useState(!0),[c,u]=j.useState(null);j.useEffect(()=>{h()},[o]);const h=async()=>{l(!0);try{const b=localStorage.getItem("pendingTokens");i(b?JSON.parse(b):[])}catch(b){console.error("Error loading pending tokens:",b),i([])}finally{l(!1)}},m=async b=>{u(b.id);try{await new Df(o).unlock(b.protocolID,b.keyID,b.sender);const w=localStorage.getItem("tokenBalances"),S=w?JSON.parse(w):[],k=S.find(D=>D.tokenId===b.tokenId);k?k.amount+=b.amount:S.push({tokenId:b.tokenId,amount:b.amount}),localStorage.setItem("tokenBalances",JSON.stringify(S));const C=e.filter(D=>D.id!==b.id);i(C),localStorage.setItem("pendingTokens",JSON.stringify(C)),gn.success(`Accepted ${b.amount} ${b.tokenId} tokens!`)}catch(x){console.error("Error accepting tokens:",x),gn.error("Failed to accept tokens",{description:x instanceof Error?x.message:"Unknown error"})}finally{u(null)}},p=b=>{const x=e.filter(w=>w.id!==b.id);i(x),localStorage.setItem("pendingTokens",JSON.stringify(x)),gn.info("Token transfer rejected")},y=()=>{h()};return r?I.jsxs(mi,{className:"max-w-4xl mx-auto",children:[I.jsx(Ea,{children:I.jsx(Aa,{children:"Receive Tokens"})}),I.jsx(Oa,{children:I.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading pending tokens..."})})]}):I.jsxs(mi,{className:"max-w-4xl mx-auto",children:[I.jsx(Ea,{children:I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsxs("div",{children:[I.jsx(Aa,{children:"Receive Tokens"}),I.jsx(Gs,{children:"Accept or reject tokens sent to you by others"})]}),I.jsx(hi,{onClick:y,variant:"outline",children:"Refresh"})]})}),I.jsx(Oa,{children:e.length===0?I.jsxs("div",{className:"text-center py-12",children:[I.jsx("div",{className:"text-gray-400 mb-2",children:I.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76"})})}),I.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No pending tokens"}),I.jsx("p",{className:"text-gray-600",children:"When someone sends you tokens, they will appear here for you to accept."})]}):I.jsx("div",{className:"space-y-4",children:e.map(b=>I.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:I.jsxs("div",{className:"flex justify-between items-start",children:[I.jsxs("div",{className:"flex-1",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[I.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Incoming"}),I.jsx("span",{className:"text-sm text-gray-500",children:new Date(b.timestamp).toLocaleString()})]}),I.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:b.tokenId}),I.jsxs("p",{className:"text-xl font-bold text-purple-600 mt-1",children:["+",b.amount.toLocaleString()]}),I.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["From: ",I.jsxs("span",{className:"font-mono",children:[b.sender.slice(0,20),"..."]})]})]}),I.jsxs("div",{className:"flex gap-2 ml-4",children:[I.jsx(hi,{onClick:()=>m(b),disabled:c===b.id,className:"bg-green-600 hover:bg-green-700 text-white",children:c===b.id?"Accepting...":"Accept"}),I.jsx(hi,{onClick:()=>p(b),disabled:c===b.id,variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",children:"Reject"})]})]})},b.id))})})]})}function o4(){const{wallet:o,isInitialized:e,error:i}=q3(),[r,l]=j.useState("create");return e?i?I.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:I.jsxs(mi,{className:"max-w-md w-full p-6",children:[I.jsx("h2",{className:"text-xl font-semibold mb-4 text-red-600",children:"Wallet Error"}),I.jsx("p",{className:"text-gray-700",children:i}),I.jsx("p",{className:"text-gray-600 mt-4",children:"Please install a compatible BSV wallet (e.g., Panda Wallet) and refresh the page."})]})}):I.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 p-4",children:I.jsxs("div",{className:"max-w-6xl mx-auto py-8",children:[I.jsxs("div",{className:"text-center mb-8",children:[I.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"BSV Token Demo"}),I.jsx("p",{className:"text-gray-600",children:"Create, transfer, and manage tokens on the BSV blockchain"})]}),I.jsxs(A1,{value:r,onValueChange:l,className:"w-full",children:[I.jsxs(_1,{className:"flex justify-center space-x-2 mb-6 bg-white rounded-lg p-1 shadow-sm",children:[I.jsx(Ds,{value:"create",className:"px-6 py-2 rounded-md transition-colors data-[state=active]:bg-purple-600 data-[state=active]:text-white data-[state=inactive]:text-gray-700 data-[state=inactive]:hover:bg-gray-100",children:"Create Tokens"}),I.jsx(Ds,{value:"wallet",className:"px-6 py-2 rounded-md transition-colors data-[state=active]:bg-purple-600 data-[state=active]:text-white data-[state=inactive]:text-gray-700 data-[state=inactive]:hover:bg-gray-100",children:"My Wallet"}),I.jsx(Ds,{value:"send",className:"px-6 py-2 rounded-md transition-colors data-[state=active]:bg-purple-600 data-[state=active]:text-white data-[state=inactive]:text-gray-700 data-[state=inactive]:hover:bg-gray-100",children:"Send Tokens"}),I.jsx(Ds,{value:"receive",className:"px-6 py-2 rounded-md transition-colors data-[state=active]:bg-purple-600 data-[state=active]:text-white data-[state=inactive]:text-gray-700 data-[state=inactive]:hover:bg-gray-100",children:"Receive Tokens"})]}),I.jsx(zs,{value:"create",children:I.jsx(i4,{wallet:o})}),I.jsx(zs,{value:"wallet",children:I.jsx(a4,{wallet:o})}),I.jsx(zs,{value:"send",children:I.jsx(r4,{wallet:o})}),I.jsx(zs,{value:"receive",children:I.jsx(s4,{wallet:o})})]})]})}):I.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:I.jsxs(mi,{className:"max-w-md w-full p-6",children:[I.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Initializing Wallet..."}),I.jsx("p",{className:"text-gray-600",children:"Please wait while we connect to your BSV wallet."})]})})}function l4(){return I.jsxs(j3,{children:[I.jsx(o4,{}),I.jsx(n4,{position:"top-right",richColors:!0})]})}dy.createRoot(document.getElementById("root")).render(I.jsx(j.StrictMode,{children:I.jsx(l4,{})}));
